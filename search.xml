<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>æ¬ç –å¸¸ç”¨çš„ shell ç‰‡æ®µè®°å½•</title>
    <url>/2021-07-25-shell-snippet.html</url>
    <content><![CDATA[<p>å¶ç„¶é—´çœ‹åˆ°äº† <a href="https://izsk.me/"><strong>Z.S.K.â€™s Records</strong></a> å¤§ä½¬çš„ä¸€ç¯‡åšå®¢ ã€Š<a href="https://izsk.me/2021/03/21/shell-funny-snippet/">æœ‰è¶£çš„ Shell Snippet</a>ã€‹ï¼Œçªå‘å¥‡æƒ³ä¹Ÿå‡†å¤‡å†™ç¯‡æ–‡ç« æ¥è®°å½•ä¸€ä¸‹å¸¸ç”¨çš„ä¸€äº› shell ä»£ç ã€‚</p>
<h2 id="Bash"><a href="#Bash" class="headerlink" title="Bash"></a>Bash</h2><h3 id="å±•å¼€"><a href="#å±•å¼€" class="headerlink" title="{} å±•å¼€"></a>{} å±•å¼€</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> &#123;hack,build&#125;</span><br><span class="line">hack build</span><br></pre></td></tr></table></figure>

<h3 id="å˜é‡æ›¿æ¢"><a href="#å˜é‡æ›¿æ¢" class="headerlink" title="å˜é‡æ›¿æ¢"></a>å˜é‡æ›¿æ¢</h3><blockquote>
<p><a href="http://cn.linux.vbird.org/linux_basic/0320bash_2.php#variable_other">http://cn.linux.vbird.org/linux_basic&#x2F;0320bash_2.php#variable_other</a></p>
<p>æˆ‘ä»¬å°†è¿™éƒ¨ä»½ä½œä¸ªæ€»ç»“è¯´æ˜ä¸€ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>å˜é‡é…ç½®æ–¹å¼</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>${å˜é‡#å…³é”®è¯} ${å˜é‡##å…³é”®è¯}</td>
<td>è‹¥å˜é‡å†…å®¹ä»å¤´å¼€å§‹çš„æ•°æ®ç¬¦åˆã€å…³é”®è¯ã€ï¼Œåˆ™å°†ç¬¦åˆçš„æœ€çŸ­æ•°æ®åˆ é™¤ è‹¥å˜é‡å†…å®¹ä»å¤´å¼€å§‹çš„æ•°æ®ç¬¦åˆã€å…³é”®è¯ã€ï¼Œåˆ™å°†ç¬¦åˆçš„æœ€é•¿æ•°æ®åˆ é™¤</td>
</tr>
<tr>
<td>${å˜é‡%å…³é”®è¯} ${å˜é‡ %% å…³é”®è¯}</td>
<td>è‹¥å˜é‡å†…å®¹ä»å°¾å‘å‰çš„æ•°æ®ç¬¦åˆã€å…³é”®è¯ã€ï¼Œåˆ™å°†ç¬¦åˆçš„æœ€çŸ­æ•°æ®åˆ é™¤ è‹¥å˜é‡å†…å®¹ä»å°¾å‘å‰çš„æ•°æ®ç¬¦åˆã€å…³é”®è¯ã€ï¼Œåˆ™å°†ç¬¦åˆçš„æœ€é•¿æ•°æ®åˆ é™¤</td>
</tr>
<tr>
<td>${å˜é‡&#x2F;æ—§å­—ç¬¦ä¸²&#x2F;æ–°å­—ç¬¦ä¸²} ${å˜é‡&#x2F;&#x2F;æ—§å­—ç¬¦ä¸²&#x2F;æ–°å­—ç¬¦ä¸²}</td>
<td>è‹¥å˜é‡å†…å®¹ç¬¦åˆã€æ—§å­—ç¬¦ä¸²ã€åˆ™ã€ç¬¬ä¸€ä¸ªæ—§å­—ç¬¦ä¸²ä¼šè¢«æ–°å­—ç¬¦ä¸²å–ä»£ã€ è‹¥å˜é‡å†…å®¹ç¬¦åˆã€æ—§å­—ç¬¦ä¸²ã€åˆ™ã€å…¨éƒ¨çš„æ—§å­—ç¬¦ä¸²ä¼šè¢«æ–°å­—ç¬¦ä¸²å–ä»£ã€</td>
</tr>
</tbody></table>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ image=<span class="string">&quot;library/nginx:1.19&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¯”å¦‚è¦è·å–é•œåƒçš„ tag å¸¸ç”¨çš„æ˜¯ echo ç„¶å awk/cut çš„æ–¹å¼</span></span><br><span class="line"></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$&#123;image&#125;</span> | awk -F <span class="string">&#x27;:&#x27;</span> <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> æ–¹å¼</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯ä»¥ç›´æ¥ä½¿ç”¨ bash å†…ç½®çš„å˜é‡æ›¿æ¢åŠŸèƒ½ï¼Œæˆªå–ç‰¹å®šå­—ç¬¦ä¸²</span></span><br><span class="line">$ image_name=<span class="variable">$&#123;image%%:*&#125;</span></span><br><span class="line">$ image_tag=<span class="variable">$&#123;image##*:&#125;</span></span><br><span class="line">$ image_repo=<span class="variable">$&#123;image%%/*&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="å˜é‡é…ç½®æ–¹å¼"><a href="#å˜é‡é…ç½®æ–¹å¼" class="headerlink" title="å˜é‡é…ç½®æ–¹å¼"></a>å˜é‡é…ç½®æ–¹å¼</h3><table>
<thead>
<tr>
<th>å˜é‡é…ç½®æ–¹å¼</th>
<th>str æ²¡æœ‰é…ç½®</th>
<th>str ä¸ºç©ºå­—ç¬¦ä¸²</th>
<th>str å·²é…ç½®éä¸ºç©ºå­—ç¬¦ä¸²</th>
</tr>
</thead>
<tbody><tr>
<td>var&#x3D;${str-expr}</td>
<td>var&#x3D;expr</td>
<td>var&#x3D;</td>
<td>var&#x3D;$str</td>
</tr>
<tr>
<td>var&#x3D;${str:-expr}</td>
<td>var&#x3D;expr</td>
<td>var&#x3D;expr</td>
<td>var&#x3D;$str</td>
</tr>
<tr>
<td>var&#x3D;${str+expr}</td>
<td>var&#x3D;</td>
<td>var&#x3D;expr</td>
<td>var&#x3D;expr</td>
</tr>
<tr>
<td>var&#x3D;${str:+expr}</td>
<td>var&#x3D;</td>
<td>var&#x3D;</td>
<td>var&#x3D;expr</td>
</tr>
<tr>
<td>var&#x3D;${str&#x3D;expr}</td>
<td>str&#x3D;expr var&#x3D;expr</td>
<td>str ä¸å˜ var&#x3D;</td>
<td>str ä¸å˜ var&#x3D;$str</td>
</tr>
<tr>
<td>var&#x3D;${str:&#x3D;expr}</td>
<td>str&#x3D;expr var&#x3D;expr</td>
<td>str&#x3D;expr var&#x3D;expr</td>
<td>str ä¸å˜ var&#x3D;$str</td>
</tr>
<tr>
<td>var&#x3D;${str?expr}</td>
<td>expr è¾“å‡ºè‡³ stderr</td>
<td>var&#x3D;</td>
<td>var&#x3D;$str</td>
</tr>
<tr>
<td>var&#x3D;${str:?expr}</td>
<td>expr è¾“å‡ºè‡³ stderr</td>
<td>expr è¾“å‡ºè‡³ stderr</td>
<td>var&#x3D;$str</td>
</tr>
</tbody></table>
<h3 id="åˆ¤æ–­å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«å­ä¸²"><a href="#åˆ¤æ–­å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«å­ä¸²" class="headerlink" title="åˆ¤æ–­å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«å­ä¸²"></a>åˆ¤æ–­å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«å­ä¸²</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é€šè¿‡ ** åŒ¹é…</span></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$&#123;var&#125;</span>&quot;</span> == *<span class="string">&quot;<span class="variable">$&#123;sub_string&#125;</span>&quot;</span>* ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">printf</span> <span class="string">&#x27;%s\n&#x27;</span> <span class="string">&quot;sub_string is in var.&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é€šè¿‡ bash å†…ç½®çš„ =~ åˆ¤æ–­</span></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$&#123;sub_string&#125;</span>&quot;</span> =~ <span class="string">&quot;<span class="variable">$&#123;var&#125;</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">printf</span> <span class="string">&#x27;%s\n&#x27;</span> <span class="string">&quot;sub_string is in var.&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<h2 id="install"><a href="#install" class="headerlink" title="install"></a>install</h2><h3 id="å®‰è£…-docker-ce"><a href="#å®‰è£…-docker-ce" class="headerlink" title="å®‰è£… docker-ce"></a>å®‰è£… docker-ce</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ curl -fsSL https://get.docker.com -o get-docker.sh</span><br><span class="line">$ bash get-docker.sh --mirror Aliyun</span><br></pre></td></tr></table></figure>

<p>å¦å¤–å¯é€šè¿‡ä¼ å…¥ DRY_RUN çš„å‚æ•°æ¥è¾“å‡ºé™…ä¼šæ‰§è¡Œçš„å†…å®¹ï¼Œè¿™ä¸ªè¾“å‡ºçš„å†…å®¹å¯ä»¥ç”¨æ¥é…ç½® docker-ce çš„æºï¼Œè€Œä¸å®‰è£… dockerã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ DRY_RUN=1 sh ./get-docker.sh --mirror Aliyun &gt; install.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># Executing docker install script, commit: 7cae5f8b0decc17d6571f9f52eb840fbc13b2737</span></span><br><span class="line">apt-get update -qq &gt;/dev/null</span><br><span class="line">DEBIAN_FRONTEND=noninteractive apt-get install -y -qq apt-transport-https ca-certificates curl &gt;/dev/null</span><br><span class="line">curl -fsSL <span class="string">&quot;https://mirrors.aliyun.com/docker-ce/linux/debian/gpg&quot;</span> | apt-key add -qq - &gt;/dev/null</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;deb [arch=amd64] https://mirrors.aliyun.com/docker-ce/linux/debian buster stable&quot;</span> &gt; /etc/apt/sources.list.d/docker.list</span><br><span class="line">apt-get update -qq &gt;/dev/null</span><br><span class="line">apt-get install -y -qq --no-install-recommends docker-ce &gt;/dev/null</span><br><span class="line">DEBIAN_FRONTEND=noninteractive apt-get install -y -qq docker-ce-rootless-extras &gt;/dev/null</span><br></pre></td></tr></table></figure>

<h3 id="å®‰è£…-helm"><a href="#å®‰è£…-helm" class="headerlink" title="å®‰è£… helm"></a>å®‰è£… helm</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ curl https://raw.githubusercontent.com/helm/helm/master/scripts/get-helm-3 | bash</span><br></pre></td></tr></table></figure>

<h3 id="å®‰è£…-docker-compose"><a href="#å®‰è£…-docker-compose" class="headerlink" title="å®‰è£… docker-compose"></a>å®‰è£… docker-compose</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ curl -L <span class="string">&quot;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-<span class="subst">$(uname -s)</span>-<span class="subst">$(uname -m)</span>&quot;</span> -o /usr/local/bin/docker-compose</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">chmod</span> +x /usr/local/bin/docker-compose</span><br></pre></td></tr></table></figure>

<h2 id="sed-grep-awk"><a href="#sed-grep-awk" class="headerlink" title="sed&#x2F;grep&#x2F;awk"></a>sed&#x2F;grep&#x2F;awk</h2><h3 id="åŒ¹é…è¡Œçš„ä¸‹ä¸€è¡Œæ’å…¥"><a href="#åŒ¹é…è¡Œçš„ä¸‹ä¸€è¡Œæ’å…¥" class="headerlink" title="åŒ¹é…è¡Œçš„ä¸‹ä¸€è¡Œæ’å…¥"></a>åŒ¹é…è¡Œçš„ä¸‹ä¸€è¡Œæ’å…¥</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sed -i <span class="string">&quot;/kube-node/a <span class="variable">$&#123;ip&#125;</span>&quot;</span> <span class="built_in">test</span></span><br></pre></td></tr></table></figure>

<h3 id="è¾“å‡ºä¸¤ä¸ªåŒ¹é…è¡Œä¹‹é—´çš„å†…å®¹"><a href="#è¾“å‡ºä¸¤ä¸ªåŒ¹é…è¡Œä¹‹é—´çš„å†…å®¹" class="headerlink" title="è¾“å‡ºä¸¤ä¸ªåŒ¹é…è¡Œä¹‹é—´çš„å†…å®¹"></a>è¾“å‡ºä¸¤ä¸ªåŒ¹é…è¡Œä¹‹é—´çš„å†…å®¹</h3><p>åœ¨ä¸ä½¿ç”¨ yq æˆ–è€… jq çš„æƒ…å†µä¸‹ï¼Œéœ€è¦è¾“å‡º <code>downloads</code> åˆ—è¡¨ä¸­çš„æ‰€æœ‰å†…å®¹ï¼Œå³ <code>download:</code> å’Œ <code>download_defaults: </code> ä¹‹é—´çš„å†…å®¹</p>
<ul>
<li><a href="https://github.com/kubernetes-sigs/kubespray/blob/master/roles/download/defaults/main.yml">download.yml</a></li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">dashboard_image_repo:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; docker_image_repo &#125;&#125;</span>/kubernetesui/dashboard-<span class="template-variable">&#123;&#123; image_arch &#125;&#125;</span>&quot;</span></span><br><span class="line"><span class="attr">dashboard_image_tag:</span> <span class="string">&quot;v2.2.0&quot;</span></span><br><span class="line"><span class="attr">dashboard_metrics_scraper_repo:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; docker_image_repo &#125;&#125;</span>/kubernetesui/metrics-scraper&quot;</span></span><br><span class="line"><span class="attr">dashboard_metrics_scraper_tag:</span> <span class="string">&quot;v1.0.6&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">downloads:</span></span><br><span class="line">  <span class="attr">dashboard:</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; dashboard_enabled &#125;&#125;</span>&quot;</span></span><br><span class="line">    <span class="attr">container:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">repo:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; dashboard_image_repo &#125;&#125;</span>&quot;</span></span><br><span class="line">    <span class="attr">tag:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; dashboard_image_tag &#125;&#125;</span>&quot;</span></span><br><span class="line">    <span class="attr">sha256:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; dashboard_digest_checksum|default(None) &#125;&#125;</span>&quot;</span></span><br><span class="line">    <span class="attr">groups:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">kube_control_plane</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">dashboard_metrics_scrapper:</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; dashboard_enabled &#125;&#125;</span>&quot;</span></span><br><span class="line">    <span class="attr">container:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">repo:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; dashboard_metrics_scraper_repo &#125;&#125;</span>&quot;</span></span><br><span class="line">    <span class="attr">tag:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; dashboard_metrics_scraper_tag &#125;&#125;</span>&quot;</span></span><br><span class="line">    <span class="attr">sha256:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; dashboard_digest_checksum|default(None) &#125;&#125;</span>&quot;</span></span><br><span class="line">    <span class="attr">groups:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">kube_control_plane</span></span><br><span class="line"></span><br><span class="line"><span class="attr">download_defaults:</span></span><br><span class="line">  <span class="attr">container:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">file:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">None</span></span><br><span class="line">  <span class="attr">tag:</span> <span class="string">None</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">dest:</span> <span class="string">None</span></span><br><span class="line">  <span class="attr">version:</span> <span class="string">None</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">None</span></span><br></pre></td></tr></table></figure>

<p>å¯ä½¿ç”¨ sed çš„æ–¹å¼è¿›è¡ŒåŒ¹é…è¾“å‡º <code>sed -n &#39;/$VAR1/,/$VAR2/p&#39;</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sed -n <span class="string">&#x27;/^downloads:/,/download_defaults:/p&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="å¥‡å¶è¡Œåˆå¹¶"><a href="#å¥‡å¶è¡Œåˆå¹¶" class="headerlink" title="å¥‡å¶è¡Œåˆå¹¶"></a>å¥‡å¶è¡Œåˆå¹¶</h3><p>æ¥ç€ä¸Šä¸€ä¸ªé—®é¢˜ï¼Œé€šè¿‡ <code>sed -n &quot;s/repo: //p;s/tag: //p&quot;</code> åŒ¹é…å‡ºé•œåƒçš„ repo å’Œ tagï¼Œä½†ä¸€ä¸ªå®Œæ•´çš„é•œåƒçš„æ ¼å¼æ˜¯ <code>repo:tag</code>ï¼Œå› æ­¤éœ€è¦å°† repo å’Œ tag è¡Œè¿›è¡Œåˆå¹¶ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">repo:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; dashboard_image_repo &#125;&#125;</span>&quot;</span></span><br><span class="line"><span class="attr">tag:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; dashboard_image_tag &#125;&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">repo:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; dashboard_metrics_scraper_repo &#125;&#125;</span>&quot;</span></span><br><span class="line"><span class="attr">tag:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; dashboard_metrics_scraper_tag &#125;&#125;</span>&quot;</span></span><br></pre></td></tr></table></figure>

<p>å¯ä½¿ç”¨ <code>sed &#39;N;s#\n# #g&#39;</code> è¿›è¡Œå¥‡å¶è¡Œåˆå¹¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sed -n <span class="string">&#x27;/^downloads:/,/download_defaults:/p&#x27;</span> <span class="variable">$&#123;REPO_ROOT_DIR&#125;</span>/<span class="variable">$&#123;DOWNLOAD_YML&#125;</span> \</span><br><span class="line">| sed -n <span class="string">&quot;s/repo: //p;s/tag: //p&quot;</span> | <span class="built_in">tr</span> -d <span class="string">&#x27; &#x27;</span> | sed <span class="string">&#x27;s/&#123;&#123;/$&#123;/g;s/&#125;&#125;/&#125;/g&#x27;</span> \</span><br><span class="line">| sed <span class="string">&#x27;N;s#\n# #g&#x27;</span> | <span class="built_in">tr</span> <span class="string">&#x27; &#x27;</span> <span class="string">&#x27;:&#x27;</span> | sed <span class="string">&#x27;s/^/echo /g&#x27;</span> &gt;&gt; <span class="variable">$&#123;TEMP_DIR&#125;</span>/generate.sh</span><br></pre></td></tr></table></figure>

<h3 id="å»é™¤æ¢è¡Œç¬¦"><a href="#å»é™¤æ¢è¡Œç¬¦" class="headerlink" title="å»é™¤æ¢è¡Œç¬¦"></a>å»é™¤æ¢è¡Œç¬¦</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">$</span> <span class="string">sed</span> <span class="string">-i</span> <span class="string">&#x27;:a;N;$!ba;s/\n/ /g&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="ç»Ÿè®¡åŒ¹é…è¡Œè¡Œæ•°"><a href="#ç»Ÿè®¡åŒ¹é…è¡Œè¡Œæ•°" class="headerlink" title="ç»Ÿè®¡åŒ¹é…è¡Œè¡Œæ•°"></a>ç»Ÿè®¡åŒ¹é…è¡Œè¡Œæ•°</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ lsof -i | grep sshd | <span class="built_in">wc</span> -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># grep é€šè¿‡ -c å‚æ•°å³å¯ç»Ÿè®¡åŒ¹é…è¡Œï¼Œä¸éœ€è¦ä½¿ç”¨ wc æ¥ç»Ÿè®¡</span></span><br><span class="line">$ lsof -i | grep -c sshd</span><br></pre></td></tr></table></figure>

<h3 id="åŒ¹é…-IPv4-åœ°å€"><a href="#åŒ¹é…-IPv4-åœ°å€" class="headerlink" title="åŒ¹é… IPv4 åœ°å€"></a>åŒ¹é… IPv4 åœ°å€</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ egrep --only-matching -E <span class="string">&#x27;([[:digit:]]&#123;1,3&#125;\.)&#123;3&#125;[[:digit:]]&#123;1,3&#125;&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="ç»Ÿè®¡-nginx-æ—¥å¿—åŒ-IP-è®¿é—®æ¬¡æ•°å¹¶æ’åº"><a href="#ç»Ÿè®¡-nginx-æ—¥å¿—åŒ-IP-è®¿é—®æ¬¡æ•°å¹¶æ’åº" class="headerlink" title="ç»Ÿè®¡ nginx æ—¥å¿—åŒ IP è®¿é—®æ¬¡æ•°å¹¶æ’åº"></a>ç»Ÿè®¡ nginx æ—¥å¿—åŒ IP è®¿é—®æ¬¡æ•°å¹¶æ’åº</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> access.log | awk <span class="string">&#x27;&#123;d[$1]++&#125; END &#123;for (i in d) print d[i],i&#125;&#x27;</span> | <span class="built_in">sort</span> -nr | <span class="built_in">head</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># d æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œä»¥$1 ç¬¬ä¸€åˆ—ä½œä¸ºkeyï¼Œvalueæ¯æ¬¡ç´¯åŠ </span></span><br><span class="line"><span class="comment"># END æŒ‡å¤„ç†å®Œæ‰€æœ‰è¡Œï¼Œå†æ‰§è¡Œåé¢çš„é€»è¾‘</span></span><br><span class="line"><span class="comment"># for(i in d)éå†då¹¶æ‰“å°keyå’Œvalue</span></span><br></pre></td></tr></table></figure>

<h3 id="ç»Ÿè®¡-TCP-è¿æ¥æƒ…å†µ"><a href="#ç»Ÿè®¡-TCP-è¿æ¥æƒ…å†µ" class="headerlink" title="ç»Ÿè®¡ TCP è¿æ¥æƒ…å†µ"></a>ç»Ÿè®¡ TCP è¿æ¥æƒ…å†µ</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ss -nat | awk <span class="string">&#x27;NR&gt;1 &#123;d[$1]++&#125; END &#123;for (i in d) print d[i],i&#125;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># NR&gt;1 å»é™¤ç¬¬ä¸€è¡Œ</span></span><br><span class="line"><span class="comment"># &#123;d[$1]++&#125; å¯¹ç¬¬ä¸€åˆ—å…ƒç´ è¿›è¡Œç´¯åŠ è®¡æ•°</span></span><br><span class="line"><span class="comment"># &#123;for (i in d) print d[i],i&#125; æ‰“å°å‡ºæ•°ç»„çš„å…ƒç´ å’Œå‡ºç°çš„æ¬¡æ•°</span></span><br></pre></td></tr></table></figure>

<h2 id="docker"><a href="#docker" class="headerlink" title="docker"></a>docker</h2><h3 id="å°†é•œåƒæ„å»ºåˆ°æœ¬åœ°ç›®å½•"><a href="#å°†é•œåƒæ„å»ºåˆ°æœ¬åœ°ç›®å½•" class="headerlink" title="å°†é•œåƒæ„å»ºåˆ°æœ¬åœ°ç›®å½•"></a>å°†é•œåƒæ„å»ºåˆ°æœ¬åœ°ç›®å½•</h3><p>å’Œ <code>FROM scratch</code> æ­é…èµ·æ¥ä½¿ç”¨ï¼Œå°±å¯ä»¥å°†æ„å»ºäº§ç‰© build åˆ°æœ¬åœ°</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ DOCKER_BUILDKIT=1 docker build -o <span class="built_in">type</span>=<span class="built_in">local</span>,dest=<span class="variable">$PWD</span> -f Dockerfile .</span><br></pre></td></tr></table></figure>

<p>æ¯”å¦‚ä½¿ç”¨ Dockerfile æ„å»º skopeo é™æ€é“¾æ¥æ–‡ä»¶</p>
<ul>
<li>Dockerfile</li>
</ul>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FROM</span> nixos/nix:<span class="number">2.3</span>.<span class="number">11</span> as builder</span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /build</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> . .</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> nix build -f nix</span></span><br><span class="line"><span class="keyword">FROM</span> scratch</span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> --from=builder /build/result/bin/skopeo /skopeo</span></span><br></pre></td></tr></table></figure>

<ul>
<li>build</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">DOCKER_BUILDKIT=1 docker build -o <span class="built_in">type</span>=<span class="built_in">local</span>,dest=<span class="variable">$PWD</span> .</span><br></pre></td></tr></table></figure>

<h3 id="å°†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹æ„å»ºæˆä¸€ä¸ªé•œåƒ"><a href="#å°†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹æ„å»ºæˆä¸€ä¸ªé•œåƒ" class="headerlink" title="å°†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹æ„å»ºæˆä¸€ä¸ªé•œåƒ"></a>å°†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹æ„å»ºæˆä¸€ä¸ªé•œåƒ</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">&#x27;FROM scratch\nCOPY . .&#x27;</span> | docker build -t files:tag -f - .</span><br></pre></td></tr></table></figure>

<p>æ„å»ºå¥½ä¹‹åå°±æŠŠå®ƒ push åˆ°ä¸€ä¸ª registry ä¸­ï¼Œå¦ä¸€ä¸ªäººåŒæ ·é€šè¿‡ docker build å°†è¯¥æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ° ğŸ˜‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;FROM files:tag&#x27;</span> | DOCKER_BUILDKIT=1 docker build -o <span class="built_in">type</span>=<span class="built_in">local</span>,dest=<span class="variable">$PWD</span> -f - /dev/null</span><br></pre></td></tr></table></figure>

<h2 id="kubectl"><a href="#kubectl" class="headerlink" title="kubectl"></a>kubectl</h2><ul>
<li>è·å–é›†ç¾¤ä¸­æ‰€æœ‰ pod è¿è¡Œéœ€è¦çš„é•œåƒ</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ kubectl get pods -A -o=custom-columns=<span class="string">&#x27;IMAGE:spec.containers[*].image&#x27;</span> | <span class="built_in">tr</span> <span class="string">&#x27;,&#x27;</span> <span class="string">&#x27;\n&#x27;</span> | <span class="built_in">sort</span> -u</span><br></pre></td></tr></table></figure>

<ul>
<li>è·å–æ‰€æœ‰ namespace çš„ events æ—¥å¿—å¹¶æŒ‰ç…§æ—¶é—´æˆ³æ’åº</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ kubectl get events --all-namespaces -o wide --sort-by=.metadata.creationTimestamp</span><br></pre></td></tr></table></figure>

<ul>
<li>å¯¼å‡ºä¸€ä¸ª namespaces ä¸‹æ‰€æœ‰ pod çš„æ—¥å¿—</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ kubectl get pod -n kube-system | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | xargs -L1 -I &#123;&#125; bash -c <span class="string">&quot;kubectl -n kube-system logs &#123;&#125; &gt; &#123;&#125;.log&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>å¯¼å‡º k8s ç»„ä»¶çš„ pod æ—¥å¿—</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ kubectl get pod -n kube-system | grep -E <span class="string">&quot;kube-apiserver|kube-controller|kube-proxy|kube-scheduler|coredns&quot;</span> | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> | xargs -L1 -I &#123;&#125; sh -c <span class="string">&quot;kubectl -n kube-system logs &#123;&#125; &gt; &#123;&#125;.log&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>è·å–é›†ç¾¤ä¸­èŠ‚ç‚¹çš„ IP</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ kubectl get nodes -o jsonpath=<span class="string">&#x27;&#123; $.items[*].status.addresses[?(@.type==&quot;InternalIP&quot;)].address &#125;&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>è·å–æ‰€æœ‰ Pod çš„ IP</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ kubectl get pods -o jsonpath=<span class="string">&#x27;&#123; $.items[*].status.podIP &#125;&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>è·å–æ‰€æœ‰ node èŠ‚ç‚¹çš„å­ç½‘ä¿¡æ¯</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ kubectl get nodes -o jsonpath=<span class="string">&#x27;&#123;.items[*].spec.podCIDR&#125;&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>è·å–æ‰€æœ‰ service çš„ IP</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ kubectl get svc --no-headers --all-namespaces -o jsonpath=<span class="string">&#x27;&#123;$.items[*].spec.clusterIP&#125;&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æ ¹æ® CPU&#x2F;RAM å ç”¨æ’åº</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># cpu</span></span><br><span class="line">kubectl top pods --all-namespaces | <span class="built_in">sort</span> --reverse --key 3 --numeric</span><br><span class="line"><span class="comment"># memory</span></span><br><span class="line">kubectl top pods --all-namespaces | <span class="built_in">sort</span> --reverse --key 4 --numeric</span><br></pre></td></tr></table></figure>

<h2 id="yq-jq"><a href="#yq-jq" class="headerlink" title="yq&#x2F;jq"></a>yq&#x2F;jq</h2><h3 id="yq-æ ¹æ®æŸä¸ª-key-è·å–æŸä¸ª-value"><a href="#yq-æ ¹æ®æŸä¸ª-key-è·å–æŸä¸ª-value" class="headerlink" title="yq æ ¹æ®æŸä¸ª key è·å–æŸä¸ª value"></a>yq æ ¹æ®æŸä¸ª key è·å–æŸä¸ª value</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># docker registry for offline resources</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">src:</span> <span class="string">docker.io/library/registry</span></span><br><span class="line">  <span class="attr">dest:</span> <span class="string">library/registry</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># helm chartmuseum for offline resources</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">src:</span> <span class="string">ghcr.io/helm/chartmuseum</span></span><br><span class="line">  <span class="attr">dest:</span> <span class="string">library/chartmuseum</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ yq <span class="built_in">eval</span> <span class="string">&#x27;.[]|select(.dest==&quot;library/chartmuseum&quot;) | .src&#x27;</span> images_origin.yaml</span><br></pre></td></tr></table></figure>

<h3 id="æ›¿æ¢æ•°ç»„ä¸­çš„å…ƒç´ "><a href="#æ›¿æ¢æ•°ç»„ä¸­çš„å…ƒç´ " class="headerlink" title="æ›¿æ¢æ•°ç»„ä¸­çš„å…ƒç´ "></a>æ›¿æ¢æ•°ç»„ä¸­çš„å…ƒç´ </h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3.1&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">nginx:</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.20-alpine</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./resources/nginx:/usr/share/nginx</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">443</span><span class="string">:443</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">5000</span><span class="string">:5000</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">8080</span><span class="string">:8080</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nginx_http_port=<span class="string">&quot;<span class="variable">$&#123;NGINX_HTTP_PORT&#125;</span>:8080&quot;</span> yq <span class="built_in">eval</span> --inplace <span class="string">&#x27;.services.nginx.ports[0] = strenv(nginx_http_port)&#x27;</span> <span class="variable">$&#123;COMPOSE_YAML_FILE&#125;</span></span><br><span class="line">registry_https_port=<span class="string">&quot;<span class="variable">$&#123;REGISTRY_HTTPS_PORT&#125;</span>:443&quot;</span> yq <span class="built_in">eval</span> --inplace <span class="string">&#x27;.services.nginx.ports[1] = strenv(registry_https_port)&#x27;</span> <span class="variable">$&#123;COMPOSE_YAML_FILE&#125;</span></span><br><span class="line">registry_push_port=<span class="string">&quot;<span class="variable">$&#123;REGISTRY_PUSH_PORT&#125;</span>:5000&quot;</span> yq <span class="built_in">eval</span> --inplace <span class="string">&#x27;.services.nginx.ports[2] = strenv(registry_push_port)&#x27;</span> <span class="variable">$&#123;COMPOSE_YAML_FILE&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="jq-éå†-json-æ•°ç»„-åˆ—è¡¨å…ƒç´ "><a href="#jq-éå†-json-æ•°ç»„-åˆ—è¡¨å…ƒç´ " class="headerlink" title="jq éå† json æ•°ç»„&#x2F;åˆ—è¡¨å…ƒç´ "></a>jq éå† json æ•°ç»„&#x2F;åˆ—è¡¨å…ƒç´ </h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> pmd_name <span class="keyword">in</span> $(kubectl <span class="variable">$&#123;KUBECONFIG_ARG&#125;</span> get cpm --no-headers | <span class="built_in">cut</span> -d <span class="string">&#x27; &#x27;</span> -f1); <span class="keyword">do</span></span><br><span class="line">    CPMD_NAME=<span class="string">&quot;<span class="variable">$&#123;pmd_name&#125;</span>&quot;</span></span><br><span class="line">    JSON=<span class="string">&quot;<span class="variable">$&#123;RCTL_TMP_PATH&#125;</span>/<span class="variable">$&#123;pmd_name&#125;</span>.json&quot;</span></span><br><span class="line">    kubectl <span class="variable">$&#123;KUBECONFIG_ARG&#125;</span> get cpm <span class="variable">$&#123;pmd_name&#125;</span> -o jsonpath=<span class="string">&#x27;&#123;.spec&#125;&#x27;</span> &gt; <span class="variable">$&#123;JSON&#125;</span></span><br><span class="line">    ((moudles_num=$(jq &#x27;.modules|length&#x27; <span class="variable">$&#123;JSON&#125;</span>)-<span class="number">1</span>))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> $(<span class="built_in">seq</span> 0 <span class="variable">$&#123;moudles_num&#125;</span>); <span class="keyword">do</span></span><br><span class="line">        ((addons_num=$(jq &quot;.modules[<span class="variable">$&#123;i&#125;</span>].addons|length&quot; <span class="variable">$&#123;JSON&#125;</span>)-<span class="number">1</span>))</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> $(<span class="built_in">seq</span> 0 <span class="variable">$&#123;addons_num&#125;</span>); <span class="keyword">do</span></span><br><span class="line">            addon_name=$(jq -r <span class="string">&quot;.modules[<span class="variable">$&#123;i&#125;</span>].addons[<span class="variable">$&#123;j&#125;</span>].name&quot;</span> <span class="variable">$&#123;JSON&#125;</span>)</span><br><span class="line">            <span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$&#123;CHART_NAME&#125;</span>&quot;</span> = <span class="string">&quot;<span class="variable">$&#123;addon_name&#125;</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">                PATCH_DATA=$(jq -c <span class="string">&quot;.modules[<span class="variable">$&#123;i&#125;</span>].addons[<span class="variable">$&#123;j&#125;</span>].version = \&quot;<span class="variable">$&#123;VERSION&#125;</span>\&quot;&quot;</span> <span class="variable">$&#123;JSON&#125;</span>)</span><br><span class="line">                <span class="built_in">break</span> 3</span><br><span class="line">            <span class="keyword">fi</span></span><br><span class="line">        <span class="keyword">done</span></span><br><span class="line">    <span class="keyword">done</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h2 id="other"><a href="#other" class="headerlink" title="other"></a>other</h2><h3 id="åˆ¤æ–­ä¸¤ä¸ªç‰ˆæœ¬å·å¤§å°"><a href="#åˆ¤æ–­ä¸¤ä¸ªç‰ˆæœ¬å·å¤§å°" class="headerlink" title="åˆ¤æ–­ä¸¤ä¸ªç‰ˆæœ¬å·å¤§å°"></a>åˆ¤æ–­ä¸¤ä¸ªç‰ˆæœ¬å·å¤§å°</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="built_in">printf</span> <span class="string">&quot;%s\\n%s\\n&quot;</span> v1.21 <span class="variable">$&#123;kube_version%.*&#125;</span> | <span class="built_in">sort</span> --check=quiet --version-sort; <span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> -n <span class="variable">$&#123;coredns_version&#125;</span>;<span class="keyword">else</span> <span class="built_in">echo</span> -n <span class="variable">$&#123;coredns_version/v/&#125;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥çœ‹-x509-è¯ä¹¦"><a href="#æŸ¥çœ‹-x509-è¯ä¹¦" class="headerlink" title="æŸ¥çœ‹ x509 è¯ä¹¦"></a>æŸ¥çœ‹ x509 è¯ä¹¦</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ openssl x509 -noout -text -<span class="keyword">in</span> ca.cert</span><br></pre></td></tr></table></figure>

<h3 id="è·å–æ–‡ä»¶å¤§å°"><a href="#è·å–æ–‡ä»¶å¤§å°" class="headerlink" title="è·å–æ–‡ä»¶å¤§å°"></a>è·å–æ–‡ä»¶å¤§å°</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">stat</span> -c <span class="string">&#x27;%s&#x27;</span> file</span><br></pre></td></tr></table></figure>

<h3 id="è·å–æœ¬æœº-IP"><a href="#è·å–æœ¬æœº-IP" class="headerlink" title="è·å–æœ¬æœº IP"></a>è·å–æœ¬æœº IP</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ ip r get 1 | awk <span class="string">&#x27;NR==1 &#123;print $NF&#125;&#x27;</span></span><br><span class="line">$ ip r get 1 | sed <span class="string">&quot;s/uid.*//g&quot;</span> | awk <span class="string">&#x27;NR==1 &#123;print $NF&#125;&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="function"><a href="#function" class="headerlink" title="function"></a>function</h2><p>ä¸€äº› shell è„šæœ¬ä¸­å¸¸ç”¨çš„å‡½æ•°</p>
<h3 id="tar-è¿›åº¦æ¡"><a href="#tar-è¿›åº¦æ¡" class="headerlink" title="tar è¿›åº¦æ¡"></a>tar è¿›åº¦æ¡</h3><p>é¿å… tar è§£å‹æ–‡ä»¶çš„æ—¶å€™æ±¡æŸ“ç»ˆç«¯ï¼Œå»ºè®®ä½¿ç”¨è¿›åº¦æ¡çš„æ–¹å¼å±•ç¤ºè§£å‹è¿‡ç¨‹</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">untar</span></span>() &#123;</span><br><span class="line">  file_size=$(<span class="built_in">stat</span> -c <span class="string">&#x27;%s&#x27;</span> <span class="variable">$1</span>)</span><br><span class="line">  block_size=$(<span class="built_in">expr</span> <span class="variable">$file_size</span> / 51200); block_size=$(<span class="built_in">expr</span> <span class="variable">$block_size</span> + 1)</span><br><span class="line">  tar_info=<span class="string">&quot;Untar <span class="variable">$1</span> progress:&quot;</span></span><br><span class="line">  tar --blocking-factor=<span class="variable">$block_size</span> --checkpoint=1 --checkpoint-action=ttyout=<span class="string">&quot;<span class="variable">$&#123;tar_info&#125;</span> %u%  \r&quot;</span> -xpf <span class="variable">$1</span> -C <span class="variable">$2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ­£åˆ™åŒ¹é…-IP"><a href="#æ­£åˆ™åŒ¹é…-IP" class="headerlink" title="æ­£åˆ™åŒ¹é… IP"></a>æ­£åˆ™åŒ¹é… IP</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># regular match ip</span></span><br><span class="line"><span class="function"><span class="title">match_ip</span></span>() &#123;</span><br><span class="line">    <span class="built_in">local</span> INPUT_IPS=$*</span><br><span class="line">    <span class="built_in">local</span> IPS=<span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">if</span> ! <span class="built_in">echo</span> <span class="variable">$&#123;INPUT_IPS&#125;</span> | egrep --only-matching -E <span class="string">&#x27;([[:digit:]]&#123;1,3&#125;\.)&#123;3&#125;[[:digit:]]&#123;1,3&#125;-[[:digit:]]&#123;1,3&#125;&#x27;</span> &gt; /dev/null; <span class="keyword">then</span></span><br><span class="line">        IPS=<span class="string">&quot;<span class="subst">$(echo $&#123;INPUT_IPS&#125; | egrep --only-matching -E &#x27;([[:digit:]]&#123;1,3&#125;\.)</span>&#123;3&#125;[[:digit:]]&#123;1,3&#125;&#x27; | tr &#x27;\n&#x27; &#x27; &#x27;)&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        ip_prefix=<span class="string">&quot;<span class="subst">$(echo $&#123;INPUT_IPS&#125; | egrep --only-matching -E &#x27;([[:digit:]]&#123;1,3&#125;\.)</span>&#123;3&#125;[[:digit:]]&#123;1,3&#125;-[[:digit:]]&#123;1,3&#125;&#x27; | cut -d &#x27;.&#x27; -f1-3)&quot;</span></span><br><span class="line">        ip_suffix=<span class="string">&quot;<span class="subst">$(echo $&#123;INPUT_IPS&#125; | egrep --only-matching -E &#x27;([[:digit:]]&#123;1,3&#125;\.)</span>&#123;3&#125;[[:digit:]]&#123;1,3&#125;-[[:digit:]]&#123;1,3&#125;&#x27; | cut -d &#x27;.&#x27; -f4 | tr &#x27;-&#x27; &#x27; &#x27;)&quot;</span></span><br><span class="line">        <span class="keyword">for</span> suffix <span class="keyword">in</span> $(<span class="built_in">seq</span> <span class="variable">$&#123;ip_suffix&#125;</span>); <span class="keyword">do</span> IPS=<span class="string">&quot;<span class="variable">$&#123;IPS&#125;</span> <span class="variable">$&#123;ip_prefix&#125;</span>.<span class="variable">$&#123;suffix&#125;</span>&quot;</span>; <span class="keyword">done</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$&#123;IPS&#125;</span> | egrep --only-matching -E <span class="string">&#x27;([[:digit:]]&#123;1,3&#125;\.)&#123;3&#125;[[:digit:]]&#123;1,3&#125;&#x27;</span> | <span class="built_in">tr</span> <span class="string">&#x27;\n&#x27;</span> <span class="string">&#x27; &#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ssh-ç™»å½•é…ç½®"><a href="#ssh-ç™»å½•é…ç½®" class="headerlink" title="ssh ç™»å½•é…ç½®"></a>ssh ç™»å½•é…ç½®</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Host *</span><br><span class="line">	  StrictHostKeyChecking no</span><br><span class="line">    UserKnownHostsFile=/dev/null</span><br><span class="line">    ForwardAgent <span class="built_in">yes</span></span><br><span class="line">    ServerAliveInterval 10</span><br><span class="line">    ServerAliveCountMax 10000</span><br><span class="line">    TCPKeepAlive no</span><br><span class="line">    ControlMaster auto</span><br><span class="line">    ControlPath ~/.ssh/session/%h-%p-%r</span><br><span class="line">    ControlPersist 12h</span><br><span class="line"></span><br><span class="line">Host nas</span><br><span class="line">    Hostname 172.20.0.10</span><br><span class="line">    Port 22</span><br><span class="line">    User root</span><br><span class="line">    IdentityFile ~/.ssh/local-node.pem</span><br><span class="line"></span><br><span class="line">Host 172.20.0.*</span><br><span class="line">    Port 22</span><br><span class="line">    User root</span><br><span class="line">    IdentityFile ~/.ssh/local-node.pem</span><br><span class="line"></span><br><span class="line">Host *github.com</span><br><span class="line">    Hostname github.com</span><br><span class="line">    User git</span><br><span class="line">    IdentityFile ~/.ssh/github_muzi.pem</span><br></pre></td></tr></table></figure>

<ul>
<li><code>StrictHostKeyChecking no</code>ï¼šç•¥è¿‡ HostKey æ£€æŸ¥ï¼Œé¿å…å‡ºç° <a href="https://superuser.com/questions/125324/how-can-i-avoid-sshs-host-verification-for-known-hosts">How can I avoid SSHâ€™s host verification for known hosts?</a></li>
</ul>
<h3 id="ssh-å¯†ç ç™»å½•"><a href="#ssh-å¯†ç ç™»å½•" class="headerlink" title="ssh å¯†ç ç™»å½•"></a>ssh å¯†ç ç™»å½•</h3><p>æ—¥å¸¸å·¥ä½œä¸­å¸¸å¸¸éœ€è¦ ssh ç™»å½•åˆ°æœºæˆ¿çš„ä¸€äº›è™šæ‹Ÿæœºä¸Šï¼Œåˆå› ä¸ºä¸åŒçš„æœºå™¨å¯†ç ä¸åŒï¼Œé‚ä½¿ç”¨è¯¥è„šæœ¬ ssh ç™»å½•åˆ°èŠ‚ç‚¹ä¸Šã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">IP=<span class="variable">$&#123;1&#125;</span></span><br><span class="line">CMD=<span class="variable">$&#123;2&#125;</span></span><br><span class="line">USER=root</span><br><span class="line">ARGS=<span class="string">&quot;-o StrictHostKeyChecking=no -o ControlMaster=auto -o ControlPersist=12h -o ConnectionAttempts=100&quot;</span></span><br><span class="line">PASSWORDS=<span class="string">&quot;admin123456 test123456 centos1234&quot;</span></span><br><span class="line">ssh-keygen -R <span class="variable">$&#123;1&#125;</span> &gt; /dev/null 2&gt;&amp;1</span><br><span class="line">PASS=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> pass <span class="keyword">in</span> <span class="variable">$&#123;PASSWORDS&#125;</span>; <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> sshpass -p <span class="variable">$&#123;pass&#125;</span> ssh <span class="variable">$&#123;ARGS&#125;</span> <span class="variable">$&#123;USER&#125;</span>@<span class="variable">$&#123;IP&#125;</span> <span class="string">&quot;hostname&quot;</span>; <span class="keyword">then</span> PASS=<span class="variable">$&#123;pass&#125;</span>; <span class="built_in">break</span> ; <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line">sshpass -p <span class="variable">$&#123;PASS&#125;</span> ssh <span class="variable">$&#123;ARGS&#125;</span> <span class="variable">$&#123;USER&#125;</span>@<span class="variable">$&#123;IP&#125;</span> <span class="variable">$&#123;CMD&#125;</span></span><br><span class="line"><span class="built_in">exit</span> 0</span><br></pre></td></tr></table></figure>

<h3 id="è„šæœ¬ä¸­ç»Ÿè®¡å‡½æ•°è€—æ—¶"><a href="#è„šæœ¬ä¸­ç»Ÿè®¡å‡½æ•°è€—æ—¶" class="headerlink" title="è„šæœ¬ä¸­ç»Ÿè®¡å‡½æ•°è€—æ—¶"></a>è„šæœ¬ä¸­ç»Ÿè®¡å‡½æ•°è€—æ—¶</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">reset_global_timer</span></span>() &#123;</span><br><span class="line">	<span class="built_in">export</span> SEC0=$(<span class="built_in">date</span> --utc +%s)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">reset_function_timer</span></span>()&#123;</span><br><span class="line">    <span class="built_in">export</span> SEC1=$(<span class="built_in">date</span> --utc +%s)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">running_time</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">    SEC2=$(<span class="built_in">date</span> --utc +%s); DIFFSEC=$((<span class="variable">$&#123;SEC2&#125;</span> - <span class="variable">$&#123;SEC1&#125;</span>)); <span class="built_in">printf</span> <span class="string">&quot;\nSection Time: <span class="subst">$(date +%H:%M:%S -ud @$&#123;DIFFSEC&#125;)</span>\n&quot;</span></span><br><span class="line">    SEC2=$(<span class="built_in">date</span> --utc +%s); DIFFSEC=$((<span class="variable">$&#123;SEC2&#125;</span> - <span class="variable">$&#123;SEC0&#125;</span>)); <span class="built_in">printf</span> <span class="string">&quot;Elapsed Time: <span class="subst">$(date +%H:%M:%S -ud @$&#123;DIFFSEC&#125;)</span>\n\n&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">reset_global_timer</span><br><span class="line">reset_function_timer</span><br><span class="line">running_time</span><br></pre></td></tr></table></figure>

<h2 id="OS"><a href="#OS" class="headerlink" title="OS"></a>OS</h2><ul>
<li>dpkg è·å–ç³»ç»Ÿå·²ç»å®‰è£…çš„åŒ…</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ dpkg-query -W -f=<span class="string">&#x27;$&#123;binary:Package&#125;=$&#123;Version&#125;\n&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>è·å– CPU æ¶æ„</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ARCHITECTURE=$(<span class="built_in">uname</span> -m)</span><br><span class="line">host_architecture=$(dpkg --print-architecture)</span><br></pre></td></tr></table></figure>

<h3 id="æ›¿æ¢ç³»ç»Ÿ-OS-æº"><a href="#æ›¿æ¢ç³»ç»Ÿ-OS-æº" class="headerlink" title="æ›¿æ¢ç³»ç»Ÿ OS æº"></a>æ›¿æ¢ç³»ç»Ÿ OS æº</h3><p>ä½¿ç”¨åä¸ºäº‘ yum æº</p>
<ul>
<li>CentOS 7</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.huaweicloud.com/repository/conf/CentOS-7-anon.repo</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…åä¸ºäº‘ EPEL æº</span></span><br><span class="line">yum install epel-release -y</span><br><span class="line">sed -i <span class="string">&quot;s/#baseurl/baseurl/g&quot;</span> /etc/yum.repos.d/epel.repo</span><br><span class="line">sed -i <span class="string">&quot;s/metalink/#metalink/g&quot;</span> /etc/yum.repos.d/epel.repo</span><br><span class="line">sed -i <span class="string">&quot;s@https\?://download.fedoraproject.org/pub@https://mirrors.huaweicloud.com@g&quot;</span> /etc/yum.repos.d/epel.repo</span><br></pre></td></tr></table></figure>

<ul>
<li>Debian</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sed -i <span class="string">&#x27;s/deb.debian.org/mirrors.huaweicloud.com/g&#x27;</span> /etc/apt/sources.list</span><br><span class="line">$ sed -i <span class="string">&#x27;s|security.debian.org/debian-security|mirrors.huaweicloud.com/debian-security|g&#x27;</span> /etc/apt/sources.list</span><br></pre></td></tr></table></figure>

<ul>
<li>Ubuntu</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ sed -i <span class="string">&#x27;s/archive.ubuntu.com/mirrors.huaweicloud.com/g&#x27;</span> /etc/apt/sources.list</span><br></pre></td></tr></table></figure>

<ul>
<li>Alpine</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="string">&quot;http://mirrors.huaweicloud.com/alpine/latest-stable/main/&quot;</span> &gt; /etc/apk/repositories</span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">&quot;http://mirrors.huaweicloud.com/alpine/latest-stable/community/&quot;</span> &gt;&gt; /etc/apk/repositories</span><br></pre></td></tr></table></figure>

<h3 id="CA-è¯ä¹¦ä¿¡ä»»"><a href="#CA-è¯ä¹¦ä¿¡ä»»" class="headerlink" title="CA è¯ä¹¦ä¿¡ä»»"></a>CA è¯ä¹¦ä¿¡ä»»</h3><ul>
<li>CentOS</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ update-ca-trust force-enable</span><br><span class="line">$ <span class="built_in">cp</span> domain.crt /etc/pki/ca-trust/source/anchors/domain.crt</span><br><span class="line">$ update-ca-trust</span><br></pre></td></tr></table></figure>

<ul>
<li>Debian</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">cp</span> domain.crt /usr/share/ca-certificates/domain.crt</span><br><span class="line">$ <span class="built_in">echo</span> domain.crt &gt;&gt; /etc/ca-certificates.conf</span><br><span class="line">$ update-ca-certificates</span><br></pre></td></tr></table></figure>

<ul>
<li>Ubuntu</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">cp</span> domain.crt /usr/local/share/ca-certificates/domain.crt</span><br><span class="line">$ update-ca-certificates</span><br></pre></td></tr></table></figure>

<h3 id="Git-æ“ä½œ"><a href="#Git-æ“ä½œ" class="headerlink" title="Git æ“ä½œ"></a>Git æ“ä½œ</h3><h4 id="ä¿®æ”¹å†å²-commit-ä¿¡æ¯"><a href="#ä¿®æ”¹å†å²-commit-ä¿¡æ¯" class="headerlink" title="ä¿®æ”¹å†å² commit ä¿¡æ¯"></a>ä¿®æ”¹å†å² commit ä¿¡æ¯</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line">git filter-branch --env-filter <span class="string">&#x27;</span></span><br><span class="line"><span class="string">OLD_EMAIL=&quot;github-actions@github.com&quot;</span></span><br><span class="line"><span class="string">CORRECT_NAME=&quot;github-actions&quot;</span></span><br><span class="line"><span class="string">CORRECT_EMAIL=&quot;41898282+github-actions[bot]@users.noreply.github.com&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">if [ &quot;$GIT_COMMITTER_EMAIL&quot; = &quot;$OLD_EMAIL&quot; ]</span></span><br><span class="line"><span class="string">then</span></span><br><span class="line"><span class="string">    export GIT_COMMITTER_NAME=&quot;$CORRECT_NAME&quot;</span></span><br><span class="line"><span class="string">    export GIT_COMMITTER_EMAIL=&quot;$CORRECT_EMAIL&quot;</span></span><br><span class="line"><span class="string">fi</span></span><br><span class="line"><span class="string">if [ &quot;$GIT_AUTHOR_EMAIL&quot; = &quot;$OLD_EMAIL&quot; ]</span></span><br><span class="line"><span class="string">then</span></span><br><span class="line"><span class="string">    export GIT_AUTHOR_NAME=&quot;$CORRECT_NAME&quot;</span></span><br><span class="line"><span class="string">    export GIT_AUTHOR_EMAIL=&quot;$CORRECT_EMAIL&quot;</span></span><br><span class="line"><span class="string">fi</span></span><br><span class="line"><span class="string">&#x27;</span> --tag-name-filter <span class="built_in">cat</span> -- --branches --tags</span><br></pre></td></tr></table></figure>

<h4 id="è·å–å½“å‰-repo-çš„æœ€æ–°-git-tag"><a href="#è·å–å½“å‰-repo-çš„æœ€æ–°-git-tag" class="headerlink" title="è·å–å½“å‰ repo çš„æœ€æ–° git tag"></a>è·å–å½“å‰ repo çš„æœ€æ–° git tag</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git describe --tags --always</span><br></pre></td></tr></table></figure>

<h4 id="åˆ é™¤-remote-repo-ä¸­çš„-tag"><a href="#åˆ é™¤-remote-repo-ä¸­çš„-tag" class="headerlink" title="åˆ é™¤ remote repo ä¸­çš„ tag"></a>åˆ é™¤ remote repo ä¸­çš„ tag</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git push --delete origin tag_name</span><br><span class="line"><span class="comment"># åˆ é™¤æ‰€æœ‰</span></span><br><span class="line">$ git tag -l | xargs -L1 -I &#123;&#125; git push --delete origin &#123;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="govc"><a href="#govc" class="headerlink" title="govc"></a>govc</h2><ul>
<li>æ‰¹é‡è¿˜åŸå¿«ç…§</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"></span><br><span class="line">: <span class="variable">$&#123;SP_NAME:=&quot;init&quot;&#125;</span></span><br><span class="line">: <span class="variable">$&#123;NODES:=&quot;kube-control-01 kube-control-02 kube-control-03 kube-node-01&quot;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> node <span class="keyword">in</span> <span class="variable">$&#123;NODES&#125;</span>; <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">if</span> govc snapshot.revert -vm <span class="variable">$&#123;node&#125;</span> <span class="variable">$&#123;SP_NAME&#125;</span>; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;node&#125;</span> snapshot revert successfully&quot;</span></span><br><span class="line">  <span class="keyword">fi</span></span><br><span class="line">  govc vm.info <span class="variable">$&#123;node&#125;</span> | grep -q poweredOn || govc vm.power -on <span class="variable">$&#123;node&#125;</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h2 id="æœªå®Œå¾…ç»­"><a href="#æœªå®Œå¾…ç»­" class="headerlink" title="æœªå®Œå¾…ç»­"></a>æœªå®Œå¾…ç»­</h2><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a href="https://github.com/dylanaraps/pure-bash-bible">pure-bash-bible</a></li>
<li><a href="http://cn.linux.vbird.org/linux_basic/0320bash_2.php#variable_other">é¸Ÿå“¥ Linux ç§æˆ¿èœ</a></li>
<li><a href="https://mozillazg.com/2018/01/jq-use-examples-cookbook.html">jq å¸¸ç”¨æ“ä½œ</a></li>
<li><a href="https://lyyao09.github.io/2019/08/02/tools/The-usage-of-yq-read-write/">YAML å¤„ç†å·¥å…· yq ä¹‹è¯»å†™ç¯‡</a></li>
</ul>
]]></content>
      <categories>
        <category>æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Bash</tag>
        <tag>shell</tag>
      </tags>
  </entry>
  <entry>
    <title>è€ƒé©¾ç…§å’Œä¹°äºŒæ‰‹è½¦</title>
    <url>/2023-12-29-honda-civic.html</url>
    <content><![CDATA[<p>2023 å€¼å¾—å›å¿†å’Œåˆ†äº«çš„ä¸¤ä»¶äººç”Ÿå¤§äº‹å°±æ˜¯ï¼šè€ƒäº† C1 é©¾ç…§ã€ä¹°äº†è¾†äºŒæ‰‹çš„æœ¬ç”°åä»£æ€åŸŸ</p>
<h2 id="è€ƒé©¾ç…§"><a href="#è€ƒé©¾ç…§" class="headerlink" title="è€ƒé©¾ç…§"></a>è€ƒé©¾ç…§</h2><h3 id="åŠ¨æœº"><a href="#åŠ¨æœº" class="headerlink" title="åŠ¨æœº"></a>åŠ¨æœº</h3><p>å‡†å¤‡è€ƒé©¾ç…§çš„åŠ¨æœºæ˜¯è¿‡å¹´çš„æ—¶å€™çˆ¶æ¯æèµ·æƒ³è¦å»å±±è¥¿å¤§åŒé‚£è¾¹è‡ªé©¾ç©å‡ å¤©ï¼Œå†åŠ ä¸Šåˆšç»å†äº†ä¸‰å¹´å¤§å¥åº·è¿åŠ¨ï¼ˆé˜²ç–«é—¹å‰§ï¼‰ã€‚çˆ¶æ¯æƒ³è¦å®ç°çš„æ„¿æœ›å°±æƒ³å°½æ—©åœ°å¸®ä»–ä»¬å®ç°ï¼Œè¯´ä¸å®šé‚£å¤©è¢«å†æ¥ä¸€åœºé—¹å‰§è¢«å…³è¿›ã€Œé›†ä¸­è¥ã€ï¼Œé‚£æ—¶å€™å†åæ‚”å°±æ¥ä¸åŠäº†ã€‚</p>
<p>æƒ³è¦åœ¨è·¯ä¸Šåˆæ³•åœ°å¼€è½¦å°±éœ€è¦æœ‰ä¸ªé©¾ç…§ï¼Œæ¯•ç«Ÿå¼€è½¦æ˜¯ä¸€ä»¶åƒå¸­é£é™©æ¯”è¾ƒé«˜çš„äº‹æƒ…ã€‚éƒ½éœ€è¦è€ƒä¸ªé©¾ç…§æ‰èƒ½åˆæ³•ä¸Šè·¯ï¼Œä¸ç„¶æ— è¯é©¾é©¶ä¼šè¢«å¤„ä»¥ 200 ä»¥ä¸Š 2000 å…ƒä»¥ä¸‹ç½šæ¬¾ï¼Œå¹¶å¤„ 15 å¤©ä»¥ä¸‹æ‹˜ç•™ã€‚é‚£æˆ‘ä»¬å°±è€ƒä¸ªé©¾ç…§å§ã€‚</p>
<p>æˆ‘è§‰ç€è€ƒé©¾ç…§çš„æœ€ä½³æ—¶æœºæ˜¯é«˜è€ƒå®Œçš„é‚£ä¸ªæš‘å‡æˆ–è€…å¤§å­¦æ—¶ï¼Œå› ä¸ºåˆšæ»¡åå…«å‘¨å²åˆ°äº†è€ƒé©¾ç…§çš„å¹´é¾„ã€æ—¶é—´ä¹Ÿå¾ˆå……è£•ï¼Œè€Œä¸”é‚£æ—¶å€™æ‰‹è„šçµæ´»ã€è„‘è¢‹è¿˜æ¯”è¾ƒå¥½ä½¿ã€‚å¯æƒœé‚£æ®µæ—¶é—´éƒ½åœ¨çç©ï¼Œæ²¡æœ‰å»è€ƒé©¾ç…§ã€‚è§‰ç€è‡ªå·±åˆä¹°ä¸èµ·è½¦åˆä¸æ€ä¹ˆå¼€è½¦ï¼Œå¯¹å½“æ—¶çš„è‡ªå·±æ¥è®²è€ƒé©¾ç…§æ²¡å•¥ç”¨ã€‚äº‹å®è¯æ˜ï¼Œé©¾ç…§è€ƒçš„è¶Šæ—©è¶Šå¥½ï¼Œå½“ä½ ä¼šå¼€è½¦ä»¥åŠæœ‰äº†è½¦ä¹‹åï¼Œä½ çš„ç”Ÿæ´»å‡ºè¡Œè·ç¦»èŒƒå›´ä¼šæ‰©å¤§å¾ˆå¤šï¼Œä¹Ÿä¼šæ–¹ä¾¿å¾ˆå¤šã€‚åƒæˆ‘è¿™æ ·ï¼Œå·¥ä½œä¹‹åå†å»è€ƒé©¾ç…§ï¼Œæ—¶é—´æˆæœ¬å¯è°“æ˜¯çœŸé«˜ï¼Œä¸ºäº†ç»ƒè½¦å’Œè€ƒè¯•æˆ‘è¿˜ç”¨æ‰äº†äº”å¤©çš„å®è´µå¹´å‡ ğŸ˜­ã€‚</p>
<h3 id="é©¾æ ¡æŠ¥å"><a href="#é©¾æ ¡æŠ¥å" class="headerlink" title="é©¾æ ¡æŠ¥å"></a>é©¾æ ¡æŠ¥å</h3><p>è¿‡å¹´å›æ¥çš„ç¬¬ä¸€å‘¨å°±å¼€å§‹è”ç³»åœ¨ä¸Šæµ·çš„æœ‹å‹æ‰¾ä¸ªé è°±çš„é©¾æ ¡ï¼Œæœ‹å‹ä¹‹å‰æ˜¯åœ¨ç‰¹æ–¯æ‹‰å–è½¦çš„ï¼Œæ‰€ä»¥è®¤è¯†äº†ä¸€ä¸ªé©¾æ ¡æ•™ç»ƒï¼Œåˆšå¥½ä»–çš„è€å©†ä¹Ÿè·Ÿç€è¿™ä¸ªæ•™ç»ƒç»ƒè½¦ã€‚äºæ˜¯ç»ä»‹ç»åŠ äº†æ•™ç»ƒçš„å¾®ä¿¡ï¼Œç¡®è®¤äº†åœ¨ä¸Šæµ·è€ƒé©¾ç…§çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼š</p>
<ul>
<li>å¤–åœ°æˆ·å£è€ƒé©¾ç…§ä¸éœ€è¦å±…ä½è¯ï¼›</li>
<li>åœ¨å®å±±ç»ƒç§‘ç›®äºŒã€å˜‰å®šç»ƒç§‘ç›®ä¸‰ã€é‡‘å±±è€ƒç§‘ç›®äºŒå’Œç§‘ç›®ä¸‰ï¼›</li>
<li>æ¯å‘¨ç»ƒè½¦ä¸€åˆ°ä¸¤æ¬¡ï¼Œæ¯æ¬¡ä¸¤ä¸ªå°æ—¶å·¦å³ï¼ˆå› ä¸ºæˆ‘ä½åœ¨æµ¦ä¸œï¼Œç¦»ç»ƒè½¦åœ°æ–¹æ¯”è¾ƒè¿œï¼Œç‰¹æ„è®©æ•™ç»ƒå¤šç»ƒä¼šï¼‰ï¼›</li>
<li>ç§‘ç›®ä¸€è€ƒå®Œåå¤©åå°±å¯ä»¥é¢„çº¦ç§‘ç›®äºŒå’Œç§‘ç›®ä¸‰è€ƒè¯•ï¼›</li>
<li>æ¯ä¸ªç§‘ç›®æŒ‚ç§‘åéœ€è¦ç­‰ 10 å¤©æ‰èƒ½é¢„çº¦ä¸‹ä¸€åœºè€ƒè¯•ï¼›</li>
<li>ä»è€ƒå®Œç§‘ä¸€åˆ°æ‹¿é©¾ç…§é¡ºåˆ©çš„è¯æœ€å¿«ä¸€ä¸ªæœˆï¼›</li>
</ul>
<p>å…³äºè´¹ç”¨ï¼š</p>
<ul>
<li>ä½“æ£€ä»¥åŠä»¥åŠè¯ä»¶ç…§ 120ï¼›</li>
<li>é©¾æ ¡è¿™è¾¹å…±æ”¶å– 4600 ï¼ˆæŠ¥åã€åŸ¹è®­ã€åœºåœ°ç»ƒè½¦è´¹ç”¨ï¼‰ï¼›</li>
<li>ç§‘ä¸€åˆ°ç§‘å››çš„è€ƒè¯•è´¹æ¯æ¬¡ 40 éœ€è¦è‡ªå·±åœ¨ 12123 ä¸Šç¼´çº³ï¼›</li>
<li>ç§‘äºŒè€ƒè¯•åœºåœ°æ¨¡æ‹Ÿè´¹ï¼Œ200 ä¸€åœˆã€500 ä¸‰åœˆã€900 ä¸é™åœˆæ•°ï¼›</li>
<li>ç§‘ç›®ä¸‰åœºåœ°æ¨¡æ‹Ÿè´¹ï¼Œ500 ä¸‰ä¸ªçº¿è·¯å„ä¸€åœˆã€850 ä¸¤åœˆï¼›</li>
</ul>
<p>æˆ‘å½“æ—¶è€ƒçš„æ—¶å€™æ²¡æœ‰å­¦æ—¶é™åˆ¶ï¼Œç°åœ¨ä¸Šæµ·è¿™è¾¹è€ƒé©¾ç…§è¦æ±‚å­¦æ—¶è¾¾åˆ°åæ‰èƒ½é¢„çº¦ç›¸åº”ç§‘ç›®çš„è€ƒè¯•ï¼Œæ‰€ä»¥é©¾ç…§æ˜¯è€ƒçš„è¶Šæ—©è¶Šçœäº‹ï¼Œåé¢è‚¯å®šä¼šè¶Šæ¥è¶Šä¸¥çš„ã€‚å¬æ•™ç»ƒè¯´æ˜å¹´ç»ƒè½¦çš„æ—¶å€™å°±è¦äººè„¸è¯†åˆ«äº†ï¼Œè¶Šæ¥è¶Šéš¾ï¼Œæ‰€ä»¥å¦‚æœä½ åœ¨ä¸Šæµ·è¿˜æƒ³è€ƒé©¾ç…§ï¼Œå°±é©¬ä¸Šè¡ŒåŠ¨èµ·æ¥åˆ«å†æ‹–å•¦ã€‚</p>
<p>å¦å¤–åœ¨ä¸Šæµ·è€ƒé©¾ç…§ï¼Œé€šè¿‡é©¾æ ¡æ— ç–‘æ˜¯æœ€æ–¹ä¾¿çœäº‹å„¿çš„ï¼Œè™½ç„¶å¯ä»¥è‡ªå­¦ç›´è€ƒï¼Œä½†æ˜¯æœ‰åœºåœ°é™åˆ¶ä»¥åŠéœ€è¦è½¦è¾†å®‰è£…å‰¯é©¾çš„åˆ¹è½¦è¸æ¿ï¼Œå¯¹æ²¡æœ‰è½¦çš„äººæ¥è¯´æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œè€Œä¸”æˆæœ¬ä¸è§å¾—æ¯”é©¾æ ¡è¦ä½ã€‚å¯¹äºå…¶ä»–å…³äºé©¾è€ƒçš„ä¿¡æ¯ï¼Œæ¨èçœ‹ä¸€ä¸‹ <a href="https://www.bilibili.com/video/BV17T411a7eA">ä¸Šæµ·å­¦è½¦è€ƒé©¾ç…§ç»å†åˆ†äº«ï¼Œç§‘äºŒç§‘ä¸‰ä¸€æŠŠè¿‡ï¼Œä¸¤ä¸ªæœˆå†…å¿«é€Ÿæ‹¿åˆ° C2 é©¾ç…§ã€‚</a> è¿™ä¸ªè§†é¢‘ã€‚</p>
<h3 id="é¢ç­¾"><a href="#é¢ç­¾" class="headerlink" title="é¢ç­¾"></a>é¢ç­¾</h3><p>é¢ç­¾å°±æ˜¯å»é©¾æ ¡åŠç†ä¸€ä¸ªç±»ä¼¼äºå­¦ç±çš„ä¸œè¥¿ï¼ŒæŠŠèº«ä»½è¯ã€ç…§ç‰‡ã€é©¾ç…§ç±»å‹ã€ä½å€ç­‰ä¿¡æ¯å½•å…¥åˆ°ä¸Šæµ·äº¤è­¦é©¾ç…§è€ƒè¯•ç³»ç»Ÿé‡Œã€‚é¢ç­¾å®Œæˆåï¼Œéœ€è¦è‡ªå·±åœ¨ 12123 ä¸Šæ³¨å†Œè´¦æˆ·ï¼Œç­‰åˆ°è½¦ç®¡æ‰€é‚£è¾¹å½•å…¥ä¿¡æ¯åæ‰èƒ½åœ¨ 12123 ä¸Šé¢„çº¦ç§‘ç›®ä¸€è€ƒè¯•ã€‚å¦‚æœ 12123 ä¸Šæç¤ºæ²¡æœ‰æ‰¾åˆ°å­¦å‘˜ä¿¡æ¯ï¼Œå¾ˆå¯èƒ½æ˜¯è½¦ç®¡æ‰€é‚£è¾¹åœ¨å»ºæ¡£çš„æ—¶å€™å‡ºç°é—®é¢˜ï¼Œæ¯”å¦‚å­˜åœ¨å¼‚åœ°æ¡£æ¡ˆã€èº«ä»½ä¿¡æ¯é”™è¯¯ã€æœ‰å…¶ä»–è¿ç« ï¼ˆæ¯”å¦‚éª‘ç”µè½¦ä¸å¸¦å¤´ç›”æˆ–é—¯çº¢ç¯è¢«æŠ“åˆ°ï¼‰ã€‚è¿™æ—¶ä¸€å®šè¦åŠæ—¶è”ç³»é©¾æ ¡é‚£è¾¹é—®ä¸‹ä»€ä¹ˆæƒ…å†µï¼ŒåŠæ—¶å¤„ç†ï¼Œä¸è¦ä¸€ç›´å¹²ç­‰ç€ã€‚æˆ‘å½“æ—¶å°±æ˜¯å› ä¸ºå­˜åœ¨å¼‚åœ°æ¡£æ¡ˆæ²¡æœ‰æ³¨é”€è¢«æ‹–äº†ä¸¤å‘¨ğŸ¥¹ã€‚</p>
<h3 id="ç§‘ç›®ä¸€"><a href="#ç§‘ç›®ä¸€" class="headerlink" title="ç§‘ç›®ä¸€"></a>ç§‘ç›®ä¸€</h3><p>ç§‘ç›®ä¸€æ¯”è¾ƒç®€å•ï¼ŒèŠ±äº† 90 å—é’±æ°ªé‡‘å……å€¼äº†é©¾æ ¡ä¸€ç‚¹é€šçš„ä¼šå‘˜ï¼Œæ¯å¤©æœ‰ç©ºçš„æ—¶å€™å°±åˆ·é¢˜ã€‚ç­‰åˆ° 12123 ä¸Šèƒ½é¢„çº¦ç§‘ç›®ä¸€è€ƒè¯•çš„æ—¶å€™ï¼Œå°±çº¦äº†æœ€è¿‘çš„ä¸€åœºè€ƒè¯•ã€‚è€ƒç§‘ç›®ä¸€çš„æ—¶å€™æå‰åŠä¸ªå°æ—¶åˆ°äº†è€ƒåœºï¼Œæ’é˜Ÿçš„äººå·²ç»ä¸ƒå…«åäººäº†ã€‚åˆ°è€ƒåœºåæ˜¯ä¸æŒ‰é¢„çº¦åœºæ¬¡æ’åºçš„ï¼Œåªè¦é¢„çº¦äº†å½“å¤©çš„åœºæ¬¡å°±èƒ½éšåˆ°éšè€ƒã€‚ç§‘ä¸€å…± 100 é“é¢˜ï¼Œå¤§éƒ¨åˆ†é¢˜éƒ½åˆ·è¿‡ï¼Œæ‰€ä»¥åªè¦æŒæ¡ä¸€ç‚¹æŠ€å·§å¤šåˆ·é¢˜å¤šèƒŒå°±èƒ½ç¨³è¿‡ã€‚</p>
<h3 id="ç§‘ç›®äºŒ"><a href="#ç§‘ç›®äºŒ" class="headerlink" title="ç§‘ç›®äºŒ"></a>ç§‘ç›®äºŒ</h3><p>é©¾æ ¡è¿™è¾¹ä¸€èˆ¬æ˜¯ç§‘ç›®ä¸€è¿‡äº†ä¹‹åæ‰å¼€å§‹ç§‘ç›®äºŒç»ƒè½¦ï¼Œæ²¡æœ‰è€ƒè¿‡ç§‘ç›®ä¸€æ•™ç»ƒæ˜¯ä¸ç»™å®‰æ’ç§‘ç›®äºŒç»ƒè½¦çš„ã€‚æ‰€ä»¥ç§‘ç›®ä¸€ä¸€å®šä¸è¦æŒ‚ï¼ŒæŒ‚äº†ä¹‹åéœ€è¦ç­‰ä¸¤å‘¨æ‰èƒ½é‡è€ƒï¼Œåœ¨è¿™æœŸé—´åªèƒ½å¹²ç­‰ç€ï¼Œååˆ†æµªè´¹æ—¶é—´ã€‚</p>
<p>ä¸Šæµ·é©¾è€ƒç§‘ç›®äºŒä¸»è¦è€ƒä¸‹é¢è¿™å‡ é¡¹ï¼š</p>
<ul>
<li>å€’è½¦å…¥åº“ï¼ˆéš¾åº¦äº”æ˜Ÿï¼‰</li>
<li>ä¾§æ–¹ä½åœè½¦ï¼ˆéš¾åº¦ä¸‰æ˜Ÿï¼‰</li>
<li>æ›²çº¿è¡Œé©¶ï¼ˆéš¾åº¦ä¸‰æ˜Ÿï¼‰</li>
<li>çª„è·¯æ‰å¤´ï¼ˆéš¾åº¦ä¸€æ˜Ÿï¼‰</li>
<li>ç›´è§’è½¬å¼¯ï¼ˆéš¾åº¦ä¸‰æ˜Ÿï¼‰</li>
<li>åŠå¡èµ·æ­¥ï¼ˆéš¾åº¦å››æ˜Ÿï¼‰</li>
<li>ç´§æ€¥åœè½¦ï¼ˆéš¾åº¦ä¸€æ˜Ÿï¼‰</li>
</ul>
<p>ç§‘ç›®äºŒæˆ‘ç»ƒä¹ äº†å¤§æ¦‚ 10 æ¬¡å°±é¢„çº¦å»è€ƒè¯•äº†ï¼Œå½“æ—¶æ„Ÿè§‰çŠ¶æ€è‰¯å¥½ç»å¯¹èƒ½ä¸€æŠŠè¿‡çš„ã€‚æ²¡æƒ³åˆ°å¾ˆå¿«æ‰“è„¸äº†ï¼Œè€ƒç¬¬ä¸€æŠŠçš„æ—¶å€™å·¦å€’åº“å‹çº¿æŒ‚æ‰äº†ï¼Œç¬¬äºŒæŠŠåœ¨åŠå¡èµ·æ­¥çš„æ—¶å€™æºœè½¦æŒ‚æ‰äº† ğŸ˜­ã€‚åæ¥å¬æ•™ç»ƒè¯´æˆ‘å¼€çš„é‚£è¾†è€ƒè¯•è½¦ç¦»åˆå™¨æœ‰é—®é¢˜ï¼ŒåŠå¡èµ·æ­¥çš„æ—¶å€™ï¼Œç¦»åˆå™¨é€åˆ°åŠè”åŠ¨æ—¶å¦‚æœç›´æ¥é€å¼€åˆ¹è½¦å¤§æ¦‚ç‡ä¼šæºœè½¦ï¼Œåªè¦ä¸Šäº†è¿™è¾†è½¦åæœ‰å…«ä¹çš„ä¼šæŒ‚æ‰ï¼Œå¾ˆå¤šè€ƒç”Ÿéƒ½æŒ‚åœ¨æˆ‘å¼€çš„é‚£è¾†è½¦ä¸Šäº†ã€‚æ— å¥ˆåªèƒ½ç­‰å¾…åå¤©ç»§ç»­é¢„çº¦ä¸‹ä¸€æ¬¡è€ƒè¯•ï¼Œè€Œæ¯æ¬¡åªèƒ½é¢„çº¦å››å¤©åçš„è€ƒè¯•ï¼Œæ‰€ä»¥å½“æŒ‚ç§‘åéœ€è¦ç­‰å¾…ä¸¤å‘¨æ‰èƒ½é‡æ–°è€ƒè¯•ã€‚</p>
<p>è€ƒç¬¬äºŒæ¬¡çš„æ—¶å€™ååˆ†ç´§å¼ ï¼Œä¸å¹¸ä¸¤æŠŠéƒ½åœ¨å€’åº“çš„æ—¶å€™æŒ‚æ‰äº†ï¼›æ¥ç€ç­‰å¾…ä¸¤å‘¨å†è€ƒç¬¬ä¸‰æ¬¡ï¼Œç¬¬ä¸‰æ¬¡çš„æ—¶å€™åˆå› ä¸ºå€’åº“æŒ‚æ‰äº†ã€‚è€ƒäº†ä¸‰æ¬¡éƒ½æŒ‚æ‰äº†ï¼Œå½“æ—¶å°±é™·å…¥äº†è‡ªæˆ‘æ€€ç–‘ä¸­ï¼Œè‡ªå·±é€‚ä¸é€‚åˆå¼€è½¦å‘€ã€‚å¬åŒäº‹è°ƒä¾ƒè¯´ä»–è€ƒç§‘ä¸‰æŒ‚äº†å››æ¬¡ï¼Œäº”åæ­¥ç¬‘ç™¾æ­¥ï¼Œå¿ƒç†æœ‰äº†äº›è®¸å®‰æ…°ã€‚æŒ‚äº†ä¸‰æ¬¡ï¼Œè¿˜å‰©ä¸¤æ¬¡æœºä¼šçš„å˜›ï¼Œå³ä¾¿å¦‚æ­¤è¿˜æ˜¯è¦ç¡¬ç€å¤´çš®ç»§ç»­è€ƒï¼Œä¸èƒ½å°±å› æ­¤æ”¾å¼ƒäº†ã€‚</p>
<p>ç¬¬å››æ¬¡è€ƒè¯•çš„æ—¶å€™ï¼Œæ¢äº†ä¸€ä¸ªè€ƒåœºï¼Œæ¨¡æ‹Ÿçš„æ—¶å€™çŠ¶æ€å¹¶ä¸æ˜¯å¾ˆå¥½ï¼Œæ•™ç»ƒä¹Ÿè§‰ç€æˆ‘è¿‡ä¸äº†ï¼Œä½†æ²¡æƒ³åˆ°æœ€ç»ˆä¸€æŠŠæ»¡åˆ†è¿‡äº† ğŸ‰ã€‚ä¸ªäººæ„Ÿè§‰è€ƒç§‘äºŒæœ€ä¸»è¦çš„æ˜¯å¿ƒæ€ï¼Œåªè¦ä¸ç´§å¼ ï¼Œæ”¾æ¾ä¸€ç‚¹æ…¢æ…¢å¼€å°±èƒ½ç¨³è¿‡ ğŸ˜‚ã€‚æˆ‘ç¬¬ä¸€æ¬¡è€ƒè¯•ä¹Ÿä¸æ€ä¹ˆç´§å¼ ï¼ŒçŠ¶æ€ä¹Ÿæ˜¯æœ€å¥½çš„ï¼Œæ— å¥ˆè¿æ°”ä¸å¥½ç¢°ä¸Šäº†ä¸ªæœ‰é—®é¢˜çš„è½¦å°±æŒ‚æ‰äº†ã€‚</p>
<p>ç§‘ç›®äºŒè€ƒè¯•æœ€éº»çƒ¦çš„å°±æ˜¯è€ƒåœºåœ¨é‡‘å±±ï¼Œéœ€è¦å¤´å¤©æ™šä¸Šè¿‡å»ä½åœ¨è€ƒåœºé™„è¿‘çš„é…’åº—ï¼Œæˆ–è€…å‡Œæ™¨å››ç‚¹å¤šè·Ÿç€æ•™ç»ƒçš„è½¦å»è€ƒåœºã€‚ä¸ºäº†å¤šç¡ä¼šæˆ‘é€‰æ‹©å¤´å¤©æ™šä¸Šå»ä½åœ¨è€ƒåœºé™„è¿‘çš„é…’åº—ï¼Œæ—©ä¸Šå…­ç‚¹èµ·åºŠåˆ°è€ƒåœºè¿›è¡Œæ¨¡æ‹Ÿã€‚ç”±äºåªè¯·äº†åŠå¤©çš„å‡ï¼Œè€ƒå®Œåå°±å¾—èµ¶ç´§å›å…¬å¸ç»§ç»­æ¬ç –ã€‚è€Œæ¯æ¬¡æŒ‚ç§‘åï¼Œå›åˆ°å…¬å¸çš„å¿ƒæƒ…æå·®ï¼Œå°¤å…¶æ˜¯åŒäº‹é—®èµ·è€ƒè¿‡æ²¡æœ‰ï¼Œå¿ƒé‡Œè´¼éš¾å— ğŸ˜£ã€‚</p>
<h3 id="ç§‘ç›®ä¸‰"><a href="#ç§‘ç›®ä¸‰" class="headerlink" title="ç§‘ç›®ä¸‰"></a>ç§‘ç›®ä¸‰</h3><p>ç§‘ç›®äºŒè€ƒè¿‡åå°±å¼€å§‹ç»ƒä¹ ç§‘ç›®ä¸‰ï¼Œç§‘ç›®ä¸‰ç»ƒè½¦æ—¶é—´å¹¶ä¸æ˜¯å¾ˆé•¿ï¼Œå¤§æ¦‚å°±ç»ƒäº†å…­æ¬¡ï¼Œæ¯æ¬¡ä¸€ä¸ªåŠå°æ—¶ã€‚è€ƒè¯•çš„æ—¶å€™ä¹Ÿæ˜¯å¤´å¤©æ™šä¸Šå»ï¼Œæ—©ä¸Šæ—©èµ·å»è€ƒåœºè¿›è¡Œæ¨¡æ‹Ÿã€‚ç§‘ä¸‰è€ƒè¯•ä¼šåœ¨ä¸‰ä¸ªè·¯çº¿é‡Œé¢éšæœºæŒ‘é€‰ä¸€ä¸ªï¼Œæ‰€ä»¥æ¨¡æ‹Ÿçš„æ—¶å€™ä¸‰ä¸ªçº¿è·¯éƒ½ä¼šæ¨¡æ‹Ÿä¸€åœˆã€‚ç§‘ä¸‰è€ƒè¯•ä¸åŒäºç§‘äºŒï¼Œç§‘äºŒè€ƒè¯•å‰¯é©¾é©¶æ˜¯æ²¡æœ‰ç›‘è€ƒå‘˜çš„ï¼Œè€Œç§‘ä¸‰æœ‰ï¼Œå¹¶ä¸”ç›‘è€ƒå‘˜å°±æ˜¯æˆ‘ä»¬çš„æ•™ç»ƒã€‚æœ‰ä¸ªç†Ÿäººåœ¨æ—è¾¹å¿ƒæ€ä¼šå¥½å¾ˆå¤šï¼Œæ‰€ä»¥ä¸ä¼šåƒç§‘äºŒé‚£æ ·ç´§å¼ ï¼Œå¾ˆé¡ºåˆ©åœ°ä¸€æŠŠæ»¡åˆ†è¿‡äº†ã€‚</p>
<p>å½“æ—¶è€ƒè¯•æ˜¯æˆ‘ä»¬å››ä¸ªäººå­¦å‘˜ä¸€å—è€ƒï¼Œä¸€è¾†è½¦å››ä¸ªäººè½®æµè¿›è¡Œæ¨¡æ‹Ÿï¼Œç­‰åˆ°éƒ½æ¨¡æ‹Ÿå®Œå·²ç»åäºŒç‚¹äº†ï¼Œåœ¨è½¦ä¸Šå‘†äº†å°†è¿‘å…­ä¸ªå°æ—¶ï¼Œèº«å¿ƒç–²æƒ«çš„ã€‚ç­‰åˆ°ä¸‹åˆè½®åˆ°æˆ‘ä»¬è€ƒè¯•çš„æ—¶å€™ä¹Ÿå·²ç»ä¸€ç‚¹å¤šäº†ï¼Œè€ƒå®Œä¹‹åå°±æ„Ÿè§‰åƒæ˜¯åšæ¢¦ä¸€æ ·è¿™ä¹ˆé¡ºåˆ©åœ°ä¸€æŠŠè¿‡äº†ï¼Œæ¯”ç§‘ç›®äºŒè€ƒè¯•é¡ºåˆ©å¤šäº†ã€‚</p>
<h3 id="ç§‘ç›®å››"><a href="#ç§‘ç›®å››" class="headerlink" title="ç§‘ç›®å››"></a>ç§‘ç›®å››</h3><p>ç§‘ç›®å››å’Œç§‘ç›®ä¸€å·®ä¸å¤šï¼Œåªè¦åˆ·ç‚¹é¢˜å°±èƒ½è½»æ¾è¿‡ã€‚è€ƒè¯•çš„æ—¶å€™å¸¦ä¸Šåœ¨é©¾æ ¡é¢ç­¾æ—¶ç•™ä¸‹çš„é‚£å¼ è¯ä»¶ç…§ï¼Œç§‘å››è€ƒè¿‡ä¹‹åï¼Œå°±ä¼šå½“åœºåŠé©¾é©¶è¯ï¼Œç„¶åè¿›è¡Œå®£èª“å°±èƒ½æ‹¿åˆ°é©¾ç…§å•¦ã€‚</p>
<h2 id="ä¹°è½¦"><a href="#ä¹°è½¦" class="headerlink" title="ä¹°è½¦"></a>ä¹°è½¦</h2><h3 id="åŠ¨æœº-1"><a href="#åŠ¨æœº-1" class="headerlink" title="åŠ¨æœº"></a>åŠ¨æœº</h3><p>è€ƒå®Œé©¾ç…§åè¿˜æ²¡æœ‰ä¹°è½¦çš„æ‰“ç®—ï¼Œç›´åˆ°æœ‰ä¸€å¤©å’Œæˆ‘å§å•†é‡å¥½å›½åº†å¸¦çˆ¶æ¯å»å±±è¥¿è‡ªé©¾æ¸¸ç©åï¼Œæ‰æƒ³èµ¶ç´§ä¹°è¾†è½¦ç»ƒç»ƒæ‰‹ï¼Œæ–¹ä¾¿åœ¨è‡ªé©¾æ¸¸çš„æ—¶å€™ä»£æ›¿è€çˆ¸å¼€è½¦ï¼Œè®©è€çˆ¸ä¼‘æ¯ä¼šã€‚å½“æ—¶æƒ³ä¹°è½¦çš„åŠ¨æœºä¸»è¦æ˜¯æƒ³ç»ƒç»ƒæ‰‹ï¼Œäºæ˜¯æƒ³ç€èƒ½ä¸èƒ½ç§Ÿä¸€è¾†è½¦æ¥å¼€ç»ƒæ‰‹å‘¢ï¼Ÿäº‹å®è¯æ˜ç§Ÿè½¦ç»ƒæ‰‹ä¸å¤ªå¯è¡Œï¼Œå› ä¸ºç»å¤§å¤šæ•°ç§Ÿè½¦å¹³å°ä¸Šè¦æ±‚é©¾é¾„è‡³å°‘ä¸‰ä¸ªæœˆï¼Œè€Œæˆ‘åˆšæ‹¿é©¾ç…§ä¸åˆ°ä¸€ä¸ªæœˆ ğŸ˜‚ã€‚äºæ˜¯å°±ä¸‹å®šå†³å¿ƒä¹°è¾†è½¦å§ï¼Œæ‹¥æœ‰ä¸€å°å±äºè‡ªå·±çš„è½¦ã€‚</p>
<h3 id="é€‰è½¦"><a href="#é€‰è½¦" class="headerlink" title="é€‰è½¦"></a>é€‰è½¦</h3><p>ç°åœ¨å›æƒ³èµ·æ¥ï¼Œå¤§æ¦‚ç‡æ˜¯å—å¥½å‹ <a href="https://fk7.nova.moe/">Nova Kwok çš„æ€åŸŸ FK7 æ”¹è½¦ç¬”è®°</a> çš„å½±å“ï¼Œå½“æ—¶ä¹°è½¦çš„æ—¶å€™åªè®¤å‡†äº†æœ¬ç”°çš„åä»£æ€åŸŸï¼ˆäººç§°é¬¼ ğŸ‘» ç« ğŸ”¥ æ€åŸŸï¼‰ï¼Œå…¶ä»–è½¦å‹ä¸€æ¦‚æ²¡æœ‰è€ƒè™‘ï¼Œè€Œä¸”è¿˜æ˜¯æ‰‹åŠ¨æŒ¡çš„æ€åŸŸã€‚åä»£æ€åŸŸåœ¨åŒçº§åˆ«åŒä»·ä½çš„è½¦å‹ä¸­ï¼Œæ€§èƒ½å’Œæ“æ§æ€§æ— ç–‘æ˜¯æœ€æœ‰æ€§ä»·æ¯”çš„é€‰æ‹©ã€‚è‡³äºéš”éŸ³å·®ã€å¼‚å“å¤šã€ç¢°æ’æµ‹è¯• B æŸ±æ–­è£‚ã€å‘åŠ¨æœºç§¯ç‚­ã€ç»‡å¸ƒåº§æ¤…ã€å†…é¥°ç”¨æ–™ä¸€èˆ¬ç­‰ç¼ºç‚¹ï¼Œæ— ç–‘æ˜¯å°è¯äº†æœ¬ç”°å°±æ˜¯<strong>ä¹°å‘åŠ¨æœºé€è½¦</strong>çš„åˆ»æ¿å°è±¡ ğŸ˜‚ã€‚</p>
<p>ä¸ºä»€ä¹°æ‰‹åŠ¨æŒ¡è€Œä¸æ˜¯è‡ªåŠ¨æŒ¡ï¼š</p>
<ul>
<li>æ‰‹åŠ¨æŒ¡ä¾¿å®œå‘—ï¼Œè€Œä¸”æœ¬ç”°çš„è‡ªåŠ¨æŒ¡ CVT å˜é€Ÿç®±æœ‰ç‚¹è„†å¼±ï¼Œç»ä¸èµ·æš´åŠ›é©¾é©¶ï¼›</li>
<li>é©¾é©¶ä¹è¶£ï¼Ÿä½“éªŒäººè½¦åˆä¸€çš„æ„Ÿè§‰ ğŸ¤”ï¼ˆå¤§é›¾</li>
<li>æ‰‹åŠ¨æŒ¡çš„è½¦æ›´çœæ²¹ï¼Œäº‹å®ä¸Šç¡®å®å¦‚æ­¤ï¼Œæˆ‘å¼€äº†å¤§æ¦‚ 5000 å¤šå…¬é‡Œï¼Œç™¾å…¬é‡Œæ²¹è€—ä¸€ç›´ç»´æŒåœ¨ 5.7L å·¦å³ï¼›</li>
</ul>
<p>ä¸ºä»€ä¹°äºŒæ‰‹è½¦è€Œä¸æ˜¯æ–°è½¦ï¼š</p>
<ul>
<li>æ–°è½¦æ¯”è¾ƒè´µï¼Œå½“æ—¶æ–°è½¦ä»·æ ¼å·®ä¸å¤š 13 ä¸‡å·¦å³ï¼ŒåŠ ä¸Šä¿é™©ä»¥åŠè´­ç½®ç¨ï¼Œè½åœ°å·®ä¸å¤š 14 ä¸‡ï¼Œè€ŒäºŒæ‰‹è½¦æ²¡æœ‰è´­ç½®ç¨ä¿é™©ä¹Ÿä¾¿å®œï¼Œè½åœ°åªéœ€è¦ 8 ä¸‡å¤šï¼Œç›¸å·® 5 ä¸‡å¤šï¼Œæ‰€ä»¥äºŒæ‰‹è½¦æ›´åˆ’ç®—äº›ï¼›</li>
<li>åˆšæ‹¿é©¾ç…§ä¸ä¹…ï¼Œæ–°æ‰‹ä¸Šè·¯ï¼Œæ–°è½¦ä¸å°å¿ƒå‰è¹­æˆ–å‡ºäº‹æ•…åå¾ˆå¿ƒç–¼çš„ï¼ŒäºŒæ‰‹è½¦ç”¨æ¥å®ä¹ æœŸæ–°æ‰‹ç»ƒè½¦ï¼Œå°ç£•å°ç¢°ä¹Ÿä¸å¿ƒç–¼ï¼›</li>
</ul>
<h3 id="é—²é±¼æ‰¾è½¦"><a href="#é—²é±¼æ‰¾è½¦" class="headerlink" title="é—²é±¼æ‰¾è½¦"></a>é—²é±¼æ‰¾è½¦</h3><p>äºŒæ‰‹è½¦è´­ä¹°çš„æ–¹å¼æ— ç–‘å°±ä¸¤ç§ï¼šè½¦å•†å’Œä¸ªäººï¼Œå…¶é€»è¾‘å’Œç§Ÿæˆ¿ååˆ†ç›¸ä¼¼ã€‚è½¦å•†å°±æ˜¯ä¸ªä¸­ä»‹ï¼Œä¹°å®¶å’Œå–å®¶çš„é’±éƒ½èµšã€‚å¯¹äºå’±è¿™ç§æ—¥å¸¸ç”Ÿæ´»éƒ½è¦é æŠ å’Œè–…æ¥å…»å®¶ç³Šå£çš„ç©·å“¥ä»¬ï¼Œèƒ½çœåˆ™çœï¼Œæ‰€ä»¥ä¹°äºŒæ‰‹è½¦å½“ç„¶ä¸èƒ½ä»è½¦å•†é‚£é‡Œä¹°å•¦ï¼Œä»ä¸ªäººè½¦ä¸»é‚£é‡Œä¹°æ— ç–‘æ˜¯æœ€å…·æ€§ä»·æ¯”çš„ã€‚å½“æ—¶åœ¨é—²é±¼ä¸Šå¤§æ¦‚æ‰¾äº†ä¸‹é¢è¿™å‡ è¾†è½¦ï¼š</p>
<table>
<thead>
<tr>
<th>è½¦å‹</th>
<th>ä¸Šç‰Œå¹´ä»½</th>
<th>å…¬é‡Œæ•°</th>
<th>ä»·æ ¼</th>
<th>åŸå¸‚</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td>2016 æ¬¾åä»£æ€åŸŸ FC1</td>
<td>2018 å¹´ 10 æœˆ</td>
<td>4.8 ä¸‡</td>
<td>7.3 ä¸‡</td>
<td>ä¸Šæµ·</td>
<td>æ€€ç–‘æ˜¯äº‹æ•…è½¦</td>
</tr>
<tr>
<td>2016 æ¬¾åä»£æ€åŸŸ FC1</td>
<td>2018 å¹´ 10 æœˆ</td>
<td>5.6 ä¸‡</td>
<td>8 ä¸‡</td>
<td>ä¸Šæµ·</td>
<td>æ”¹è£…ä»¶æ¯”è¾ƒå¤š</td>
</tr>
<tr>
<td>2019 æ¬¾åä»£æ€åŸŸ FC1</td>
<td>2021 å¹´ 6 æœˆ</td>
<td>2.2 ä¸‡</td>
<td>8.3 ä¸‡</td>
<td>æ­å·</td>
<td>æœ€ç»ˆä¹°ä¸‹çš„è½¦</td>
</tr>
<tr>
<td>2021 æ¬¾åä»£æ€åŸŸ FK7</td>
<td>2021 å¹´ 1 æœˆ</td>
<td>2.8 ä¸‡</td>
<td>10.8 ä¸‡</td>
<td>ä¸Šæµ·</td>
<td>çœ‹ä¸­å´è¢«ä¹°èµ°çš„è½¦</td>
</tr>
<tr>
<td>2021 æ¬¾åä»£æ€åŸŸ FK7</td>
<td>2020 å¹´ 7 æœˆ</td>
<td>3.2 ä¸‡</td>
<td>11 ä¸‡</td>
<td>å°å·</td>
<td>ä»·æ ¼ç•¥è´µï¼Œæ€§ä»·æ¯”ä½</td>
</tr>
</tbody></table>
<p>åä»£æ€åŸŸå¤§æ¦‚åˆ†ä¸‰å¢ï¼ˆåº•ç›˜ä»£å· FC1ï¼‰å’Œä¸¤å¢ï¼ˆåº•ç›˜ä»£å· FK7ï¼‰ä¸¤ä¸ªè½¦å‹ï¼Œä¸‰å¢ FC1 åˆåˆ†ä¸º 2016 æ¬¾ã€2019 æ¬¾ä¸¤ç§ï¼ŒFK7 åˆ™åªæœ‰ 2021 æ¬¾ï¼Œæ€»ä½“ä¸Š FK7 ä»·æ ¼æ¯” FC1 è¦é«˜å‡ºä¸¤ä¸‡å·¦å³ï¼Œèƒ½åœ¨æ¥å—èŒƒå›´ã€‚</p>
<h3 id="ä¸Šæµ·çœ‹è½¦"><a href="#ä¸Šæµ·çœ‹è½¦" class="headerlink" title="ä¸Šæµ·çœ‹è½¦"></a>ä¸Šæµ·çœ‹è½¦</h3><p>å¤´å¤©æ™šä¸Šå’Œå–å®¶åœ¨å¾®ä¿¡ä¸Šæ²Ÿé€šå¥½å‘¨å…­ä¸Šåˆå»çœ‹è½¦ï¼Œçº¦å¥½äº†æ—¶é—´å’Œåœ°ç‚¹ã€‚å‘¨å…­çš„æ—¶å€™æ‰¾äº†é©¾æ ¡çš„æ•™ç»ƒå¼€è½¦ä¸€å—å»çš„ï¼Œè¿˜ç»™æ•™ç»ƒä¹°äº†åŒ…çƒŸï¼Œæ¯•ç«Ÿä¸ºäº†å¸®æˆ‘çœ‹è½¦è¿˜æŠŠä¸Šåˆå­¦å‘˜ç»ƒè½¦çš„æ—¶é—´éƒ½æ¨æ‰äº†ï¼Œä¸æ„æ€ä¸€ä¸‹ä¹Ÿä¸å¤ªå¥½ã€‚</p>
<p>å–å®¶æŠŠè½¦å¼€æ¥åï¼Œçœ‹äº†ä¸‹æ„Ÿè§‰å¤–è§‚å¾ˆç ´ï¼Œç¿¼å­æ¿å’Œä¿é™©æ éƒ½æœ‰ååˆ†æ˜æ˜¾çš„ç ´æŸï¼Œå†…é¥°ç£¨æŸçš„ååˆ†ä¸¥é‡ï¼Œå†…é¥°é—¨æŠŠæ‰‹å’Œæ‰¶æ‰‹ç®±éƒ½ç£¨å‡ºçš®äº†ï¼Œæ¯”åå‡ ä¸‡å…¬é‡Œçš„æ•™ç»ƒè½¦ç£¨æŸçš„è¿˜ä¸¥é‡ã€‚å¿ƒæƒ³å°±è¿™ç£¨æŸç¨‹åº¦å…¬é‡Œä¹Ÿä¸ä¼šå¤ªä½ï¼Œä¸å¯èƒ½äº”ä¸‡ä¸åˆ°ã€‚äºæ˜¯å°±å’Œå–å®¶å•†é‡äº†ä¸€ä¸‹æ‰¾ä¸ªç¬¬ä¸‰æ–¹çš„ç›‘æµ‹æœºæ„éªŒä¸€ä¸‹è½¦ï¼Œçœ‹çœ‹è½¦çœŸå®çš„è½¦å†µã€‚å–å®¶ä¹Ÿæ˜¯åŒæ„äº†ï¼Œä¸è¿‡ä»–æ”¯æ”¯å¾å¾åœ°è¯´ä¸€ä¼šæœ‰äº‹è¦ç¦»å¼€ï¼Œè¿˜æ˜¯çº¦åˆ°ä¸‹åˆå§ã€‚</p>
<p>ä¸­åˆçš„æ—¶å€™å°±åœ¨é—²é±¼ä¸Šæ‰¾äº†ä¸ªéªŒè½¦çš„å¸ˆå‚…ï¼Œå’Œå–å®¶è¶Šå¥½ä¸‹åˆ 5 ç‚¹å¼€åˆ°ä¸€å®¶æ±½ä¿®åº—éªŒè½¦ã€‚éªŒè½¦çš„å®šé‡‘éƒ½ä»˜å¥½äº†ï¼Œä¸‹åˆçš„æ—¶å€™å–å®¶å±…ç„¶æŠŠæˆ‘ç»™é¸½äº†ï¼Œè¯´ä»€ä¹ˆéƒ½ä¸æ¥éªŒè½¦ã€‚ç»“åˆä¸Šåˆçš„çœ‹è½¦ç»å†ï¼Œæ„Ÿè§‰è¿™è¾†å¤§æ¦‚ç‡æ˜¯è¾†äº‹æ•…è½¦ï¼Œä¼°è®¡è½¦ä¸»ä¹Ÿå¿ƒè™šäº†ï¼Œä¸æ•¢æ¥éªŒè½¦ã€‚</p>
<h3 id="æ­å·çœ‹è½¦"><a href="#æ­å·çœ‹è½¦" class="headerlink" title="æ­å·çœ‹è½¦"></a>æ­å·çœ‹è½¦</h3><p>è‡ªä»æœ‰äº†ç¬¬ä¸€æ¬¡çœ‹è½¦çš„æ•™è®­åé¢ä¹Ÿå°±è°¨æ…å¤šäº†ï¼Œå†ä¸‰çº ç»“ä¹‹åå°±é€‰æ‹©äº†æ­å·çš„è¿™è¾† 2019 æ¬¾åä»£æ€åŸŸ FC1ã€‚è™½ç„¶çœ‹ä¸Šäº† 10.8 ä¸‡çš„ FK7 ï¼Œæ— å¥ˆæ‰‹æ…¢ï¼Œå–å®¶å·²ç»æŠŠè½¦å–æ‰äº†ï¼Œåªèƒ½é€‰æ‹©è¿™è¾†åœ¨æ­å·çš„ FC1 äº†ã€‚ç”±äºè½¦ç®¡æ‰€å‘¨å…­æ—¥ä¸ä¸Šç­ï¼Œæ‰€ä»¥å°±çº¦å¥½å‘¨äº”å¼€æ¥çœ‹è½¦ç„¶åå†å»è¿‡æˆ·ã€‚å‘¨å››å’Œ leader è¯·äº†ä¸€å¤©å‡ï¼Œä¸‹ç­åå°±ååŠ¨è½¦å»äº†æ­å·ï¼Œåœ¨æ­å·ä½äº†ä¸€æ™šã€‚æ™šä¸Šåœ¨é—²é±¼ä¸ŠèŠ±äº† 299 æ‰¾äº†ä¸ªäºŒæ‰‹è½¦æ£€æµ‹çš„å¸ˆå‚…ï¼Œå¹¶çº¦å¥½äº†æ˜å¤©çš„çœ‹è½¦åœ°ç‚¹ã€‚</p>
<p>ç¬¬äºŒå¤©çœ‹è½¦çš„æ—¶å€™çº¦åœ¨äº†ä¸€ä¸ªä¿®ç†å‚é™„è¿‘ï¼Œçœ‹è½¦å¸ˆå‚…å…ˆæ˜¯æ‹¿ä¸€ä¸ªè¯»å– ECU æ•°æ®çš„è®¾å¤‡çœ‹äº†ä¸‹å‘é€æœºçš„è¿è¡Œæ—¶é—´ï¼Œä»¥åŠå˜é€Ÿç®±é‡Œè®°å½•çš„è¡Œé©¶é‡Œç¨‹ã€‚ç»“åˆ 4S åº—ç»´ä¿è®°å½•å¯ä»¥ç¡®å®šè¿™ä¸æ˜¯ä¸€è¾†è°ƒè¡¨è½¦ã€‚ä¸€èˆ¬ä¸€æ‰‹çš„ä¸ªäººè½¦ä¸»å–è½¦å¾ˆå°‘ä¼šæœ‰è°ƒè¡¨çš„æƒ…å†µï¼Œè½¦å•†é‚£é‡Œçš„äºŒæ‰‹è½¦ä¹°åˆ°è°ƒè¡¨è½¦çš„æ¦‚ç‡æå¤§ã€‚ç„¶åå¸ˆå‚…åˆæ‹¿æ¼†è†œä»ªæ’æŸ¥é‡Œä¸‹è½¦è¾†æ•´ä½“é’£é‡‘ç»´ä¿®çš„æƒ…å†µï¼Œä¹ŸåŸºæœ¬å’Œè½¦ä¸»æè¿°çš„ä¸€è‡´ï¼Œæ²¡æœ‰å¤§äº‹æ•…åªæœ‰å‡ å¤„åˆ®è¹­ã€‚æœ€ååœ¨ä¿®ç†åº—ä¸¾å‡æœºä¸Šçœ‹äº†ä¸‹å‘é€æœºåº•ç›˜ï¼Œä¹Ÿæ²¡å•¥å¤§ç¢ã€‚å‰å‰ååéªŒè½¦å¤§æ¦‚ç”¨äº†ä¸€ä¸ªå¤šå°æ—¶ï¼Œå„ä¸ªæ–¹é¢çœ‹çš„éƒ½ååˆ†ä»”ç»†ï¼ŒèŠ±ç‚¹é’±è¯·ä¸ªä¸“ä¸šçš„å¸ˆå‚…æ¥çœ‹è¿˜æ˜¯æŒºå€¼çš„å¾—ã€‚</p>
<h3 id="å˜‰å…´è¿‡æˆ·"><a href="#å˜‰å…´è¿‡æˆ·" class="headerlink" title="å˜‰å…´è¿‡æˆ·"></a>å˜‰å…´è¿‡æˆ·</h3><p>å¤§æ¦‚ä¸Šåˆä¹ç‚¹å·¦å³çœ‹å®Œè½¦åï¼Œè§‰ç€æ²¡å•¥é—®é¢˜å°±å’Œè½¦ä¸»ä¸€å—å»è½¦ç®¡æ‰€åŠç†è¿‡æˆ·æ‰‹ç»­ã€‚è½¦ä¸»çš„è½¦ç‰Œæ˜¯å˜‰å…´çš„ï¼Œè€Œæˆ‘åˆšå¥½ä¹Ÿæƒ³æŒ‚å˜‰å…´çš„è½¦ç‰Œã€‚å› ä¸ºä¸Šæµ·çš„ç‡ƒæ²¹è½¦è“ç‰Œæ‹å–è‡³å°‘è¦ 10 ä¸‡ï¼Œè€Œä¸”ä»€ä¹ˆæ—¶å€™èƒ½æ‹åˆ°ä¹Ÿä¸ç¡®å®šï¼Œæ‰€ä»¥æŒ‚æµ™æ±Ÿæˆ–è€…æ±Ÿè‹çš„è½¦ç‰Œæ˜¯æœ€åˆé€‚çš„ã€‚è™½ç„¶ä¸Šæµ·æœ‰å¤–ç‰Œé™è¡Œæ”¿ç­–ï¼Œä½†è€ƒè™‘åˆ°æˆ‘å·¥ä½œæ—¥ä¹Ÿå¾ˆå°‘ä¼šç”¨åˆ°è½¦ï¼Œä¹Ÿå°±æ˜¯èŠ‚å‡æ—¥å¼€è½¦å‡ºå»ç©ï¼Œæ‰€ä»¥å¤–ç‰Œé™è¡Œå¯¹å’±æ¥è¯´ä¹Ÿæ²¡å•¥é—®é¢˜ã€‚</p>
<p>åœ¨å˜‰å…´è¿‡æˆ·éœ€è¦åœ¨ 12123 ä¸Šæå‰é¢„çº¦ï¼Œæ²¡æœ‰é¢„çº¦çš„è¯æ˜¯æ— æ³•è¿›å…¥åˆ°è½¦ç®¡æ‰€è¿›è¡ŒéªŒè½¦çš„ï¼Œè€Œé‚£å¤©çš„é¢„çº¦åé¢å·²ç»æ²¡æœ‰äº†ï¼Œæœ¬ä»¥ä¸ºè¦ç­‰åˆ°ä¸‹å‘¨ä¸€æ‰èƒ½è¿‡æˆ·äº†ã€‚è¿˜å¥½è½¦ä¸»å¸®å¿™æ‰¾äº†ä¸ªé»„ç‰›å¸®å¿™åŠç†çš„è¿‡æˆ·ï¼Œä¸ç”¨æå‰é¢„çº¦ï¼Œå°±èƒ½æŠŠè½¦å¼€è¿›è½¦ç®¡æ‰€éªŒè½¦ã€‚ç”¨äº†ä¸åˆ°ä¸€ä¸ªå°æ—¶å°±åŠå®Œäº†æ‰€æœ‰æ‰‹ç»­ï¼Œè¿˜æ˜¯é»„ç‰›å¸®å¿™åŠæ¯”è¾ƒçœå¿ƒã€‚</p>
<p>æ‹¿åˆ°æ–°çš„è¡Œé©¶è¯ï¼Œè¿™è¾†è½¦å°±å±äºå’±çš„å•¦ã€‚ç»ˆäºæœ‰äº†ä¸€è¾†è‡ªå·±çš„è½¦ï¼Œè™½ç„¶æ˜¯è¾†äºŒæ‰‹è½¦ä½†æ„Ÿè§‰è¿˜æ˜¯å¾ˆå¼€å¿ƒ ğŸ¥³ã€‚æŠŠè½¦ä¸»é€åˆ°é«˜é“ç«™ï¼Œé“åˆ«ä¹‹åå°±è‡ªå·±ä¸€ä¸ªäººä»å˜‰å…´å¼€è½¦å›ä¸Šæµ·ã€‚å› ä¸ºè¿˜åœ¨å®ä¹ æœŸä¸èƒ½å•ç‹¬ä¸Šé«˜é€Ÿï¼Œå†åŠ ä¸Šè‡ªä»è€ƒå®Œç§‘ä¸‰åä¸€ä¸ªå¤šæœˆæ²¡å†çœ‹è¿‡è½¦ï¼Œè‡ªå·±ä¸€ä¸ªäººä¹Ÿä¸æ•¢ä¸Šé«˜é€Ÿï¼Œå°±èµ°å›½é“çœé“æ…¢æ…¢åœ°å¼€å›äº†ä¸Šæµ·ã€‚å½“å¤©çš„æ„Ÿè§‰å°±æ˜¯æ²¡æƒ³åˆ°ä¹°è¾†äºŒæ‰‹è½¦è¿™ä¹ˆé¡ºåˆ©ï¼Œæ²¡å‡ºå•¥æ„å¤–ã€‚å¤´å¤©æ™šä¸ŠèŠå¥½ä»·é’±ï¼Œç¬¬äºŒå¤©ä¸Šåˆçœ‹è½¦å¹¶é¡ºåˆ©è¿‡æˆ·ï¼Œä¸‹åˆé¡ºåˆ©å¼€å›ä¸Šæµ·ï¼ŒæœŸé—´æ²¡å‡ºå•¥å¹ºè›¾å­ã€‚</p>
<h3 id="äºŒæ‰‹è½¦é¿å‘"><a href="#äºŒæ‰‹è½¦é¿å‘" class="headerlink" title="äºŒæ‰‹è½¦é¿å‘"></a>äºŒæ‰‹è½¦é¿å‘</h3><p>æ ¹æ®ä¸ªäººä¹°è½¦çš„ç»å†ï¼Œåˆ†äº«å‡ æ¡äºŒæ‰‹è½¦é¿å‘çš„å»ºè®®ï¼Œå¦‚æœä½ æœ‰ä¹°äºŒæ‰‹è½¦çš„æ‰“ç®—ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹ï¼š</p>
<ul>
<li>å°½é‡ä¹°ä¸ªäººè½¦ä¸»ï¼Œå¤§å¤šæ•°è½¦å•†ä¸é è°±ï¼Œè€Œä¸”æ€§ä»·æ¯”è¾ƒä½ï¼Œå¦‚æœéè¦é€‰æ‹©è½¦å•†çš„è¯ä¸€å®šè¦é€‰æ‹©ä¸€ä¸ªé è°±çš„è½¦å•†ï¼›<ul>
<li>é—²é±¼ä¸Šæœ‰å¾ˆå¤šè™šå‡çš„äºŒæ‰‹è½¦è½¦æºï¼Œå¾ˆå¤šå¸–å­å®é™…ä¸Šå°±æ˜¯å¼•æµéª—ä½ è¿‡å»çœ‹è½¦ï¼Œå’Œç§Ÿæˆ¿ä¸€ä¸ªå¥—è·¯ï¼›</li>
</ul>
</li>
<li>å»çœ‹è½¦å‰ï¼Œå¯ä»¥å…ˆåœ¨é—²é±¼ä¸Šæ‰¾äººæŸ¥ä¸€ä¸‹ 4S åº—çš„ç»´ä¿è®°å½•ä»¥åŠä¿é™©çš„å‡ºé™©è®°å½•ï¼š<ul>
<li>æ ¹æ® 4S åº—ç»´ä¿è®°å½•åˆ¤æ–­å…¬é‡Œæ•°æ˜¯å¦æœ‰çŒ«è…»ï¼Œ4S åº—ä¿å…»æ—¶ä¸€èˆ¬éƒ½ä¼šè®°å½•å…¬é‡Œæ•°çš„ï¼›</li>
<li>æ ¹æ®ä¿å…»è®°å½•åˆ¤æ–­è½¦ä¸»æ˜¯å¦çˆ±æƒœè½¦å­ï¼Œæ˜¯å¦åŠæ—¶ä¿å…»ï¼›</li>
<li>æ ¹æ®ç»´ä¿®è®°å½•åˆ¤æ–­è½¦å­æ˜¯å¦ç»´ä¿®è¿‡å‘åŠ¨æœºã€å˜é€Ÿç®±ç­‰ï¼›</li>
<li>æ ¹æ®å‡ºé™©è®°å½•åˆ¤æ–­äº‹æ•…å¤§è‡´ç±»å‹ï¼Œæ˜¯å¦æ˜¯äº‹æ•…è½¦ã€ç«çƒ§è½¦ã€æ³¡æ°´è½¦ï¼›</li>
</ul>
</li>
<li>ä¸€å®šè¦å†æ‰¾ä¸ªæ‡‚è½¦æˆ–ä¸“é—¨éªŒè½¦çš„å¸ˆå‚…å¸®å¿™ä¸€èµ·çœ‹è½¦ï¼š<ul>
<li>é€šè¿‡è¯»å– ECU å‘é€æœºè¿è¡Œæ—¶é—´ã€å˜é€Ÿç®±è¿è¡Œé‡Œç¨‹ã€ä¸Šæ¬¡ ABS è§¦å‘é‡Œç¨‹ç­‰ä¿¡æ¯æ¥åˆ¤æ–­æ˜¯å¦ä¸ºè°ƒè¡¨è½¦ï¼›</li>
<li>æŠŠè½¦å¼€åˆ°ä¿®ç†å‚ä¸¾å‡èµ·æ¥ï¼Œçœ‹åº•ç›˜ä»¥åŠè½¦æ¶æ˜¯å¦æ­£å¸¸ã€æ²¹åº•å£³æ˜¯å¦æ¼æ²¹ã€å‘é€æœºå·¥å†µç­‰ï¼›</li>
<li>æ‰“å¼€å‘åŠ¨æœºæœºèˆ±çœ‹é˜²æ’æ¢ã€è½¦æ¶ã€å‰¯è½¦æ¶ã€æ°´ç®±ã€ä¸­å†·ã€æœºè„šç­‰éƒ¨ä»¶æ˜¯å¦æœ‰é’£é‡‘ç»´ä¿®çš„ç—•è¿¹ï¼›</li>
<li>ç”¨æ¼†è†œä»ªæµ‹é‡è½¦ä¸Šæ•°å¦æœ‰é’£é‡‘ç»´ä¿®çš„ç—•è¿¹åˆ¤æ–­è½¦å­æ˜¯å¦æœ‰è¿‡äº‹æ•…ï¼›</li>
<li>åå¤‡ç®±å¤‡èƒå‘ã€è½¦é—¨ã€A&#x2F;B&#x2F;C æŸ±æ˜¯å¦æœ‰é’£é‡‘ç»´ä¿®çš„ç—•è¿¹ï¼›</li>
<li>æŸ¥çœ‹è½¦æ¤…å­èºä¸ã€å®‰å…¨å¸¦èºä¸ã€å®‰å…¨å¸¦ã€å®‰å…¨æ°”å›Šç­‰æ˜¯å¦æœ‰æ‹†å¸çš„ç—•è¿¹ï¼›</li>
</ul>
</li>
<li>åŠç†è¿‡æˆ·å¦‚æœæƒ³å›¾ä¸ªçœäº‹å„¿çš„è¯ï¼Œå»ºè®®æ‰¾ä¸ªé è°±çš„é»„ç‰›å¸®å¿™åŠç†ï¼Œè¿™æ ·å¯ä»¥å¸®ä½ èŠ‚çœå¾ˆå¤šæ—¶é—´å’Œç¹ççš„æ‰‹ç»­ï¼›</li>
</ul>
<h3 id="æ”¹è£…"><a href="#æ”¹è£…" class="headerlink" title="æ”¹è£…"></a>æ”¹è£…</h3><p>è½¦å­ä¹°æ¥åï¼Œå°±å¼€å§‹ç»™è‡ªå·±çš„çˆ±è½¦è¿›è¡Œåˆæ³•æ”¹è£…ï¼Œå‡çº§ä¸€ä¸‹è£…å¤‡ã€‚ä» <a href="https://fk7.nova.moe/">ã€ŠNova Kwok çš„æ€åŸŸ FK7 æ”¹è½¦ç¬”è®°ã€‹</a> é‚£é‡Œå·æ¥ä¸€ä¸ªç±»ä¼¼çš„è¡¨æ ¼ï¼š</p>
<table>
<thead>
<tr>
<th>åç§°</th>
<th>æ—¶é—´</th>
<th>ä»·æ ¼ ï¼ˆCNYï¼‰</th>
<th>æ¨èæŒ‡æ•°</th>
</tr>
</thead>
<tbody><tr>
<td>æœ¬ç”°åŸå‚èƒå‹ç›‘æµ‹</td>
<td>2023 å¹´ 9 æœˆ</td>
<td>530+300 å·¥æ—¶è´¹ç”¨</td>
<td>â˜…â˜…â˜…â˜…â˜…</td>
</tr>
<tr>
<td>é©¬ç‰Œ UC7 (215&#x2F;55&#x2F;R16)</td>
<td>2023 å¹´ 11 æœˆ</td>
<td>709*4&#x3D;2836</td>
<td>â˜…â˜…â˜…â˜…</td>
</tr>
<tr>
<td>MX72 å‰ååˆ¹è½¦ç‰‡</td>
<td>2023 å¹´ 11 æœˆ</td>
<td>2300+300 å·¥æ—¶è´¹</td>
<td>â˜…â˜…â˜…</td>
</tr>
<tr>
<td>endless S-Four åˆ¹è½¦æ²¹</td>
<td>2023 å¹´ 11 æœˆ</td>
<td>320+ 100 å·¥æ—¶è´¹</td>
<td>â˜…â˜…â˜…</td>
</tr>
<tr>
<td>ç¢³çº¤ç»´æ–¹å‘ç›˜</td>
<td>2023 å¹´ 10 æœˆ</td>
<td>480ï¼ˆåŸå‚ç½®æ¢ï¼‰</td>
<td>â˜…â˜…</td>
</tr>
<tr>
<td>RAZO è¸æ¿</td>
<td>2023 å¹´ 9 æœˆ</td>
<td>320+100 å·¥æ—¶è´¹</td>
<td>â˜…â˜…â˜…</td>
</tr>
<tr>
<td>é›¨åˆ·</td>
<td>2023 å¹´ 9 æœˆ</td>
<td>180</td>
<td>â˜…â˜…</td>
</tr>
<tr>
<td>é¡¶å§</td>
<td>2023 å¹´ 10 æœˆ</td>
<td>175</td>
<td>â˜…â˜…</td>
</tr>
<tr>
<td>å‘åŠ¨æœºé˜²æŠ¤æ¿</td>
<td>2023 å¹´ 10 æœˆ</td>
<td>210</td>
<td>â˜…â˜…</td>
</tr>
<tr>
<td>Type R æ’æŒ¡å¤´</td>
<td>2023 å¹´ 9 æœˆ</td>
<td>180</td>
<td>â˜…â˜…â˜…â˜…</td>
</tr>
<tr>
<td>åå¤‡ç®±éš”éŸ³æ£‰</td>
<td>2023 å¹´ 11 æœˆ</td>
<td>90</td>
<td>â˜…â˜…â˜…â˜…</td>
</tr>
<tr>
<td>è¾¾èŠ¬å¥‡è½¦æœºåŠ©æ‰‹</td>
<td>2023 å¹´ 9 æœˆ</td>
<td>168</td>
<td>â˜…â˜…</td>
</tr>
</tbody></table>
<ul>
<li>è¾¾èŠ¬å¥‡è½¦æœºåŠ©æ‰‹</li>
</ul>
<p>è½¦å¼€å›æ¥çš„ç¬¬äºŒå¤©å°±åœ¨æ·˜å®ä¸Šä¹°äº†è¾¾èŠ¬å¥‡è½¦æœºåŠ©æ‰‹ï¼Œç ´è§£äº†åŸå‚çš„è½¦æœºã€‚åˆšå¼€å§‹ç”¨çš„æ—¶å€™æ„Ÿè§‰å¾ˆæ–°å¥‡ï¼Œä¸€å †èŠ±é‡Œèƒ¡å“¨çš„åŠŸèƒ½ï¼Œä½†åæ¥å¾ˆå°‘ç”¨äº†ã€‚ç›®å‰æœ€å¤§çš„ç”¨é€”å°±æ˜¯è‡ªå®šä¹‰ä»ªè¡¨ç›˜ï¼ŒæŠŠè€å©†å¤´åƒæ”¾åœ¨ä¸Šé¢ï¼Œå°±æ²¡æœ‰åˆ«çš„ç”¨é€”äº†ã€‚ä¹‹å‰æœ‰ç”¨è¿‡ä¸€æ®µæ—¶é—´åœ¨ä»ªè¡¨ç›˜ä¸Šæ˜¾ç¤ºå¯¼èˆªï¼Œä½†éœ€è¦è¿æ¥æ‰‹æœºçƒ­ç‚¹æ‰èƒ½æ”¯æŒï¼Œå¦‚æœç”¨ U ç›˜ç¦»çº¿åœ°å›¾çš„è¯ä¼šå’Œ CarPlay å†²çªï¼Œä½¿ç”¨èµ·æ¥å¹¶ä¸æ˜¯å¾ˆæ–¹ä¾¿å°±æ²¡å†ä½¿ç”¨äº†ã€‚</p>
<p><img data-src="https://p.k8s.li/2023-honda-civic/2023-honda-civic12.jpg"></p>
<ul>
<li>èƒå‹ç›‘æµ‹</li>
</ul>
<p>æœ¬ç”°åŸå‚çš„èƒå‹æ£€æµ‹ï¼Œååˆ†æ¨èï¼Œå®‰è£…åœ¨æ–¹å‘ç›˜å·¦ä¸‹ä¾§çš„åŸå‚é¢„ç•™ä½ç½®ï¼Œä»åŸå‚é¢„ç•™çš„å–ç”µæ’å£å–ç”µï¼Œè¦æ¯”ä¸€äº› USB ä¾›ç”µçš„èƒå‹ç›‘æµ‹ç¾è§‚å¾ˆå¤šã€‚</p>
<p><img data-src="https://p.k8s.li/2023-honda-civic/2023-honda-civic-02.jpg"></p>
<p>å½“æ—¶æ¢å®Œèƒå‹ç›‘æµ‹åï¼Œä¿®è½¦å¸ˆå‚…å¿˜è®°ç»™å·¦å‰è½®æ‰“èƒå‹äº†ï¼Œæˆ‘ä¸€ç›´ä»¥ä¸ºæ˜¯èƒå‹ä¼ æ„Ÿå™¨çš„é—®é¢˜ï¼Œå°±æ²¡æœ‰å»ç®¡ã€‚ç›´åˆ°åæ¥ç”¨æ‰“æ°”ç­’æµ‹äº†ä¸€ä¸‹ï¼Œèƒå‹ç¡®å®åªæœ‰ 1.7 Barã€‚æˆ‘è¿˜å¼€è½¦èµ°é«˜é€Ÿå»äº†ä¸€è¶Ÿæ²ˆå®¶æ¹¾ç å¤´ï¼Œç°åœ¨å›æƒ³èµ·æ¥åèƒŒçªç„¶å‘å‡‰ï¼Œå¹¸å¥½æ²¡å‡ºæ„å¤–ï¼Œä¸ç„¶çš„è¯å¯èƒ½ä»ä¸œæµ·å¤§æ¡¥é‚£é‡Œçˆ†èƒæ‰åˆ°æµ·é‡Œäº† ğŸ˜¨ã€‚</p>
<ul>
<li>æ’æŒ¡å¤´</li>
</ul>
<p>åŸå‚æ’æŒ¡å¤´çš„æè´¨æ˜¯æ©¡èƒ¶å¡‘æ–™ï¼Œæ„Ÿè§‰æ‘¸èµ·æ¥ä¸æ˜¯å¾ˆçˆ½ï¼Œå°±åœ¨æ¢æˆäº†å…¨é“åˆé‡‘çš„æ’æŒ¡å¤´ï¼Œæ‰‹æ„Ÿè´¼æ£’ã€‚å”¯ä¸€çš„ç¼ºç‚¹å°±æ˜¯å¤å¤©é«˜æ¸©å¤©æ°”æ—¶çƒ«æ‰‹ ğŸ”¥ã€å†¬å¤©å†·çš„æ—¶å€™å†»æ‰‹ ğŸ¥¶ã€‚</p>
<p><img data-src="https://p.k8s.li/2023-honda-civic/2023-honda-civic-08.jpg"></p>
<ul>
<li>æ–¹å‘ç›˜</li>
</ul>
<p>æ”¹è£…çš„ç¢³çº¤ç»´æ–¹å‘ç›˜ï¼Œæ„Ÿè§‰ä¸æ˜¯å¾ˆå€¼å¾—</p>
<ul>
<li>è½®èƒ</li>
</ul>
<p>å›½åº†å›æ¥çš„è·¯ä¸Šåœ¨é«˜é€Ÿä¸Šç»å†äº†ä¸€æ¬¡å·®ç‚¹è¿½å°¾çš„äº‹æ•…åï¼Œå°±æ„Ÿè§‰åˆ°è½¦å­çš„åˆ¹è½¦è·ç¦»æœ‰ç‚¹ä¸Šï¼Œåˆ¹è½¦å‰åŠæ®µç©ºè¡Œç¨‹æ¯”è¾ƒé•¿ã€‚ä¸ºäº†èƒ½æå‡åˆ¹è½¦æ€§èƒ½å‡å°‘åˆ¹è½¦è·ç¦»ï¼Œå°±å‡†å¤‡æ”¹è£…ä¸€ä¸‹è½®èƒå’Œåˆ¹è½¦ç‰‡ã€‚ç”±äºåŸå‚çš„ 215&#x2F;55R16 å°ºå¯¸çš„è½®èƒå¯é€‰æ‹©çš„èŒƒå›´æ¯”è¾ƒå°‘ï¼Œæ¯”è¾ƒæµå‘çš„é©¬ç‰Œ MC6 å’Œç±³å…¶æ— PS4 éƒ½æ²¡æœ‰ 16 å¯¸çš„ï¼Œä¸ºäº†åˆæ³•æ”¹è£…ä¸æ›´æ”¹è½®èƒè½®æ¯‚å°ºå¯¸å°±æ— å¥ˆé€‰æ‹©äº†é©¬ç‰Œçš„ UC7 è½®èƒã€‚</p>
<ul>
<li>åˆ¹è½¦</li>
</ul>
<p>å‰åè½®çš„åˆ¹è½¦ç›˜æ¢æˆäº† Endless MX72ï¼Œé¡ºå¸¦æ›´æ¢ endless S-Four çš„åˆ¹è½¦æ²¹ï¼Œæ›´æ¢å®Œæˆåæ„Ÿè§‰åˆ¹è½¦è„šæ„Ÿå˜è½¯äº†ï¼Œä½†åˆ¹è½¦åˆ¶åŠ¨è·ç¦»ç¼ºå¤±æ¯”åŸå‚å¥½äº†å¾ˆå¤šã€‚å°¤å…¶æ˜¯ç´§æ€¥æ€¥åˆ¹çš„æ—¶å€™ï¼Œå‰åŠæ®µçš„ç©ºè¡Œç¨‹ç¼©çŸ­äº†ä¸å°‘ã€‚</p>
<p><img data-src="https://p.k8s.li/2023-honda-civic/2023-honda-civic-03.jpg"></p>
<ul>
<li>å‘åŠ¨æœºåº•ç›˜é˜²æŠ¤æ¿</li>
</ul>
<p>åŸå‚çš„åº•ç›˜é˜²æŠ¤æ¿åªæœ‰è–„è–„çš„ä¸€å±‚é“åˆé‡‘ï¼Œæ›´æ¢æˆäº†åŠ åšå…¨é’¢çš„æŠ¤æ¿ã€‚æ›´æ¢å®Œæˆåå°±åæ‚”äº†ï¼Œå› ä¸ºåŠ è£…çš„æŠ¤æ¿ä¼šå½±å“åˆ°å‰§çƒˆç¢°æ’åå‘åŠ¨æœºä¸‹æ²‰ï¼Œå‘é€æœºå¯èƒ½ä¼šç”±äºæ— æ³•ä¸‹æ²‰è€Œçªç ´é˜²ç«å¢™æŒ¤å…¥é©¾é©¶å®¤ï¼Œé©¾é©¶å‘˜æœ‰åƒå¸­çš„é£é™©ã€‚å…¶å®å¦‚æœç”¨è½¦ç¯å¢ƒæ¯”è¾ƒå¥½ï¼Œæ¯”å¦‚åœ¨å¸‚åŒºå’Œé«˜é€Ÿä¸Šå¼€ï¼Œä¸å¼€ä¸€äº›çƒ‚è·¯ï¼ŒåŸå‚çš„æŠ¤æ¿å·²ç»è¶³å¤Ÿäº†ï¼Œå®Œå…¨æ²¡å¿…è¦æ›´æ¢ã€‚</p>
<ul>
<li>åå¤‡ç®±éš”éŸ³æ£‰</li>
</ul>
<p>åŸå‚åå¤‡ç®±çš„éš”éŸ³æ£‰ç»™å‡é…æ‰äº†ï¼Œåœ¨åå¤‡ç®±è£…ä¸€äº›å¤§ä»¶ç‰©å“çš„æ—¶å€™å®¹æ˜“åˆ®åˆ°ä¸Šé¢çš„éŸ³å“å’Œä¸€äº›èºä¸ã€‚äºæ˜¯å°±åŠ è£…äº†ä¸€ä¸ªéš”éŸ³æ£‰ï¼Œçœ‹èµ·æ¥é è°±äº†å¾ˆå¤šã€‚</p>
<p><img data-src="/pics/2023-honda-civic/2023-honda-civic-07.jpg"></p>
<ul>
<li>æœºæ²¹æœºæ»¤</li>
</ul>
<p>åä»£æ€åŸŸæ˜¯è¦æ±‚æ¯ 5000 å…¬é‡Œæ›´æ¢ä¸€æ¬¡æœºæ²¹ï¼Œç”±äºæ­è½½çš„æ˜¯ 1.5T åœ°çƒæ¢¦ï¼ˆç¼¸å†…ç›´å–·æ¶¡è½®å¢å‹ï¼‰å‘åŠ¨æœºï¼Œç§¯ç¢³é—®é¢˜ä¼šä¸¥é‡ä¸€äº›ï¼Œæœ¬ç”°å®˜æ–¹å°±è¦æ±‚æ¯ 5000 å…¬é‡ŒåŠ æ³¨ä¸€ç“¶ç‡ƒæ²¹å®ä»¥ç¼“è§£ç§¯ç¢³é—®é¢˜ï¼Œæ•…åœ°çƒæ¢¦å‘åŠ¨æœºä¹Ÿè¢«ç§°ä¹‹ä¸ºç§¯ç¢³æ¢¦å‘åŠ¨æœº ğŸ˜‚ã€‚</p>
<p><img data-src="https://p.k8s.li/2023-honda-civic/2023-honda-civic-09.jpg"></p>
<p>æ„Ÿè§‰å››å„¿å­åº—ä¿å…»ä½¿ç”¨çš„æœºæ²¹å’Œæœºæ»¤éƒ½æ¯”è¾ƒå·®ï¼Œæ‰€ä»¥æ²¡æœ‰å» 4S åº—ä¿å…»ï¼Œè‡ªå·±ä¹°å¥½æœºæ²¹æœºæ»¤åœ¨äº¬ä¸œå…»è½¦åº—é‡Œä¸ŠèŠ± 50 å—é’±å°±èƒ½æ¢å¥½ã€‚äº¬ä¸œä¸Šææ´»åŠ¨çš„æ—¶å€™ HKS 0W-20 4L æœºæ²¹å¤§æ¦‚éœ€è¦ 360 å—å·¦å³ã€å°ç“¶ DDR ç‡ƒæ²¹å® 100 å—ã€æœ¬ç”°åŸå‚ HAMP æ»¤èŠ¯ 48 å—ã€æ›´æ¢æœºæ²¹æœºæ»¤å·¥æ—¶è´¹ 50 å—ï¼Œæ¯æ¬¡ä¿å…»åŠ èµ·æ¥å·®ä¸å¤šéœ€è¦ 550 å—ã€‚</p>
<h3 id="æ²¹è€—"><a href="#æ²¹è€—" class="headerlink" title="æ²¹è€—"></a>æ²¹è€—</h3><p>æˆ‘å¼€è½¦æ¯”è¾ƒæ¸©æŸ”ï¼Œä¸ä¼šå¤§è„šæ²¹é—¨å¤§è„šåˆ¹è½¦ï¼Œæ‰€ä»¥ç™¾å…¬é‡Œæ²¹è€—åŸºæœ¬ç»´æŒåœ¨ 5.7L å·¦å³ï¼Œè·¯å†µå¥½çš„è¯ 5.2L å·¦å³ï¼Œä¸Šä»»è½¦ä¸»çš„ç™¾å…¬é‡Œæ²¹è€—æ˜¯ 7.2Lã€‚å¯¹äºä¸€æ¬¾å®¶ç”¨ä¹°èœè½¦ï¼Œ5.7L çš„æ²¹è€—ç¡®å®ä¸é”™äº†ï¼Œå¦‚æœæ²¹ä»·èƒ½è·Œå› 6 å—ï¼Œè¿™ä¸ªåŠ æ²¹è´¹ç”¨ä¼°è®¡å’Œæ–°èƒ½æºç”µè½¦é½å¹³äº†ã€‚</p>
<p><img data-src="https://p.k8s.li/2023-honda-civic/2023-honda-civic-01.jpg"></p>
<h3 id="æˆ·å¤–å¾’æ­¥"><a href="#æˆ·å¤–å¾’æ­¥" class="headerlink" title="æˆ·å¤–å¾’æ­¥"></a>æˆ·å¤–å¾’æ­¥</h3><p>å›½åº†å›æ¥ä¹‹åï¼Œå’ŒåŒäº‹ä¸€èµ·å…¥å‘äº†æˆ·å¤–å¾’æ­¥ï¼Œä¹°äº†å„ç§æˆ·å¤–å¾’æ­¥çš„è£…å¤‡ï¼šå¾’æ­¥é‹ã€å¾’æ­¥åŒ…ã€æ°´è¢‹ã€é€Ÿå¹²è¡£ã€é€Ÿå¹²è¢œã€å†²é”‹è¡£ç­‰ã€‚æ¯åˆ°å‘¨å…­çš„æ—¶å€™å’Œä¸‰å››ä¸ªåŒäº‹è‡ªé©¾å»æ±Ÿæµ™æ²ªé™„è¿‘å¾’æ­¥ï¼Œå†ä¹Ÿä¸åƒä»¥å‰é‚£æ ·å‘¨æœ«åªä¼šå®…åœ¨å®¶é‡Œç©æ³¥å·´äº†ã€‚åŒäº‹ä»¬å·²ç»åœ¨è®¡åˆ’æ˜å¹´åœ¨å…¬å¸æˆç«‹ä¸€ä¸ªæˆ·å¤–å¾’æ­¥ä¿±ä¹éƒ¨ï¼Œæ¯æ¬¡å’ŒåŒäº‹å‡ºæ¥å¾’æ­¥æ¸¸ç©çš„æ—¶å€™éƒ½æœ‰ä¸€ç§è‡ªè´¹å›¢å»ºçš„æ„Ÿè§‰ ğŸ˜‚ã€‚</p>
<ul>
<li>é•¿å…´å²›éƒŠé‡å…¬å›­é‡‡æ‘˜æ©˜å­</li>
</ul>
<p>10 æœˆåº•çš„æ—¶å€™ï¼Œé•¿å…´å²›éƒŠé‡å…¬å›­æœ‰ä¸ªæŸ‘æ©˜èŠ‚ï¼Œäºæ˜¯å’ŒåŒäº‹å•†é‡ç€å»å…¬å›­é‡‡æ‘˜æ©˜å­ã€‚é‚£å¤©å‘¨å…­ä¸­åˆå»çš„ï¼ŒéƒŠé‡å…¬å›­å¯¹é¢çš„è’åœ°åœè½¦åœºåœçš„è½¦ä¹Ÿæ˜¯æ»¡æ»¡çš„ï¼Œå…¬å›­é‡Œé¢éœ²è¥çš„äººä¹Ÿå¾ˆå¤šã€‚å¥½åœ¨æ•´ä¸ªå…¬å›­çš„å åœ°é¢ç§¯æ¯”è¾ƒå¤§ï¼Œè™½ç„¶äººå¤šä½†ä¹Ÿä¸ä¼šæ„Ÿè§‰åˆ°æ‹¥æŒ¤ã€‚</p>
<p><img data-src="https://p.k8s.li/2023-honda-civic/2023-honda-civic-12.jpg"></p>
<ul>
<li>ä½™å§šå››æ˜å±±åç›–å±±</li>
</ul>
<p><img data-src="https://p.k8s.li/2023-honda-civic/2023-honda-civic-06.jpg"></p>
<p>å½“æ—¶å’ŒåŒäº‹æŠ¥çš„åä¸œæˆ·å¤–çš„å‘¨æœ«å›¢å»çš„ï¼Œæœ¬æƒ³ç€å»çœ‹å››æ˜å±±ç§‹æ™¯ï¼Œä½†é¢†é˜Ÿé€‰çš„è·¯çº¿å¾ˆä¸€èˆ¬ï¼Œè·¯ä¸Šæ²¡æœ‰ä»»ä½•ç§‹æ™¯å¯çœ‹ï¼Œèµ°çš„éƒ½æ˜¯é˜²ç«é“ï¼Œå„ç§é™¡å¡ã€‚æœŸé—´è¿˜æœ‰ä¸¤ä¸ªå¤§èªæ˜åœ¨å…³é—¨ç‚¹æ²¡åˆ°è¾¾è¢«é¢†é˜ŸåŠå›ä¸‹æ’¤åï¼Œåˆå·å·è·Ÿåœ¨äº†åé¢ï¼Œé¢†é˜Ÿæ²¡æœ‰å‘ç°ä»–ä¿©ã€‚ç”±äºä»–ä»¬ä¸¤ä¸ªä½“åŠ›ä¸è¡Œç­‰åˆ°å›å»çš„æ—¶å€™ä»–ä»¬è¿˜æ²¡æœ‰å›åˆ°é›†åˆåº—ï¼Œç­‰äº†ä¸€ä¸ªå¤šå°æ—¶è¿™ä¸¤ä¸ªå¤§èªæ˜æ‰è”ç³»é¢†é˜Ÿè¯´å¤©é»‘æ‰¾ä¸åˆ°å›å»çš„è·¯äº†ã€‚æœ€ç»ˆç•™ä¸‹äº†ä¸¤ä¸ªé¢†é˜Ÿå¸¦å»å±±ä¸Šæ‰¾ä»–ä»¬ï¼Œå…¶ä»–äººè·Ÿè½¦å›ä¸Šæµ·ã€‚</p>
<p>ç”±äºä¸¤ä¸ªå¤§èªæ˜ä¸å¬ä»é¢†é˜Ÿçš„å®‰æ’ï¼Œå¯¼è‡´åˆ°äº†ä¸ƒç‚¹åŠå¤šé¢†é˜Ÿæ‰è®©å¸æœºå›ä¸Šæµ·ï¼Œè€Œå¯¹äºå¤§å‹å®¢è½¦ï¼Œ8 ç‚¹è¿‡åæ˜¯è¦é™é€Ÿ 80KM&#x2F;h çš„ï¼Œæœ€ç»ˆå›åˆ°ä¸Šæµ·å¸‚å·²ç»åä¸€ç‚¹åŠäº†ã€‚ä¹Ÿå°±æ˜¯ä»è¿™ä¹‹åï¼Œæˆ‘å’ŒåŒäº‹å†ä¹Ÿä¸æƒ³æŠ¥å›¢å»å¾’æ­¥äº†ï¼Œä¸æƒ³å†é‡åˆ°ä¸€äº›è‡ªä»¥ä¸ºæ˜¯çš„å¤§èªæ˜ã€‚</p>
<ul>
<li>é•¿å…´å…«éƒ½å²•é“¶æé•¿å»Š</li>
</ul>
<p>åä¸€æœˆä¸­æ—¬å’ŒåŒäº‹å¸¦ç€ä»–å¥³æœ‹å‹ä¸€å—å»çš„ï¼Œå°±æ˜¯æƒ³å»çœ‹é‚£é‡Œçš„é“¶æï¼Œä¸è¿‡å»é£æ™¯æ²¡æœ‰æƒ³è±¡ä¸­çš„é‚£ä¹ˆå¥½ã€‚å¾ˆå¤šé«˜å¤§çš„é“¶ææ ‘å¶å­è¿˜ä¸å¤Ÿé»„ï¼Œä½†çŸ®å°çš„é“¶ææ ‘å¶å­éƒ½å¿«æ‰å…‰äº†ï¼Œæ²¡æ‰¾åˆ°é‚£ç§ä¸€ç‰‡é‡‘é»„çš„é“¶ææ—ã€‚</p>
<p><img data-src="https://p.k8s.li/2023-honda-civic/2023-honda-civic-10.jpg"></p>
<ul>
<li>ç»å…´çŸ³äº•æ°´åº“</li>
</ul>
<p>åäºŒæœˆä¸Šæ—¬å»çš„ï¼ŒçŸ³äº•æ°´åº“å‘¨è¾¹çš„æ°´æ‰æ—é£æ™¯ç¡®å®ä¸é”™ï¼Œè¿™ä¹Ÿæ˜¯å»è¿‡ä¼—å¤šå¾’æ­¥è·¯çº¿ä¸­ä½“éªŒæœ€å¥½çš„ä¸€ä¸ªæ™¯ç‚¹äº†ã€‚</p>
<p><img data-src="https://p.k8s.li/2023-honda-civic/2023-honda-civic-04.jpg"></p>
<ul>
<li>æ¹–å·ç‹ä½å±±å¤é“</li>
</ul>
<p>åäºŒæœˆä¸­æ—¬å»çš„ç‹ä½å±±ï¼Œè·ç¦»è«è«å¹²å±±æ¯”è¾ƒè¿‘ï¼Œå½“æ—¶æƒ³å»é¾™ç‹å±±çœ‹é›ªæ™¯å’Œé›¾å‡‡ï¼Œä½†æ€•æŠ€æœ¯ä¸å¥½åœ¨é›ªå¤©å¼€è½¦å®¹æ˜“ç¿»è½¦ï¼Œå°±æ”¹å»äº†ç‹ä½å±±ã€‚è¿™æ¡è·¯çº¿ä¸Šäººå¾ˆå°‘ï¼Œåˆ°è¾¾ç‹ä½å±±å±±é¡¶åï¼Œæœ‰ä¸€æ®µæœ‰é›¾å‡‡çš„ç«¹æ—ï¼Œé£æ™¯è¿˜å¯ä»¥ã€‚è™½ç„¶æ¯”ä¸ä¸Šé•¿ç™½å±±èˆ¬çš„æµ™è¥¿å¤©åœ°ï¼Œä½†å¥½åœ¨äººå°‘ï¼Œä½“éªŒä¹Ÿä¸é”™ã€‚</p>
<p><img data-src="https://p.k8s.li/2023-honda-civic/2023-honda-civic-05.jpg"></p>
<ul>
<li>ç»å…´åƒå¹´é¦™æ¦§æ—</li>
</ul>
<p>åä¸€æœˆåˆæ—¶å’ŒåŒäº‹ä¸€å—å»çš„ï¼ŒæŠŠè½¦åœåœ¨é›ªçª¦å²­æ™¯åŒºé‡Œçš„åœè½¦åœºã€‚ç„¶åå†çˆ¬å±±èµ°åˆ°é›ªçª¦å²­å±±ä¸Šçš„æ°´åº“çœ‹æ°´è¡«ï¼Œä½†æ„Ÿè§‰é£æ™¯ä¸€èˆ¬ï¼Œæ²¡æœ‰çŸ³äº•æ°´åº“çš„æ°´æ‰å¥½çœ‹äº›ã€‚ä»é›ªçª¦å²­å±±ä¸Šä¸‹æ¥åå°±å›´ç€åƒå¹´é¦™æ¦§æ—æ™¯åŒºæ¥äº†ä¸ªå¤§ç¯çº¿ï¼Œå½“å¤©å¤§æ¦‚èµ°äº† 20 å…¬é‡Œã€‚åˆå†¬æ—¶èŠ‚ï¼Œå±±ä¸Šä¹Ÿæ²¡å•¥å¥½çœ‹çš„é£æ™¯ï¼Œå¥½åœ¨è·¯æ¯”è¾ƒå¥½èµ°äº›ã€‚</p>
<p><img data-src="https://p.k8s.li/2023-honda-civic/2023-honda-civic-13.jpg"></p>
]]></content>
      <categories>
        <category>ç”Ÿæ´»</category>
      </categories>
      <tags>
        <tag>ç”Ÿæ´»</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®è¿ç”¨ä¸åˆ†æ</title>
    <url>/2024-06-06-data-utilization.html</url>
    <content><![CDATA[<h2 id="æ•°æ®è¿ç”¨ä¸åˆ†æ01"><a href="#æ•°æ®è¿ç”¨ä¸åˆ†æ01" class="headerlink" title="æ•°æ®è¿ç”¨ä¸åˆ†æ01"></a>æ•°æ®è¿ç”¨ä¸åˆ†æ01</h2><h3 id="2024-04-20é¥¼å›¾"><a href="#2024-04-20é¥¼å›¾" class="headerlink" title="2024.04.20é¥¼å›¾"></a>2024.04.20é¥¼å›¾</h3><p>In [3]:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line">plt.rcParams[&#x27;font.sans-serif&#x27;] = &#x27;SimHei&#x27;</span><br><span class="line"></span><br><span class="line"># å‡†å¤‡æ•°æ®</span><br><span class="line"></span><br><span class="line">data = np.array([20, 50, 10, 15, 30, 55])</span><br><span class="line">pie_labels = np.array([&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;, &#x27;D&#x27;, &#x27;E&#x27;, &#x27;F&#x27;])</span><br><span class="line"></span><br><span class="line"># startangle è®¾ç½®é¥¼å›¾çš„èµ·å§‹è§’åº¦ é»˜è®¤æ˜¯3ç‚¹é’Ÿæ–¹å‘</span><br><span class="line"># counterclock è®¾ç½®æ—‹è½¬æ–¹å‘ é»˜è®¤æ˜¯True</span><br><span class="line"># autopct æ˜¾ç¤ºæ¯ä¸€éƒ¨åˆ†æ‰€å ç™¾åˆ†æ¯”</span><br><span class="line"># shadow è®¾ç½®é¥¼å›¾çš„é˜´å½± é»˜è®¤False</span><br><span class="line"># pctdistance è®¾ç½®ç™¾åˆ†æ¯”å€¼ä¸é¥¼å›¾ä¸­å¿ƒçš„è·ç¦» é»˜è®¤ä¸º0.6</span><br><span class="line"># labeldistance è®¾ç½®æ ‡ç­¾ä¸é¥¼å›¾ä¸­å¿ƒçš„è·ç¦» é»˜è®¤ä¸º1.1</span><br><span class="line"># wedgeprops è®¾ç½®åœ†ç¯çš„å®½åº¦</span><br><span class="line">plt.pie(data, radius=1, labels=pie_labels, startangle=180, counterclock=False,</span><br><span class="line">        autopct=&#x27;%.2f%%&#x27;, shadow=True, pctdistance=0.8, labeldistance=1.2,</span><br><span class="line">        wedgeprops=&#123;&#x27;width&#x27;: 0.6&#125; )</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280910185.png" alt="image-20260128091024080"></p>
<h3 id="2024-04-20æ”¯ä»˜å®æ•°æ®é¥¼å›¾"><a href="#2024-04-20æ”¯ä»˜å®æ•°æ®é¥¼å›¾" class="headerlink" title="2024.04.20æ”¯ä»˜å®æ•°æ®é¥¼å›¾"></a>2024.04.20æ”¯ä»˜å®æ•°æ®é¥¼å›¾</h3><p>In [3]:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line">plt.rcParams[&#x27;font.sans-serif&#x27;] = &#x27;SimHei&#x27;</span><br><span class="line"></span><br><span class="line"># å‡†å¤‡æ•°æ®</span><br><span class="line"></span><br><span class="line">data = np.array([800, 100, 1000, 200, 300, 200, 200, 200])</span><br><span class="line">pie_labels = np.array([&#x27;è´­ç‰©&#x27;, &#x27;äººæƒ…å¾€æ¥&#x27;, &#x27;é¤é¥®ç¾é£Ÿ&#x27;, &#x27;é€šè®¯ç‰©æµ&#x27;, &#x27;ç”Ÿæ´»æ—¥ç”¨&#x27;, &#x27;äº¤é€šå‡ºè¡Œ&#x27;, &#x27;ä¼‘é—²å¨±ä¹&#x27;, &#x27;å…¶ä»–&#x27;])</span><br><span class="line">div = [0, 0, 0, 0, 0.2, 0, 0, 0.2]</span><br><span class="line"></span><br><span class="line"># startangle è®¾ç½®é¥¼å›¾çš„èµ·å§‹è§’åº¦ é»˜è®¤æ˜¯3ç‚¹é’Ÿæ–¹å‘</span><br><span class="line"># counterclock è®¾ç½®æ—‹è½¬æ–¹å‘ é»˜è®¤æ˜¯True</span><br><span class="line"># autopct æ˜¾ç¤ºæ¯ä¸€éƒ¨åˆ†æ‰€å ç™¾åˆ†æ¯”</span><br><span class="line"># shadow è®¾ç½®é¥¼å›¾çš„é˜´å½± é»˜è®¤False</span><br><span class="line"># pctdistance è®¾ç½®ç™¾åˆ†æ¯”å€¼ä¸é¥¼å›¾ä¸­å¿ƒçš„è·ç¦» é»˜è®¤ä¸º0.6</span><br><span class="line"># labeldistance è®¾ç½®æ ‡ç­¾ä¸é¥¼å›¾ä¸­å¿ƒçš„è·ç¦» é»˜è®¤ä¸º1.1</span><br><span class="line"># wedgeprops è®¾ç½®åœ†ç¯çš„å®½åº¦</span><br><span class="line">plt.pie(data, radius=1, labels=pie_labels, startangle=180, counterclock=False,</span><br><span class="line">        autopct=&#x27;%.2f%%&#x27;, shadow=True, pctdistance=0.8, labeldistance=1.1,</span><br><span class="line">        wedgeprops=&#123;&#x27;width&#x27;: 0.8&#125;, explode=div)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280910884.png" alt="image-20260128091047847"></p>
<h3 id="2024-04-20æ•£ç‚¹å›¾"><a href="#2024-04-20æ•£ç‚¹å›¾" class="headerlink" title="2024.04.20æ•£ç‚¹å›¾"></a>2024.04.20æ•£ç‚¹å›¾</h3><p>In [4]:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line">plt.rcParams[&#x27;font.sans-serif&#x27;] = &#x27;SimHei&#x27;</span><br><span class="line"></span><br><span class="line"># å‡†å¤‡æ•°æ®</span><br><span class="line">num = 100</span><br><span class="line"># ç”Ÿæˆ0-1çš„éšæœºæ•°</span><br><span class="line">x = np.random.rand(num)</span><br><span class="line">y = np.random.rand(num)</span><br><span class="line">y2 = np.random.rand(num)</span><br><span class="line"></span><br><span class="line">area = (10 * np.random.rand(num)) * 2</span><br><span class="line"></span><br><span class="line"># c æ•£ç‚¹é¢œè‰²</span><br><span class="line"># alpha é€æ˜åº¦</span><br><span class="line"># marker è®¾ç½®æ•£ç‚¹çš„å½¢çŠ¶</span><br><span class="line"># linewidths è®¾ç½®æ•£ç‚¹è¾¹æ¡†çš„å®½åº¦</span><br><span class="line"># edgecolors è®¾ç½®è¾¹æ¡†é¢œè‰²</span><br><span class="line"></span><br><span class="line">plt.scatter(x, y, c=&#x27;red&#x27;, alpha=0.5, s=area, linewidths=2, edgecolors=&#x27;g&#x27;)</span><br><span class="line">plt.scatter(x, y2, c=&#x27;yellow&#x27;, alpha=0.6, marker=&#x27;d&#x27;)</span><br><span class="line"># print(x)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280911351.png" alt="image-20260128091102318"></p>
<h3 id="2024-04-20æ±½è½¦é€Ÿåº¦ä¸åˆ¶åŠ¨è·ç¦»æ•£ç‚¹å›¾"><a href="#2024-04-20æ±½è½¦é€Ÿåº¦ä¸åˆ¶åŠ¨è·ç¦»æ•£ç‚¹å›¾" class="headerlink" title="2024.04.20æ±½è½¦é€Ÿåº¦ä¸åˆ¶åŠ¨è·ç¦»æ•£ç‚¹å›¾"></a>2024.04.20æ±½è½¦é€Ÿåº¦ä¸åˆ¶åŠ¨è·ç¦»æ•£ç‚¹å›¾</h3><p>In [5]:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line">plt.rcParams[&#x27;font.sans-serif&#x27;] = &#x27;SimHei&#x27;</span><br><span class="line"># å‡†å¤‡æ•°æ®</span><br><span class="line">num = 100</span><br><span class="line"># ç”Ÿæˆ0-1çš„éšæœºæ•°</span><br><span class="line">x = np.arange(10, 210, 10)</span><br><span class="line">y = np.array([0.5, 2.0, 4.4, 7.9, 12.3,</span><br><span class="line">              17.5, 24.1, 31.5, 39.9, 48.2,</span><br><span class="line">              59.5, 70.8, 83.1, 96.4, 110.7,</span><br><span class="line">              126.0, 142.2, 159.4, 177.6, 196.8])</span><br><span class="line"></span><br><span class="line">plt.scatter(x, y, c=&#x27;b&#x27;, marker=&#x27;s&#x27;, alpha=0.3, edgecolors=&#x27;y&#x27;)</span><br><span class="line">plt.title(&#x27;æ±½è½¦é€Ÿåº¦ä¸åˆ¶å®šè·ç¦»æ•£ç‚¹å›¾&#x27;)</span><br><span class="line">plt.xlabel(&#x27;é€Ÿåº¦km/h&#x27;)</span><br><span class="line">plt.ylabel(&#x27;åˆ¶åŠ¨è·ç¦»m&#x27;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280911193.png" alt="image-20260128091117159"></p>
<h3 id="2024-04-20åæ ‡å›¾å›¾è¡¨"><a href="#2024-04-20åæ ‡å›¾å›¾è¡¨" class="headerlink" title="2024.04.20åæ ‡å›¾å›¾è¡¨"></a>2024.04.20åæ ‡å›¾å›¾è¡¨</h3><p>In [6]:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(20, 6), dpi=80)</span><br><span class="line">plt.rcParams[&#x27;font.sans-serif&#x27;] = [&#x27;SimHei&#x27;]</span><br><span class="line">plt.rcParams[&#x27;axes.unicode_minus&#x27;] = False</span><br><span class="line"></span><br><span class="line">x = np.linspace(-np.pi, np.pi, 256, endpoint=True)</span><br><span class="line">y1, y2 = np.sin(x), np.cos(x)</span><br><span class="line">plt.plot(x, y1, x, y2)</span><br><span class="line"># print(x)</span><br><span class="line"></span><br><span class="line"># è®¾ç½®åæ ‡è½´æ ‡ç­¾</span><br><span class="line">plt.xlabel(&quot;xè½´&quot;, labelpad=10)</span><br><span class="line">plt.ylabel(&quot;yè½´&quot;)</span><br><span class="line"></span><br><span class="line">#  è®¾ç½®åæ ‡è½´åˆ»åº¦èŒƒå›´</span><br><span class="line">plt.xlim(x.min() * 1.5, x.max() * 1.5)</span><br><span class="line">plt.ylim(-1.5, 1.5)</span><br><span class="line"></span><br><span class="line"># è®¾ç½®åˆ»åº¦æ ‡ç­¾</span><br><span class="line">plt.xticks([-np.pi, -np.pi/2, 0, np.pi/2, np.pi],</span><br><span class="line">           [r&#x27;$-\pi$&#x27;, r&#x27;$-\pi/2$&#x27;, 0, r&#x27;$\pi/2$&#x27;, r&#x27;$\pi$&#x27;],</span><br><span class="line">           rotation=45)</span><br><span class="line"></span><br><span class="line"># rotation=&#x27;vertical&#x27;</span><br><span class="line"># æ·»åŠ æ ‡é¢˜</span><br><span class="line">plt.title(&quot;æ­£å¼¦æ›²çº¿ä¸ä½™å¼¦æ›²çº¿&quot;, loc=&quot;center&quot;, pad=20)</span><br><span class="line"></span><br><span class="line"># æ·»åŠ å›¾ä¾‹</span><br><span class="line">plt.legend([&#x27;æ­£å¼¦&#x27;, &#x27;ä½™å¼¦&#x27;], title=&#x27;å›¾ä¾‹&#x27;, loc=&#x27;upper left&#x27;,</span><br><span class="line">           shadow=True, fancybox=True, ncol=2)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280911548.png" alt="image-20260128091130503"></p>
<h3 id="2024-04-20ä¸­å›½ç”µå½±æ’è¡Œæ¦œ"><a href="#2024-04-20ä¸­å›½ç”µå½±æ’è¡Œæ¦œ" class="headerlink" title="2024.04.20ä¸­å›½ç”µå½±æ’è¡Œæ¦œ"></a>2024.04.20ä¸­å›½ç”µå½±æ’è¡Œæ¦œ</h3><p>In [7]:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(20, 6), dpi=80)</span><br><span class="line">plt.rcParams[&#x27;font.sans-serif&#x27;] = [&#x27;SimHei&#x27;]</span><br><span class="line">plt.rcParams[&#x27;axes.unicode_minus&#x27;] = False</span><br><span class="line"></span><br><span class="line">labels = [&quot;æµæµªåœ°çƒ&quot;, &quot;ç–¯ç‹‚çš„å¤–æ˜Ÿäºº&quot;, &quot;é£é©°äººç”Ÿ&quot;, &quot;å¤§é»„èœ‚&quot;,</span><br><span class="line">          &quot;ç†Šå‡ºæ²¡ä¹‹åŸå§‹æ—¶ä»£&quot;, &quot;ç™½è›‡ï¼šç¼˜èµ·&quot;, &quot;æ–°å–œå‰§ä¹‹ç‹&quot;,&quot;æ­»ä¾2&quot;,&quot;ç¥æ¢è’²æ¾é¾„&quot;,&quot;å¯†å®¤é€ƒç”Ÿ&quot;,</span><br><span class="line">          &quot;ä½•ä»¥ä¸ºå®¶&quot;,&quot;ç»¿çš®ä¹¦&quot;,&quot;å°ä¸‘&quot;,&quot;å¯„ç”Ÿè™«&quot;,&quot;æ³¢è¥¿ç±³äºšç‹‚æƒ³æ›²&quot;]</span><br><span class="line"></span><br><span class="line">bar_width = [48.57, 46.18, 42.05, 21.83, 17.03, 16.70, 14.01, 13.83,</span><br><span class="line">             12.85, 11.38, 10.25, 9.46, 9.27, 8.88, 8.64]</span><br><span class="line"></span><br><span class="line">bar_height = 0.2</span><br><span class="line"></span><br><span class="line">plt.barh(range(len(labels)), bar_width, height=bar_height)</span><br><span class="line"></span><br><span class="line">plt.yticks(range(len(labels)), labels)</span><br><span class="line">plt.xlabel(&quot;æ€»ç¥¨æˆ¿(äº¿å…ƒ)&quot;)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280911722.png" alt="image-20260128091144682"></p>
<h3 id="2024-05-16æ­£ä½™å¼¦æ›²çº¿-py"><a href="#2024-05-16æ­£ä½™å¼¦æ›²çº¿-py" class="headerlink" title="2024.05.16æ­£ä½™å¼¦æ›²çº¿.py"></a>2024.05.16æ­£ä½™å¼¦æ›²çº¿.py</h3><p>In [1]:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line"># ç”¨çª—ä½“æ˜¾ç¤º</span><br><span class="line"># import matplotlib</span><br><span class="line"># matplotlib.use(&#x27;TkAgg&#x27;)</span><br><span class="line"></span><br><span class="line">plt.rcParams[&#x27;font.sans-serif&#x27;] = [&#x27;SimHei&#x27;]</span><br><span class="line">plt.rcParams[&#x27;axes.unicode_minus&#x27;] = False</span><br><span class="line"></span><br><span class="line"># np.linspace() åˆ›å»ºç­‰å·®æ•°åˆ—</span><br><span class="line">x = np.linspace(-np.pi, np.pi, 256)</span><br><span class="line"># print(x)</span><br><span class="line">y1 = np.sin(x)</span><br><span class="line">y2 = np.cos(x)</span><br><span class="line"></span><br><span class="line">plt.plot(x, y1, x, y2)</span><br><span class="line">plt.xlabel(&#x27;xè½´&#x27;, labelpad=10)</span><br><span class="line">plt.ylabel(&#x27;yè½´&#x27;)</span><br><span class="line"></span><br><span class="line"># è®¾ç½®xè½´ä¸yè½´çš„åˆ»åº¦èŒƒå›´</span><br><span class="line">plt.xlim(-1.5 * np.pi, 1.5 * np.pi)</span><br><span class="line">plt.ylim(-1.5, 1.5)</span><br><span class="line"></span><br><span class="line"># è®¾ç½®åˆ»åº¦æ ‡ç­¾</span><br><span class="line">plt.xticks([-np.pi, -np.pi/2, 0, np.pi/2, np.pi], [r&#x27;$-\pi$&#x27;, r&#x27;$-\pi/2$&#x27;, r&#x27;$0$&#x27;, r&#x27;$\pi/2$&#x27;, r&#x27;$\pi$&#x27;])</span><br><span class="line"></span><br><span class="line"># è®¾ç½®æ ‡é¢˜</span><br><span class="line">plt.title(&#x27;æ­£ä½™å¼¦å‡½æ•°æ›²çº¿&#x27;, pad=15, loc=&#x27;center&#x27;)</span><br><span class="line"></span><br><span class="line"># è®¾ç½®å›¾ä¾‹</span><br><span class="line">plt.legend([&#x27;æ­£å¼¦å‡½æ•°&#x27;, &#x27;ä½™å¼¦å‡½æ•°&#x27;], ncol=2, loc=&#x27;upper right&#x27;)</span><br><span class="line"></span><br><span class="line"># è®¾ç½®ç½‘æ ¼çº¿ é»˜è®¤æ˜¯both</span><br><span class="line"># plt.grid(b=True, axis=&#x27;y&#x27;)</span><br><span class="line">plt.grid(visible=True, axis=&#x27;y&#x27;)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280911540.png" alt="image-20260128091156504"></p>
<h2 id="æ•°æ®è¿ç”¨ä¸åˆ†æ02"><a href="#æ•°æ®è¿ç”¨ä¸åˆ†æ02" class="headerlink" title="æ•°æ®è¿ç”¨ä¸åˆ†æ02"></a>æ•°æ®è¿ç”¨ä¸åˆ†æ02</h2><h3 id="2024-05-16æ­£ä½™å¼¦æ›²çº¿"><a href="#2024-05-16æ­£ä½™å¼¦æ›²çº¿" class="headerlink" title="2024.05.16æ­£ä½™å¼¦æ›²çº¿"></a>2024.05.16æ­£ä½™å¼¦æ›²çº¿</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># import matplotlib</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># np.linspace() åˆ›å»ºç­‰å·®æ•°åˆ—</span></span><br><span class="line">x = np.linspace(-np.pi, np.pi, <span class="number">256</span>)</span><br><span class="line"><span class="comment"># print(x)</span></span><br><span class="line">y1 = np.sin(x)</span><br><span class="line">y2 = np.cos(x)</span><br><span class="line"></span><br><span class="line">plt.plot(x, y1, x, y2)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;xè½´&#x27;</span>, labelpad=<span class="number">10</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;yè½´&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®xè½´ä¸yè½´çš„åˆ»åº¦èŒƒå›´</span></span><br><span class="line">plt.xlim(-<span class="number">1.5</span> * np.pi, <span class="number">1.5</span> * np.pi)</span><br><span class="line">plt.ylim(-<span class="number">1.5</span>, <span class="number">1.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®åˆ»åº¦æ ‡ç­¾</span></span><br><span class="line">plt.xticks([-np.pi, -np.pi/<span class="number">2</span>, <span class="number">0</span>, np.pi/<span class="number">2</span>, np.pi], [<span class="string">r&#x27;$-\pi$&#x27;</span>, <span class="string">r&#x27;$-\pi/2$&#x27;</span>, <span class="string">r&#x27;$0$&#x27;</span>, <span class="string">r&#x27;$\pi/2$&#x27;</span>, <span class="string">r&#x27;$\pi$&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®æ ‡é¢˜</span></span><br><span class="line">plt.title(<span class="string">&#x27;æ­£ä½™å¼¦å‡½æ•°æ›²çº¿&#x27;</span>, pad=<span class="number">15</span>, loc=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å›¾ä¾‹</span></span><br><span class="line">plt.legend([<span class="string">&#x27;æ­£å¼¦å‡½æ•°&#x27;</span>, <span class="string">&#x27;ä½™å¼¦å‡½æ•°&#x27;</span>], ncol=<span class="number">2</span>, loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®ç½‘æ ¼çº¿ é»˜è®¤æ˜¯both</span></span><br><span class="line"><span class="comment"># plt.grid(b=True, axis=&#x27;y&#x27;)</span></span><br><span class="line">plt.grid(visible=<span class="literal">True</span>, axis=<span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p>â€‹<br><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280912654.png" alt="image-20260128091213615"><br>â€‹    </p>
<h3 id="2024-05-16æ­£ä½™å¼¦æ›²çº¿-è®¾ç½®å‚è€ƒçº¿ä¸å‚è€ƒåŒºåŸŸ"><a href="#2024-05-16æ­£ä½™å¼¦æ›²çº¿-è®¾ç½®å‚è€ƒçº¿ä¸å‚è€ƒåŒºåŸŸ" class="headerlink" title="2024.05.16æ­£ä½™å¼¦æ›²çº¿(è®¾ç½®å‚è€ƒçº¿ä¸å‚è€ƒåŒºåŸŸ)"></a>2024.05.16æ­£ä½™å¼¦æ›²çº¿(è®¾ç½®å‚è€ƒçº¿ä¸å‚è€ƒåŒºåŸŸ)</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># import matplotlib</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># np.linspace() åˆ›å»ºç­‰å·®æ•°åˆ—</span></span><br><span class="line">x = np.linspace(-np.pi, np.pi, <span class="number">256</span>)</span><br><span class="line"><span class="comment"># print(x)</span></span><br><span class="line">y1 = np.sin(x)</span><br><span class="line">y2 = np.cos(x)</span><br><span class="line"></span><br><span class="line">plt.plot(x, y1, x, y2)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;xè½´&#x27;</span>, labelpad=<span class="number">10</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;yè½´&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®xè½´ä¸yè½´çš„åˆ»åº¦èŒƒå›´</span></span><br><span class="line">plt.xlim(-<span class="number">1.5</span> * np.pi, <span class="number">1.5</span> * np.pi)</span><br><span class="line">plt.ylim(-<span class="number">1.5</span>, <span class="number">1.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®åˆ»åº¦æ ‡ç­¾</span></span><br><span class="line">plt.xticks([-np.pi, -np.pi/<span class="number">2</span>, <span class="number">0</span>, np.pi/<span class="number">2</span>, np.pi], [<span class="string">r&#x27;$-\pi$&#x27;</span>, <span class="string">r&#x27;$-\pi/2$&#x27;</span>, <span class="string">r&#x27;$0$&#x27;</span>, <span class="string">r&#x27;$\pi/2$&#x27;</span>, <span class="string">r&#x27;$\pi$&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®æ ‡é¢˜</span></span><br><span class="line">plt.title(<span class="string">&#x27;æ­£ä½™å¼¦å‡½æ•°æ›²çº¿&#x27;</span>, pad=<span class="number">15</span>, loc=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å›¾ä¾‹</span></span><br><span class="line">plt.legend([<span class="string">&#x27;æ­£å¼¦å‡½æ•°&#x27;</span>, <span class="string">&#x27;ä½™å¼¦å‡½æ•°&#x27;</span>], ncol=<span class="number">2</span>, loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®ç½‘æ ¼çº¿ é»˜è®¤æ˜¯both</span></span><br><span class="line"><span class="comment"># plt.grid(b=True, axis=&#x27;y&#x27;)</span></span><br><span class="line">plt.grid(visible=<span class="literal">True</span>, axis=<span class="string">&#x27;both&#x27;</span>, linewidth=<span class="number">0.3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ å‚è€ƒçº¿</span></span><br><span class="line">plt.axhline(y=<span class="number">0</span>, linestyle=<span class="string">&#x27;--&#x27;</span>)</span><br><span class="line">plt.axvline(x=<span class="number">0</span>, linestyle=<span class="string">&#x27;--&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ å‚è€ƒåŒºåŸŸ</span></span><br><span class="line">plt.axhspan(ymin=<span class="number">0.5</span>, ymax=<span class="number">1</span>, alpha=<span class="number">0.3</span>)</span><br><span class="line">plt.axvspan(xmin=<span class="number">0</span>, xmax=np.pi/<span class="number">2</span>, alpha=<span class="number">0.3</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p>â€‹<br><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280912226.png" alt="image-20260128091235183"><br>â€‹    </p>
<h3 id="2024-05-16æ­£ä½™å¼¦æ›²çº¿-è®¾ç½®è¡¨æ ¼"><a href="#2024-05-16æ­£ä½™å¼¦æ›²çº¿-è®¾ç½®è¡¨æ ¼" class="headerlink" title="2024.05.16æ­£ä½™å¼¦æ›²çº¿(è®¾ç½®è¡¨æ ¼)"></a>2024.05.16æ­£ä½™å¼¦æ›²çº¿(è®¾ç½®è¡¨æ ¼)</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># import matplotlib</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># np.linspace() åˆ›å»ºç­‰å·®æ•°åˆ—</span></span><br><span class="line">x = np.linspace(-np.pi, np.pi, <span class="number">256</span>)</span><br><span class="line"><span class="comment"># print(x)</span></span><br><span class="line">y1 = np.sin(x)</span><br><span class="line">y2 = np.cos(x)</span><br><span class="line"></span><br><span class="line">plt.plot(x, y1, x, y2)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;xè½´&#x27;</span>, labelpad=<span class="number">10</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;yè½´&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®xè½´ä¸yè½´çš„åˆ»åº¦èŒƒå›´</span></span><br><span class="line">plt.xlim(-<span class="number">1.5</span> * np.pi, <span class="number">1.5</span> * np.pi)</span><br><span class="line">plt.ylim(-<span class="number">1.5</span>, <span class="number">1.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®åˆ»åº¦æ ‡ç­¾</span></span><br><span class="line">plt.xticks([-np.pi, -np.pi/<span class="number">2</span>, <span class="number">0</span>, np.pi/<span class="number">2</span>, np.pi], [<span class="string">r&#x27;$-\pi$&#x27;</span>, <span class="string">r&#x27;$-\pi/2$&#x27;</span>, <span class="string">r&#x27;$0$&#x27;</span>, <span class="string">r&#x27;$\pi/2$&#x27;</span>, <span class="string">r&#x27;$\pi$&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®æ ‡é¢˜</span></span><br><span class="line">plt.title(<span class="string">&#x27;æ­£ä½™å¼¦å‡½æ•°æ›²çº¿&#x27;</span>, pad=<span class="number">15</span>, loc=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å›¾ä¾‹</span></span><br><span class="line">plt.legend([<span class="string">&#x27;æ­£å¼¦å‡½æ•°&#x27;</span>, <span class="string">&#x27;ä½™å¼¦å‡½æ•°&#x27;</span>], ncol=<span class="number">2</span>, loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®ç½‘æ ¼çº¿ é»˜è®¤æ˜¯both</span></span><br><span class="line"><span class="comment"># plt.grid(b=True, axis=&#x27;y&#x27;)</span></span><br><span class="line">plt.grid(visible=<span class="literal">True</span>, axis=<span class="string">&#x27;both&#x27;</span>, linewidth=<span class="number">0.3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ å‚è€ƒçº¿</span></span><br><span class="line">plt.axhline(y=<span class="number">0</span>, linestyle=<span class="string">&#x27;--&#x27;</span>)</span><br><span class="line">plt.axvline(x=<span class="number">0</span>, linestyle=<span class="string">&#x27;--&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ å‚è€ƒåŒºåŸŸ</span></span><br><span class="line">plt.axhspan(ymin=<span class="number">0.5</span>, ymax=<span class="number">1</span>, alpha=<span class="number">0.3</span>)</span><br><span class="line">plt.axvspan(xmin=<span class="number">0</span>, xmax=np.pi/<span class="number">2</span>, alpha=<span class="number">0.3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ è¡¨æ ¼</span></span><br><span class="line">plt.table(cellText=[[<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>]],</span><br><span class="line">          cellLoc=<span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">          colWidths=[<span class="number">0.05</span>] * <span class="number">3</span>,</span><br><span class="line">          colColours=[<span class="string">&#x27;blue&#x27;</span>]*<span class="number">3</span>,</span><br><span class="line">          rowColours=[<span class="string">&#x27;red&#x27;</span>]*<span class="number">2</span>,</span><br><span class="line">          rowLabels=[<span class="string">&#x27;sinx&#x27;</span>, <span class="string">&#x27;cosx&#x27;</span>],</span><br><span class="line">          colLabels=[<span class="string">&#x27;0&#x27;</span>, <span class="string">r&#x27;$\pi/2$&#x27;</span>, <span class="string">r&#x27;$\pi$&#x27;</span>],</span><br><span class="line">          loc=<span class="string">&quot;lower right&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280912759.png" alt="image-20260128091243718"></p>
<h3 id="2024-05-16å…¨æ ¡é«˜äºŒå¹´çº§å„ç­ç”·ç”Ÿè‹±è¯­æˆç»©è¯„ä¼°"><a href="#2024-05-16å…¨æ ¡é«˜äºŒå¹´çº§å„ç­ç”·ç”Ÿè‹±è¯­æˆç»©è¯„ä¼°" class="headerlink" title="2024.05.16å…¨æ ¡é«˜äºŒå¹´çº§å„ç­ç”·ç”Ÿè‹±è¯­æˆç»©è¯„ä¼°"></a>2024.05.16å…¨æ ¡é«˜äºŒå¹´çº§å„ç­ç”·ç”Ÿè‹±è¯­æˆç»©è¯„ä¼°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># import matplotlib</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">men_means = (<span class="number">90.5</span>, <span class="number">89.5</span>, <span class="number">88.7</span>, <span class="number">88.5</span>, <span class="number">85.2</span>, <span class="number">86.6</span>)</span><br><span class="line">women_means = (<span class="number">92.7</span>, <span class="number">87.0</span>, <span class="number">90.5</span>, <span class="number">85.0</span>, <span class="number">89.5</span>, <span class="number">89.8</span>)</span><br><span class="line"></span><br><span class="line">ind = np.arange(<span class="built_in">len</span>(men_means))</span><br><span class="line">width = <span class="number">0.2</span></span><br><span class="line"></span><br><span class="line">plt.bar(ind, men_means, width, label=<span class="string">&quot;ç”·ç”Ÿçš„å¹³å‡æˆç»©&quot;</span>)</span><br><span class="line">plt.bar(ind+width, women_means, width, label=<span class="string">&quot;å¥³ç”Ÿçš„å¹³å‡æˆç»©&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.title(<span class="string">&#x27;é«˜äºŒå„ç­ç”·ç”Ÿå¥³ç”Ÿè‹±è¯­çš„å¹³å‡æˆç»©&#x27;</span>)</span><br><span class="line">plt.xticks(ind, [<span class="string">&#x27;é«˜äºŒ1ç­&#x27;</span>, <span class="string">&#x27;é«˜äºŒ2ç­&#x27;</span>, <span class="string">&#x27;é«˜äºŒ3ç­&#x27;</span>, <span class="string">&#x27;é«˜äºŒ4ç­&#x27;</span>, <span class="string">&#x27;é«˜äºŒ5ç­&#x27;</span>, <span class="string">&#x27;é«˜äºŒ6ç­&#x27;</span>])</span><br><span class="line">plt.ylabel(<span class="string">&#x27;åˆ†æ•°&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ æ°´å¹³å‚è€ƒçº¿</span></span><br><span class="line">plt.axhline(<span class="number">88.5</span>, ls=<span class="string">&#x27;--&#x27;</span>, linewidth=<span class="number">1.0</span>, label=<span class="string">&#x27;å…¨å¹´çº§å¹³å‡æˆç»©&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.legend(loc=<span class="string">&quot;upper right&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p>â€‹<br><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280912678.png" alt="image-20260128091251639"><br>â€‹    </p>
<h3 id="2024-05-16è®¾ç½®æ³¨é‡Šæ–‡æœ¬"><a href="#2024-05-16è®¾ç½®æ³¨é‡Šæ–‡æœ¬" class="headerlink" title="2024.05.16è®¾ç½®æ³¨é‡Šæ–‡æœ¬"></a>2024.05.16è®¾ç½®æ³¨é‡Šæ–‡æœ¬</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># import matplotlib</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># np.linspace() åˆ›å»ºç­‰å·®æ•°åˆ—</span></span><br><span class="line">x = np.linspace(-np.pi, np.pi, <span class="number">256</span>)</span><br><span class="line"><span class="comment"># print(x)</span></span><br><span class="line">y1 = np.sin(x)</span><br><span class="line">y2 = np.cos(x)</span><br><span class="line"></span><br><span class="line">plt.plot(x, y1, x, y2)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;xè½´&#x27;</span>, labelpad=<span class="number">10</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;yè½´&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®xè½´ä¸yè½´çš„åˆ»åº¦èŒƒå›´</span></span><br><span class="line">plt.xlim(-<span class="number">1.5</span> * np.pi, <span class="number">1.5</span> * np.pi)</span><br><span class="line">plt.ylim(-<span class="number">1.5</span>, <span class="number">1.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®åˆ»åº¦æ ‡ç­¾</span></span><br><span class="line">plt.xticks([-np.pi, -np.pi/<span class="number">2</span>, <span class="number">0</span>, np.pi/<span class="number">2</span>, np.pi], [<span class="string">r&#x27;$-\pi$&#x27;</span>, <span class="string">r&#x27;$-\pi/2$&#x27;</span>, <span class="string">r&#x27;$0$&#x27;</span>, <span class="string">r&#x27;$\pi/2$&#x27;</span>, <span class="string">r&#x27;$\pi$&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®æ ‡é¢˜</span></span><br><span class="line">plt.title(<span class="string">&#x27;æ­£ä½™å¼¦å‡½æ•°æ›²çº¿&#x27;</span>, pad=<span class="number">15</span>, loc=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å›¾ä¾‹</span></span><br><span class="line">plt.legend([<span class="string">&#x27;æ­£å¼¦å‡½æ•°&#x27;</span>, <span class="string">&#x27;ä½™å¼¦å‡½æ•°&#x27;</span>], ncol=<span class="number">2</span>, loc=<span class="string">&#x27;upper right&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®ç½‘æ ¼çº¿ é»˜è®¤æ˜¯both</span></span><br><span class="line"><span class="comment"># plt.grid(b=True, axis=&#x27;y&#x27;)</span></span><br><span class="line">plt.grid(visible=<span class="literal">True</span>, axis=<span class="string">&#x27;both&#x27;</span>, linewidth=<span class="number">0.3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ æŒ‡å‘æ€§æ³¨é‡Šæ–‡æœ¬</span></span><br><span class="line">plt.annotate(<span class="string">&quot;æœ€å°å€¼&quot;</span>, xy=(-np.pi/<span class="number">2</span>, -<span class="number">1.0</span>),</span><br><span class="line">             xytext=(-np.pi/<span class="number">2</span>, -<span class="number">0.5</span>),</span><br><span class="line">             arrowprops=<span class="built_in">dict</span>(arrowstyle=<span class="string">&quot;-|&gt;&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ æ— æŒ‡å‘æ€§æ³¨é‡Šæ–‡æœ¬</span></span><br><span class="line">plt.text(<span class="number">3.3</span>, <span class="number">0.1</span>, <span class="string">&quot;y=sin(x)&quot;</span>, bbox=<span class="built_in">dict</span>(alpha=<span class="number">0.5</span>))</span><br><span class="line">plt.text(<span class="number">3.3</span>, -<span class="number">0.9</span>, <span class="string">&quot;y=cos(x)&quot;</span>, bbox=<span class="built_in">dict</span>(alpha=<span class="number">0.5</span>))</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p>â€‹<br><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280913647.png" alt="image-20260128091301607"><br>â€‹    </p>
<h3 id="2024-05-16é˜¿é‡Œå·´å·´å¹³å°æˆäº¤é¢æŸ±çŠ¶å›¾"><a href="#2024-05-16é˜¿é‡Œå·´å·´å¹³å°æˆäº¤é¢æŸ±çŠ¶å›¾" class="headerlink" title="2024.05.16é˜¿é‡Œå·´å·´å¹³å°æˆäº¤é¢æŸ±çŠ¶å›¾"></a>2024.05.16é˜¿é‡Œå·´å·´å¹³å°æˆäº¤é¢æŸ±çŠ¶å›¾</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># import matplotlib</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">x = np.arange(<span class="number">7</span>)</span><br><span class="line">y = [<span class="number">10770</span>, <span class="number">16780</span>, <span class="number">14440</span>, <span class="number">30920</span>, <span class="number">37670</span>, <span class="number">48200</span>, <span class="number">57270</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»˜åˆ¶æŸ±çŠ¶å›¾</span></span><br><span class="line">bar_rects = plt.bar(x, y, tick_label=[<span class="string">&quot;FY2013&quot;</span>, <span class="string">&quot;FY2014&quot;</span>, <span class="string">&quot;FY2015&quot;</span>,</span><br><span class="line">                                      <span class="string">&quot;FY2016&quot;</span>, <span class="string">&quot;FY2017&quot;</span>, <span class="string">&quot;FY2018&quot;</span>, <span class="string">&quot;FY2019&quot;</span>], width=<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ æ— æŒ‡å‘æ€§æ³¨é‡Šæ–‡æœ¬</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">autolabel</span>(<span class="params">rects</span>):</span><br><span class="line">    <span class="comment"># pass</span></span><br><span class="line">    <span class="keyword">for</span> rect <span class="keyword">in</span> rects:</span><br><span class="line">        height = rect.get_height()  <span class="comment"># è·å–æ¯ä¸ªçŸ©é˜µçš„é«˜åº¦</span></span><br><span class="line">        <span class="comment"># print(height)</span></span><br><span class="line">        plt.text(rect.get_x() + rect.get_width() / <span class="number">2</span>, height + <span class="number">300</span>,</span><br><span class="line">                 s=<span class="string">&#x27;&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(height), ha=<span class="string">&quot;center&quot;</span>, va=<span class="string">&quot;bottom&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">autolabel(bar_rects)</span><br><span class="line"></span><br><span class="line">plt.ylabel(<span class="string">&#x27;GMV(äº¿å…ƒ)&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p>â€‹<br><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280913487.png" alt="image-20260128091309446"><br>â€‹    </p>
<h3 id="2024-05-16æœé…±é¢åŒ…é…æ–™æ¯”ä¾‹"><a href="#2024-05-16æœé…±é¢åŒ…é…æ–™æ¯”ä¾‹" class="headerlink" title="2024.05.16æœé…±é¢åŒ…é…æ–™æ¯”ä¾‹"></a>2024.05.16æœé…±é¢åŒ…é…æ–™æ¯”ä¾‹</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># import matplotlib</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">10</span>, <span class="number">6</span>), dpi=<span class="number">80</span>)</span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">kinds = [<span class="string">&#x27;é¢ç²‰&#x27;</span>, <span class="string">&#x27;å…¨éº¦ç²‰&#x27;</span>, <span class="string">&#x27;é…µæ¯&#x27;</span>, <span class="string">&#x27;è‹¹æœé…±&#x27;</span>, <span class="string">&#x27;é¸¡è›‹&#x27;</span>, <span class="string">&#x27;é»„æ²¹&#x27;</span>, <span class="string">&#x27;ç›&#x27;</span>, <span class="string">&#x27;ç™½ç³–&#x27;</span>]</span><br><span class="line">weight = [<span class="number">250</span>, <span class="number">150</span>, <span class="number">4</span>, <span class="number">250</span>, <span class="number">50</span>, <span class="number">30</span>, <span class="number">4</span>, <span class="number">20</span>]</span><br><span class="line"></span><br><span class="line">plt.pie(weight, autopct=<span class="string">&#x27;%.1f%%&#x27;</span>)</span><br><span class="line">plt.legend(kinds, loc=<span class="string">&quot;upper right&quot;</span>, bbox_to_anchor=[<span class="number">1.3</span>, <span class="number">1.1</span>])</span><br><span class="line">plt.table(cellText=[weight], cellLoc=<span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">          rowLabels=[<span class="string">&#x27;é‡é‡(g)&#x27;</span>], colLabels=kinds,</span><br><span class="line">          loc=<span class="string">&#x27;lower center&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p>â€‹<br><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280913429.png" alt="image-20260128091316392"><br>â€‹    </p>
<h2 id="æ•°æ®åˆ†æä¸è¿ç”¨03"><a href="#æ•°æ®åˆ†æä¸è¿ç”¨03" class="headerlink" title="æ•°æ®åˆ†æä¸è¿ç”¨03"></a>æ•°æ®åˆ†æä¸è¿ç”¨03</h2><h3 id="2024-05-30è®¾ç½®é¢œè‰²"><a href="#2024-05-30è®¾ç½®é¢œè‰²" class="headerlink" title="2024.05.30è®¾ç½®é¢œè‰²"></a>2024.05.30è®¾ç½®é¢œè‰²</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name, <span class="built_in">hex</span> <span class="keyword">in</span> matplotlib.colors.cnames.items():</span><br><span class="line">    <span class="built_in">print</span>(name, <span class="built_in">hex</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># plt.plot([1, 2, 3], [4, 5, 6], color=&#x27;#9ACD32&#x27;)</span></span><br><span class="line">plt.plot([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], color=(<span class="number">0.3</span>, <span class="number">0.4</span>, <span class="number">0.5</span>))</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<pre><code>aliceblue #F0F8FF
antiquewhite #FAEBD7
aqua #00FFFF
aquamarine #7FFFD4
azure #F0FFFF
beige #F5F5DC
bisque #FFE4C4
black #000000
blanchedalmond #FFEBCD
blue #0000FF
blueviolet #8A2BE2
brown #A52A2A
burlywood #DEB887
cadetblue #5F9EA0
chartreuse #7FFF00
chocolate #D2691E
coral #FF7F50
cornflowerblue #6495ED
cornsilk #FFF8DC
crimson #DC143C
cyan #00FFFF
darkblue #00008B
darkcyan #008B8B
darkgoldenrod #B8860B
darkgray #A9A9A9
darkgreen #006400
darkgrey #A9A9A9
darkkhaki #BDB76B
darkmagenta #8B008B
darkolivegreen #556B2F
darkorange #FF8C00
darkorchid #9932CC
darkred #8B0000
darksalmon #E9967A
darkseagreen #8FBC8F
darkslateblue #483D8B
darkslategray #2F4F4F
darkslategrey #2F4F4F
darkturquoise #00CED1
darkviolet #9400D3
deeppink #FF1493
deepskyblue #00BFFF
dimgray #696969
dimgrey #696969
dodgerblue #1E90FF
firebrick #B22222
floralwhite #FFFAF0
forestgreen #228B22
fuchsia #FF00FF
gainsboro #DCDCDC
ghostwhite #F8F8FF
gold #FFD700
goldenrod #DAA520
gray #808080
green #008000
greenyellow #ADFF2F
grey #808080
honeydew #F0FFF0
hotpink #FF69B4
indianred #CD5C5C
indigo #4B0082
ivory #FFFFF0
khaki #F0E68C
lavender #E6E6FA
lavenderblush #FFF0F5
lawngreen #7CFC00
lemonchiffon #FFFACD
lightblue #ADD8E6
lightcoral #F08080
lightcyan #E0FFFF
lightgoldenrodyellow #FAFAD2
lightgray #D3D3D3
lightgreen #90EE90
lightgrey #D3D3D3
lightpink #FFB6C1
lightsalmon #FFA07A
lightseagreen #20B2AA
lightskyblue #87CEFA
lightslategray #778899
lightslategrey #778899
lightsteelblue #B0C4DE
lightyellow #FFFFE0
lime #00FF00
limegreen #32CD32
linen #FAF0E6
magenta #FF00FF
maroon #800000
mediumaquamarine #66CDAA
mediumblue #0000CD
mediumorchid #BA55D3
mediumpurple #9370DB
mediumseagreen #3CB371
mediumslateblue #7B68EE
mediumspringgreen #00FA9A
mediumturquoise #48D1CC
mediumvioletred #C71585
midnightblue #191970
mintcream #F5FFFA
mistyrose #FFE4E1
moccasin #FFE4B5
navajowhite #FFDEAD
navy #000080
oldlace #FDF5E6
olive #808000
olivedrab #6B8E23
orange #FFA500
orangered #FF4500
orchid #DA70D6
palegoldenrod #EEE8AA
palegreen #98FB98
paleturquoise #AFEEEE
palevioletred #DB7093
papayawhip #FFEFD5
peachpuff #FFDAB9
peru #CD853F
pink #FFC0CB
plum #DDA0DD
powderblue #B0E0E6
purple #800080
rebeccapurple #663399
red #FF0000
rosybrown #BC8F8F
royalblue #4169E1
saddlebrown #8B4513
salmon #FA8072
sandybrown #F4A460
seagreen #2E8B57
seashell #FFF5EE
sienna #A0522D
silver #C0C0C0
skyblue #87CEEB
slateblue #6A5ACD
slategray #708090
slategrey #708090
snow #FFFAFA
springgreen #00FF7F
steelblue #4682B4
tan #D2B48C
teal #008080
thistle #D8BFD8
tomato #FF6347
turquoise #40E0D0
violet #EE82EE
wheat #F5DEB3
white #FFFFFF
whitesmoke #F5F5F5
yellow #FFFF00
yellowgreen #9ACD32
</code></pre>
<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280913821.png" alt="image-20260128091327783"></p>
<h3 id="2024-05-30å›¾ä¹¦æ¡ˆä¾‹-å †å æŸ±å½¢å›¾"><a href="#2024-05-30å›¾ä¹¦æ¡ˆä¾‹-å †å æŸ±å½¢å›¾" class="headerlink" title="2024.05.30å›¾ä¹¦æ¡ˆä¾‹(å †å æŸ±å½¢å›¾)"></a>2024.05.30å›¾ä¹¦æ¡ˆä¾‹(å †å æŸ±å½¢å›¾)</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line"></span><br><span class="line">x = np.arange(<span class="number">5</span>)</span><br><span class="line">y1 = [<span class="number">1200</span>, <span class="number">2400</span>, <span class="number">1800</span>, <span class="number">2200</span>, <span class="number">1600</span>]</span><br><span class="line">y2 = [<span class="number">1050</span>, <span class="number">2100</span>, <span class="number">1300</span>, <span class="number">1600</span>, <span class="number">1340</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ±å½¢çš„å®½åº¦</span></span><br><span class="line">bar_width = <span class="number">0.5</span></span><br><span class="line"></span><br><span class="line">tick_label = [<span class="string">&quot;å®¶åº­&quot;</span>, <span class="string">&quot;å°è¯´&quot;</span>, <span class="string">&quot;å¿ƒé‡Œ&quot;</span>, <span class="string">&quot;ç§‘æŠ€&quot;</span>, <span class="string">&quot;å„¿ç«¥&quot;</span>]</span><br><span class="line">plt.bar(x, y1, bar_width, color=<span class="string">&quot;#FFCC00&quot;</span>)</span><br><span class="line"><span class="comment"># bottom=y1 ä¸è¦†ç›–ï¼Œä»y1å¼€å§‹å †å </span></span><br><span class="line">plt.bar(x, y2, bar_width, color=<span class="string">&quot;#B0C4DE&quot;</span>, bottom=y1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åæ ‡æ³¨é‡Š</span></span><br><span class="line">plt.xticks(x, tick_label)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;å›¾ä¹¦çš„ç§ç±»&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;å›¾ä¹¦çš„æ•°é‡&#x27;</span>)</span><br><span class="line"><span class="comment"># å›¾ä¾‹</span></span><br><span class="line">plt.legend([<span class="string">&#x27;åœ°åŒº1&#x27;</span>, <span class="string">&#x27;åœ°åŒº2&#x27;</span>])</span><br><span class="line"><span class="comment"># æ ‡é¢˜</span></span><br><span class="line">plt.title(<span class="string">&#x27;åœ°åŒº1åœ°åŒº2å„ç±»å›¾ä¹¦çš„é‡‡è´­æ•°é‡&#x27;</span>)</span><br><span class="line"><span class="comment"># ç½‘æ ¼çº¿</span></span><br><span class="line">plt.grid(<span class="literal">True</span>, axis=<span class="string">&#x27;y&#x27;</span>, color=<span class="string">&quot;gray&quot;</span>, alpha=<span class="number">0.5</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280913588.png" alt="image-20260128091336549"></p>
<h3 id="2024-05-30è®¾ç½®çº¿å‹"><a href="#2024-05-30è®¾ç½®çº¿å‹" class="headerlink" title="2024.05.30è®¾ç½®çº¿å‹"></a>2024.05.30è®¾ç½®çº¿å‹</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># ls(linestyle) è®¾ç½®çº¿å‹ : -. -- -</span></span><br><span class="line">plt.plot([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], color=<span class="string">&quot;r&quot;</span>, ls=<span class="string">&quot;-.&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p>â€‹<br><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280913320.png" alt="image-20260128091344279"><br>â€‹    </p>
<h3 id="2024-05-30æ±‡ç‡èµ°åŠ¿"><a href="#2024-05-30æ±‡ç‡èµ°åŠ¿" class="headerlink" title="2024.05.30æ±‡ç‡èµ°åŠ¿"></a>2024.05.30æ±‡ç‡èµ°åŠ¿</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line"></span><br><span class="line">eurcny_2017 = np.array([<span class="number">6.8007</span>, <span class="number">6.8007</span>, <span class="number">6.8015</span>, <span class="number">6.8015</span>, <span class="number">6.8060</span>, <span class="number">6.8060</span>,</span><br><span class="line">                        <span class="number">6.8060</span>, <span class="number">6.8036</span>, <span class="number">6.8025</span>, <span class="number">6.7877</span>, <span class="number">6.7835</span>, <span class="number">6.7758</span>,</span><br><span class="line">                        <span class="number">6.7700</span>, <span class="number">6.7463</span>, <span class="number">6.7519</span>, <span class="number">6.7511</span>, <span class="number">6.7511</span>, <span class="number">6.7539</span>, <span class="number">6.7265</span>])</span><br><span class="line">eurcny_2019 = np.array([<span class="number">6.8640</span>, <span class="number">6.8705</span>, <span class="number">6.8697</span>, <span class="number">6.8697</span>, <span class="number">6.8697</span>, <span class="number">6.8881</span>,</span><br><span class="line">                        <span class="number">6.8853</span>, <span class="number">6.8856</span>, <span class="number">6.8677</span>, <span class="number">6.8662</span>, <span class="number">6.8662</span>, <span class="number">6.8662</span>,</span><br><span class="line">                        <span class="number">6.8827</span>, <span class="number">6.8761</span>, <span class="number">6.8635</span>, <span class="number">6.8860</span>, <span class="number">6.8737</span>, <span class="number">6.8796</span>, <span class="number">6.8841</span>])</span><br><span class="line"></span><br><span class="line">data_x = np.array([<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">31</span>])</span><br><span class="line"></span><br><span class="line">plt.plot(data_x, eurcny_2017, color=<span class="string">&quot;#006373&quot;</span>, linewidth=<span class="number">2</span>, ls=<span class="string">&quot;-&quot;</span>)</span><br><span class="line">plt.plot(data_x, eurcny_2019, color=<span class="string">&quot;#8A2E76&quot;</span>, linewidth=<span class="number">2</span>, ls=<span class="string">&quot;--&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.xlabel(<span class="string">&quot;æ—¥æœŸ&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;æ±‡ç‡&quot;</span>)</span><br><span class="line"><span class="comment"># å›¾ä¾‹</span></span><br><span class="line">plt.legend([<span class="string">&#x27;2017å¹´&#x27;</span>, <span class="string">&#x27;2019å¹´&#x27;</span>])</span><br><span class="line"></span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280913117.png" alt="image-20260128091356077"></p>
<h3 id="2024-05-30è®¾ç½®æ•°æ®æ ‡è®°"><a href="#2024-05-30è®¾ç½®æ•°æ®æ ‡è®°" class="headerlink" title="2024.05.30è®¾ç½®æ•°æ®æ ‡è®°"></a>2024.05.30è®¾ç½®æ•°æ®æ ‡è®°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># marker è®¾ç½®æ ‡è®°çš„å½¢çŠ¶, markersizeè®¾ç½®æ ‡è®°çš„å°ºå¯¸, markerfacecolor è®¾ç½®æ ‡è®°çš„å¡«å……è‰²ï¼Œ</span></span><br><span class="line"><span class="comment"># markeredgecolorè®¾ç½®æ ‡è®°çš„è¾¹æ¡†é¢œè‰²ï¼Œ markeredgewidth è®¾ç½®æ ‡è®°çš„è¾¹æ¡†çš„å®½åº¦</span></span><br><span class="line">plt.plot([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], color=<span class="string">&quot;r&quot;</span>, ls=<span class="string">&quot;-.&quot;</span>, marker=<span class="string">&#x27;^&#x27;</span>, markersize=<span class="number">5</span>,</span><br><span class="line">         markerfacecolor=<span class="string">&#x27;w&#x27;</span>, markeredgecolor=<span class="string">&#x27;g&#x27;</span>, markeredgewidth=<span class="number">2</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>â€‹<br><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280914089.png" alt="image-20260128091403045"><br>â€‹    </p>
<h3 id="2024-05-30ä¸‰æ¬¾äº§å“å¹´é”€å”®é¢æŠ˜çº¿å›¾"><a href="#2024-05-30ä¸‰æ¬¾äº§å“å¹´é”€å”®é¢æŠ˜çº¿å›¾" class="headerlink" title="2024.05.30ä¸‰æ¬¾äº§å“å¹´é”€å”®é¢æŠ˜çº¿å›¾"></a>2024.05.30ä¸‰æ¬¾äº§å“å¹´é”€å”®é¢æŠ˜çº¿å›¾</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ•°æ®</span></span><br><span class="line">data_x = [<span class="string">&#x27;ç¬¬1å­£åº¦&#x27;</span>, <span class="string">&#x27;ç¬¬2å­£åº¦&#x27;</span>, <span class="string">&#x27;ç¬¬3å­£åº¦&#x27;</span>, <span class="string">&#x27;ç¬¬4å­£åº¦&#x27;</span>]</span><br><span class="line">A = [<span class="number">2144</span>, <span class="number">4617</span>, <span class="number">7674</span>, <span class="number">6666</span>]</span><br><span class="line">B = [<span class="number">853</span>, <span class="number">1214</span>, <span class="number">2414</span>, <span class="number">4409</span>]</span><br><span class="line">C = [<span class="number">153</span>, <span class="number">155</span>, <span class="number">292</span>, <span class="number">680</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”»æŠ˜çº¿å›¾</span></span><br><span class="line">plt.plot(data_x, A, ls=<span class="string">&#x27;-&#x27;</span>, marker=<span class="string">&#x27;o&#x27;</span>, color=<span class="string">&#x27;b&#x27;</span>, label=<span class="string">&#x27;äº§å“A&#x27;</span>)</span><br><span class="line">plt.plot(data_x, B, ls=<span class="string">&#x27;--&#x27;</span>, marker=<span class="string">&#x27;s&#x27;</span>, color=<span class="string">&#x27;r&#x27;</span>, label=<span class="string">&#x27;äº§å“B&#x27;</span>)</span><br><span class="line">plt.plot(data_x, C, ls=<span class="string">&#x27;:&#x27;</span>, marker=<span class="string">&#x27;x&#x27;</span>, color=<span class="string">&#x27;g&#x27;</span>, label=<span class="string">&#x27;äº§å“C&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®ç½‘æ ¼</span></span><br><span class="line">plt.grid(alpha=<span class="number">0.3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ å›¾ä¾‹</span></span><br><span class="line">plt.legend()</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ æ ‡é¢˜å’Œæ ‡ç­¾</span></span><br><span class="line">plt.title(<span class="string">&#x27;ä¸‰æ¬¾äº§å“å¹´é”€å”®é¢æŠ˜çº¿å›¾&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;å­£åº¦&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;é”€å”®é¢&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 39 40 41</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280914070.png" alt="image-20260128091413029"></p>
<h3 id="2024-05-30è®¾ç½®é¢œè‰²-1"><a href="#2024-05-30è®¾ç½®é¢œè‰²-1" class="headerlink" title="2024.05.30è®¾ç½®é¢œè‰²"></a>2024.05.30è®¾ç½®é¢œè‰²</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name, <span class="built_in">hex</span> <span class="keyword">in</span> matplotlib.colors.cnames.items():</span><br><span class="line">    <span class="built_in">print</span>(name, <span class="built_in">hex</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># plt.plot([1, 2, 3], [4, 5, 6], color=&#x27;#9ACD32&#x27;)</span></span><br><span class="line">plt.plot([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], color=(<span class="number">0.3</span>, <span class="number">0.4</span>, <span class="number">0.5</span>))</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<pre><code>aliceblue #F0F8FF
antiquewhite #FAEBD7
aqua #00FFFF
aquamarine #7FFFD4
azure #F0FFFF
beige #F5F5DC
bisque #FFE4C4
black #000000
blanchedalmond #FFEBCD
blue #0000FF
blueviolet #8A2BE2
brown #A52A2A
burlywood #DEB887
cadetblue #5F9EA0
chartreuse #7FFF00
chocolate #D2691E
coral #FF7F50
cornflowerblue #6495ED
cornsilk #FFF8DC
crimson #DC143C
cyan #00FFFF
darkblue #00008B
darkcyan #008B8B
darkgoldenrod #B8860B
darkgray #A9A9A9
darkgreen #006400
darkgrey #A9A9A9
darkkhaki #BDB76B
darkmagenta #8B008B
darkolivegreen #556B2F
darkorange #FF8C00
darkorchid #9932CC
darkred #8B0000
darksalmon #E9967A
darkseagreen #8FBC8F
darkslateblue #483D8B
darkslategray #2F4F4F
darkslategrey #2F4F4F
darkturquoise #00CED1
darkviolet #9400D3
deeppink #FF1493
deepskyblue #00BFFF
dimgray #696969
dimgrey #696969
dodgerblue #1E90FF
firebrick #B22222
floralwhite #FFFAF0
forestgreen #228B22
fuchsia #FF00FF
gainsboro #DCDCDC
ghostwhite #F8F8FF
gold #FFD700
goldenrod #DAA520
gray #808080
green #008000
greenyellow #ADFF2F
grey #808080
honeydew #F0FFF0
hotpink #FF69B4
indianred #CD5C5C
indigo #4B0082
ivory #FFFFF0
khaki #F0E68C
lavender #E6E6FA
lavenderblush #FFF0F5
lawngreen #7CFC00
lemonchiffon #FFFACD
lightblue #ADD8E6
lightcoral #F08080
lightcyan #E0FFFF
lightgoldenrodyellow #FAFAD2
lightgray #D3D3D3
lightgreen #90EE90
lightgrey #D3D3D3
lightpink #FFB6C1
lightsalmon #FFA07A
lightseagreen #20B2AA
lightskyblue #87CEFA
lightslategray #778899
lightslategrey #778899
lightsteelblue #B0C4DE
lightyellow #FFFFE0
lime #00FF00
limegreen #32CD32
linen #FAF0E6
magenta #FF00FF
maroon #800000
mediumaquamarine #66CDAA
mediumblue #0000CD
mediumorchid #BA55D3
mediumpurple #9370DB
mediumseagreen #3CB371
mediumslateblue #7B68EE
mediumspringgreen #00FA9A
mediumturquoise #48D1CC
mediumvioletred #C71585
midnightblue #191970
mintcream #F5FFFA
mistyrose #FFE4E1
moccasin #FFE4B5
navajowhite #FFDEAD
navy #000080
oldlace #FDF5E6
olive #808000
olivedrab #6B8E23
orange #FFA500
orangered #FF4500
orchid #DA70D6
palegoldenrod #EEE8AA
palegreen #98FB98
paleturquoise #AFEEEE
palevioletred #DB7093
papayawhip #FFEFD5
peachpuff #FFDAB9
peru #CD853F
pink #FFC0CB
plum #DDA0DD
powderblue #B0E0E6
purple #800080
rebeccapurple #663399
red #FF0000
rosybrown #BC8F8F
royalblue #4169E1
saddlebrown #8B4513
salmon #FA8072
sandybrown #F4A460
seagreen #2E8B57
seashell #FFF5EE
sienna #A0522D
silver #C0C0C0
skyblue #87CEEB
slateblue #6A5ACD
slategray #708090
slategrey #708090
snow #FFFAFA
springgreen #00FF7F
steelblue #4682B4
tan #D2B48C
teal #008080
thistle #D8BFD8
tomato #FF6347
turquoise #40E0D0
violet #EE82EE
wheat #F5DEB3
white #FFFFFF
whitesmoke #F5F5F5
yellow #FFFF00
yellowgreen #9ACD32
</code></pre>
<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280914169.png" alt="image-20260128091427125"></p>
<h3 id="2024-05-30æœªæ¥15å¤©æœ€é«˜å’Œæœ€ä½æ°”æ¸©æŠ˜çº¿å›¾"><a href="#2024-05-30æœªæ¥15å¤©æœ€é«˜å’Œæœ€ä½æ°”æ¸©æŠ˜çº¿å›¾" class="headerlink" title="2024.05.30æœªæ¥15å¤©æœ€é«˜å’Œæœ€ä½æ°”æ¸©æŠ˜çº¿å›¾"></a>2024.05.30æœªæ¥15å¤©æœ€é«˜å’Œæœ€ä½æ°”æ¸©æŠ˜çº¿å›¾</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># # figsize:æŒ‡å®šfigureçš„å®½å’Œé«˜ï¼Œå•ä½ä¸ºè‹±å¯¸;</span></span><br><span class="line"><span class="comment"># # dpiå‚æ•°æŒ‡å®šç»˜å›¾å¯¹è±¡çš„åˆ†è¾¨ç‡ï¼Œå³æ¯è‹±å¯¸å¤šå°‘ä¸ªåƒç´ ï¼Œç¼ºçœå€¼ä¸º80</span></span><br><span class="line"><span class="comment"># iè‹±å¯¸ç­‰äº2.5cm,A4çº¸æ˜¯ 21*30cmçš„çº¸å¼ </span></span><br><span class="line"><span class="comment"># facecolor:èƒŒæ™¯é¢œè‰²</span></span><br><span class="line"><span class="comment"># edgecolor:è¾¹æ¡†é¢œè‰²</span></span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">20</span>, <span class="number">6</span>), dpi=<span class="number">80</span>)</span><br><span class="line">plt.rcParams[<span class="string">&quot;font.sans-serif&quot;</span>] = [<span class="string">&quot;SimHei&quot;</span>]</span><br><span class="line">plt.rcParams[<span class="string">&quot;axes.unicode_minus&quot;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">x = np.arange(<span class="number">4</span>, <span class="number">19</span>)</span><br><span class="line">y_max = np.array([<span class="number">32</span>, <span class="number">33</span>, <span class="number">34</span>, <span class="number">34</span>, <span class="number">33</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">29</span>, <span class="number">30</span>, <span class="number">29</span>, <span class="number">26</span>, <span class="number">23</span>, <span class="number">21</span>, <span class="number">25</span>, <span class="number">31</span>])</span><br><span class="line">y_min = np.array([<span class="number">19</span>, <span class="number">19</span>, <span class="number">20</span>, <span class="number">22</span>, <span class="number">22</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">16</span>, <span class="number">18</span>, <span class="number">18</span>, <span class="number">17</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">16</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»˜åˆ¶æŠ˜çº¿å›¾</span></span><br><span class="line">plt.plot(x, y_max, marker=<span class="string">&#x27;o&#x27;</span>, label=<span class="string">&#x27;æœ€é«˜æ¸©åº¦&#x27;</span>)</span><br><span class="line">plt.plot(x, y_min, marker=<span class="string">&#x27;s&#x27;</span>, label=<span class="string">&#x27;æœ€ä½æ¸©åº¦&#x27;</span>)</span><br><span class="line"></span><br><span class="line">x_temp = <span class="number">4</span></span><br><span class="line"><span class="keyword">for</span> y_h, y_l <span class="keyword">in</span> <span class="built_in">zip</span>(y_max, y_min):</span><br><span class="line">    plt.text(x_temp-<span class="number">0.1</span>, y_h+<span class="number">0.7</span>, y_h, family=<span class="string">&#x27;SimHei&#x27;</span>, fontsize=<span class="number">8</span>, fontstyle=<span class="string">&#x27;normal&#x27;</span>)</span><br><span class="line">    plt.text(x_temp-<span class="number">0.1</span>, y_l+<span class="number">0.7</span>, y_l, family=<span class="string">&#x27;SimHei&#x27;</span>, fontsize=<span class="number">8</span>, fontstyle=<span class="string">&#x27;normal&#x27;</span>)</span><br><span class="line">    x_temp += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">plt.xlabel(<span class="string">&quot;æ—¥æœŸ&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;æ¸©åº¦($^\circ$C)&quot;</span>)</span><br><span class="line">plt.ylim(<span class="number">0</span>, <span class="number">40</span>)</span><br><span class="line">plt.legend()</span><br><span class="line"></span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280914913.png" alt="image-20260128091434864"></p>
<h3 id="2024-05-30è®¾ç½®ä¸»é¢˜é£æ ¼"><a href="#2024-05-30è®¾ç½®ä¸»é¢˜é£æ ¼" class="headerlink" title="2024.05.30è®¾ç½®ä¸»é¢˜é£æ ¼"></a>2024.05.30è®¾ç½®ä¸»é¢˜é£æ ¼</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.style <span class="keyword">as</span> ms</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(ms.available)</span><br><span class="line">ms.use(<span class="string">&#x27;Solarize_Light2&#x27;</span>)</span><br><span class="line">plt.plot([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], marker=<span class="string">&#x27;*&#x27;</span>, ms=<span class="number">20</span>, mfc=<span class="string">&#x27;y&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<pre><code>[&#39;Solarize_Light2&#39;, &#39;_classic_test_patch&#39;, &#39;_mpl-gallery&#39;, &#39;_mpl-gallery-nogrid&#39;, &#39;bmh&#39;, &#39;classic&#39;, &#39;dark_background&#39;, &#39;fast&#39;, &#39;fivethirtyeight&#39;, &#39;ggplot&#39;, &#39;grayscale&#39;, &#39;seaborn&#39;, &#39;seaborn-bright&#39;, &#39;seaborn-colorblind&#39;, &#39;seaborn-dark&#39;, &#39;seaborn-dark-palette&#39;, &#39;seaborn-darkgrid&#39;, &#39;seaborn-deep&#39;, &#39;seaborn-muted&#39;, &#39;seaborn-notebook&#39;, &#39;seaborn-paper&#39;, &#39;seaborn-pastel&#39;, &#39;seaborn-poster&#39;, &#39;seaborn-talk&#39;, &#39;seaborn-ticks&#39;, &#39;seaborn-white&#39;, &#39;seaborn-whitegrid&#39;, &#39;tableau-colorblind10&#39;]
</code></pre>
<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280914737.png" alt="image-20260128091442687"></p>
<h3 id="2024-05-30å›ºå®šåŒºåŸŸå•å­å›¾ç»˜åˆ¶"><a href="#2024-05-30å›ºå®šåŒºåŸŸå•å­å›¾ç»˜åˆ¶" class="headerlink" title="2024.05.30å›ºå®šåŒºåŸŸå•å­å›¾ç»˜åˆ¶"></a>2024.05.30å›ºå®šåŒºåŸŸå•å­å›¾ç»˜åˆ¶</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">20</span>, <span class="number">6</span>), dpi=<span class="number">80</span>)</span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">ax_one = plt.subplot(<span class="number">326</span>)</span><br><span class="line">ax_one.plot(np.arange(<span class="number">5</span>))</span><br><span class="line">ax_one.set_title(<span class="string">&#x27;å­å›¾1&#x27;</span>)</span><br><span class="line"></span><br><span class="line">ax_two = plt.subplot(<span class="number">312</span>)</span><br><span class="line">ax_two.plot(np.arange(<span class="number">5</span>))</span><br><span class="line">ax_two.set_title(<span class="string">&#x27;å­å›¾2&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280914308.png" alt="image-20260128091452259"></p>
<h3 id="2024-05-30æŸå·¥å‚äº§å“Aä¸äº§å“Bå»å¹´çš„é”€å”®é¢åˆ†æ"><a href="#2024-05-30æŸå·¥å‚äº§å“Aä¸äº§å“Bå»å¹´çš„é”€å”®é¢åˆ†æ" class="headerlink" title="2024.05.30æŸå·¥å‚äº§å“Aä¸äº§å“Bå»å¹´çš„é”€å”®é¢åˆ†æ"></a>2024.05.30æŸå·¥å‚äº§å“Aä¸äº§å“Bå»å¹´çš„é”€å”®é¢åˆ†æ</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">20</span>, <span class="number">6</span>), dpi=<span class="number">80</span>)</span><br><span class="line"></span><br><span class="line">x = np.arange(<span class="number">1</span>, <span class="number">13</span>)</span><br><span class="line">y1 = [<span class="number">20</span>, <span class="number">28</span>, <span class="number">23</span>, <span class="number">16</span>, <span class="number">29</span>, <span class="number">36</span>, <span class="number">39</span>, <span class="number">33</span>, <span class="number">31</span>, <span class="number">19</span>, <span class="number">21</span>, <span class="number">25</span>]</span><br><span class="line">y2 = [<span class="number">17</span>, <span class="number">22</span>, <span class="number">39</span>, <span class="number">26</span>, <span class="number">35</span>, <span class="number">23</span>, <span class="number">25</span>, <span class="number">27</span>, <span class="number">29</span>, <span class="number">38</span>, <span class="number">28</span>, <span class="number">20</span>]</span><br><span class="line">labels = [<span class="string">&#x27;1æœˆ&#x27;</span>, <span class="string">&#x27;2æœˆ&#x27;</span>, <span class="string">&#x27;3æœˆ&#x27;</span>, <span class="string">&#x27;4æœˆ&#x27;</span>, <span class="string">&#x27;5æœˆ&#x27;</span>, <span class="string">&#x27;6æœˆ&#x27;</span>, <span class="string">&#x27;7æœˆ&#x27;</span>, <span class="string">&#x27;8æœˆ&#x27;</span>, <span class="string">&#x27;9æœˆ&#x27;</span>, <span class="string">&#x27;10æœˆ&#x27;</span>, <span class="string">&#x27;11æœˆ&#x27;</span>, <span class="string">&#x27;12æœˆ&#x27;</span>]</span><br><span class="line"></span><br><span class="line">ax1 = plt.subplot(<span class="number">211</span>)</span><br><span class="line">ax1.plot(x, y1, <span class="string">&#x27;m--o&#x27;</span>, lw=<span class="number">2</span>, ms=<span class="number">5</span>, label=<span class="string">&#x27;äº§å“A&#x27;</span>)</span><br><span class="line">ax1.plot(x, y2, <span class="string">&#x27;g--o&#x27;</span>, lw=<span class="number">2</span>, ms=<span class="number">5</span>, label=<span class="string">&#x27;äº§å“B&#x27;</span>)</span><br><span class="line">ax1.set_xlabel(<span class="string">&#x27;æœˆä»½&#x27;</span>)</span><br><span class="line">ax1.set_ylabel(<span class="string">&#x27;é”€å”®é¢ï¼ˆäº¿å…ƒï¼‰&#x27;</span>)</span><br><span class="line">ax1.set_title(<span class="string">&quot;äº§å“Aä¸äº§å“Bçš„é”€å”®é¢&quot;</span>, fontsize=<span class="number">12</span>)</span><br><span class="line">ax1.set_ylim(<span class="number">10</span>, <span class="number">45</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> xy1 <span class="keyword">in</span> <span class="built_in">zip</span>(x, y1):</span><br><span class="line">    ax1.annotate(<span class="string">&quot;%s&quot;</span>% xy1[<span class="number">1</span>], xy=xy1, textcoords=<span class="string">&#x27;offset points&#x27;</span>, xytext=(-<span class="number">5</span>, <span class="number">5</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> xy2 <span class="keyword">in</span> <span class="built_in">zip</span>(x, y2):</span><br><span class="line">    ax1.annotate(<span class="string">&quot;%s&quot;</span>% xy2[<span class="number">1</span>], xy=xy2, textcoords=<span class="string">&#x27;offset points&#x27;</span>, xytext=(-<span class="number">5</span>, <span class="number">5</span>))</span><br><span class="line"></span><br><span class="line">ax1.legend()</span><br><span class="line"></span><br><span class="line">ax2 = plt.subplot(<span class="number">223</span>)</span><br><span class="line">ax2.pie(y1, radius=<span class="number">1</span>, wedgeprops=&#123;<span class="string">&#x27;width&#x27;</span>: <span class="number">0.5</span>&#125;, labels=labels,</span><br><span class="line">        autopct=<span class="string">&#x27;%.1f%%&#x27;</span>, pctdistance=<span class="number">0.75</span>)</span><br><span class="line">ax2.set_title(<span class="string">&quot;äº§å“Açš„é”€å”®é¢&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ax3 = plt.subplot(<span class="number">224</span>)</span><br><span class="line">ax3.pie(y2, radius=<span class="number">1</span>, wedgeprops=&#123;<span class="string">&#x27;width&#x27;</span>: <span class="number">0.5</span>&#125;, labels=labels,</span><br><span class="line">        autopct=<span class="string">&#x27;%.1f%%&#x27;</span>, pctdistance=<span class="number">0.75</span>)</span><br><span class="line">ax3.set_title(<span class="string">&quot;äº§å“Bçš„é”€å”®é¢&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280914550.png" alt="image-20260128091457490"></p>
<h2 id="æ•°æ®åˆ†æä¸è¿ç”¨04"><a href="#æ•°æ®åˆ†æä¸è¿ç”¨04" class="headerlink" title="æ•°æ®åˆ†æä¸è¿ç”¨04"></a>æ•°æ®åˆ†æä¸è¿ç”¨04</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¯¼å…¥Numpyåº“</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¯¼å…¥Numpyåº“</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºä¸€ç»´æ•°ç»„</span></span><br><span class="line">arr1 = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line"><span class="built_in">print</span>(arr1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªäºŒç»´æ•°ç»„</span></span><br><span class="line">arr2 = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>],[<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>]])</span><br><span class="line"><span class="built_in">print</span>(arr2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ•°ç»„çš„å½¢çŠ¶(ç»´åº¦)</span></span><br><span class="line"><span class="built_in">print</span>(arr2.shape)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ•°ç»„çš„å…ƒç´ ä¸ªæ•°</span></span><br><span class="line"><span class="built_in">print</span>(arr2.size)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ•°ç»„çš„å…ƒç´ ç±»å‹</span></span><br><span class="line"><span class="built_in">print</span>(arr2.dtype)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°è®¾ç½®æ•°ç»„çš„å½¢çŠ¶</span></span><br><span class="line">arr2.shape = <span class="number">6</span>, <span class="number">2</span></span><br><span class="line"><span class="built_in">print</span>(arr2)</span><br></pre></td></tr></table></figure>

<pre><code>[1 2 3 4]
[[ 1  2  3  4]
 [ 5  6  7  8]
 [ 9 10 11 12]]
(3, 4)
12
int32
[[ 1  2]
 [ 3  4]
 [ 5  6]
 [ 7  8]
 [ 9 10]
 [11 12]]
</code></pre>
<h3 id="arange-å‡½æ•°"><a href="#arange-å‡½æ•°" class="headerlink" title="arange å‡½æ•°"></a>arange å‡½æ•°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># arange(start,stop,step)</span></span><br><span class="line">np.arange(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0.1</span>)</span><br></pre></td></tr></table></figure>




<pre><code>array([0. , 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9])
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.arange(<span class="number">1</span>,<span class="number">50</span>,<span class="number">5</span>)</span><br></pre></td></tr></table></figure>




<pre><code>array([ 1,  6, 11, 16, 21, 26, 31, 36, 41, 46])
</code></pre>
<h3 id="linspaceå‡½æ•°"><a href="#linspaceå‡½æ•°" class="headerlink" title="linspaceå‡½æ•°"></a>linspaceå‡½æ•°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">15</span>)</span><br></pre></td></tr></table></figure>




<pre><code>array([0.        , 0.07142857, 0.14285714, 0.21428571, 0.28571429,
       0.35714286, 0.42857143, 0.5       , 0.57142857, 0.64285714,
       0.71428571, 0.78571429, 0.85714286, 0.92857143, 1.        ])
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.linspace(<span class="number">1</span>,<span class="number">99</span>,<span class="number">20</span>)</span><br></pre></td></tr></table></figure>




<pre><code>array([ 1.        ,  6.15789474, 11.31578947, 16.47368421, 21.63157895,
       26.78947368, 31.94736842, 37.10526316, 42.26315789, 47.42105263,
       52.57894737, 57.73684211, 62.89473684, 68.05263158, 73.21052632,
       78.36842105, 83.52631579, 88.68421053, 93.84210526, 99.        ])
</code></pre>
<h3 id="logspaceå‡½æ•°"><a href="#logspaceå‡½æ•°" class="headerlink" title="logspaceå‡½æ•°"></a>logspaceå‡½æ•°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># logspace(start, stop, num) ä»¥10ä¸ºåº•æ•°çš„</span></span><br><span class="line">np.logspace(<span class="number">0</span>, <span class="number">2</span>, <span class="number">20</span>)</span><br></pre></td></tr></table></figure>




<pre><code>array([  1.        ,   1.27427499,   1.62377674,   2.06913808,
         2.6366509 ,   3.35981829,   4.2813324 ,   5.45559478,
         6.95192796,   8.8586679 ,  11.28837892,  14.38449888,
        18.32980711,  23.35721469,  29.76351442,  37.92690191,
        48.32930239,  61.58482111,  78.47599704, 100.        ])
</code></pre>
<h3 id="zeroså‡½æ•°"><a href="#zeroså‡½æ•°" class="headerlink" title="zeroså‡½æ•°"></a>zeroså‡½æ•°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.zeros((<span class="number">3</span>,<span class="number">3</span>))</span><br></pre></td></tr></table></figure>




<pre><code>array([[0., 0., 0.],
       [0., 0., 0.],
       [0., 0., 0.]])
</code></pre>
<h3 id="oneså‡½æ•°"><a href="#oneså‡½æ•°" class="headerlink" title="oneså‡½æ•°"></a>oneså‡½æ•°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.ones((<span class="number">3</span>,<span class="number">3</span>))</span><br></pre></td></tr></table></figure>




<pre><code>array([[1., 1., 1.],
       [1., 1., 1.],
       [1., 1., 1.]])
</code></pre>
<h3 id="eyeå‡½æ•°"><a href="#eyeå‡½æ•°" class="headerlink" title="eyeå‡½æ•°"></a>eyeå‡½æ•°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¯¹è§’çº¿æ˜¯1çš„çŸ©é˜µ(å•ä½çŸ©é˜µ)</span></span><br><span class="line">np.eye(<span class="number">4</span>)</span><br></pre></td></tr></table></figure>




<pre><code>array([[1., 0., 0., 0.],
       [0., 1., 0., 0.],
       [0., 0., 1., 0.],
       [0., 0., 0., 1.]])
</code></pre>
<h3 id="diagå‡½æ•°"><a href="#diagå‡½æ•°" class="headerlink" title="diagå‡½æ•°"></a>diagå‡½æ•°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¯¹è§’çº¿æ˜¯ç»™å®šçš„æ•°çŸ©é˜µ</span></span><br><span class="line">np.diag([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br></pre></td></tr></table></figure>




<pre><code>array([[1, 0, 0, 0, 0],
       [0, 2, 0, 0, 0],
       [0, 0, 3, 0, 0],
       [0, 0, 0, 4, 0],
       [0, 0, 0, 0, 5]])
</code></pre>
<h3 id="Numpyæ•°æ®ç±»å‹"><a href="#Numpyæ•°æ®ç±»å‹" class="headerlink" title="Numpyæ•°æ®ç±»å‹"></a>Numpyæ•°æ®ç±»å‹</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># boolv(True False)</span></span><br><span class="line"><span class="comment"># int8 int16 int32 int64</span></span><br><span class="line"><span class="comment"># float16 float32 float64</span></span><br><span class="line"><span class="comment"># uint16 uint32 uint64  æ— è´Ÿå·æ•°</span></span><br><span class="line"><span class="comment"># complex64 complex128   å¤æ•°</span></span><br></pre></td></tr></table></figure>

<h3 id="æ•°ç»„çš„æ•°æ®ç±»å‹è½¬æ¢"><a href="#æ•°ç»„çš„æ•°æ®ç±»å‹è½¬æ¢" class="headerlink" title="æ•°ç»„çš„æ•°æ®ç±»å‹è½¬æ¢"></a>æ•°ç»„çš„æ•°æ®ç±»å‹è½¬æ¢</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ•´æ•°è½¬æ¢æˆæµ®ç‚¹æ•°</span></span><br><span class="line"><span class="built_in">print</span>(np.float64(<span class="number">42</span>))</span><br></pre></td></tr></table></figure>

<pre><code>42.0
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æµ®ç‚¹æ•°è½¬æ¢æˆæ•´æ•°(åªä¿ç•™æ•´æ•°éƒ¨åˆ†)</span></span><br><span class="line"><span class="built_in">print</span>(np.int8(<span class="number">42.7</span>))</span><br></pre></td></tr></table></figure>

<pre><code>42
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ•´æ•°è½¬æ¢æˆå¸ƒå°”ç±»å‹(ä¸ä¸º0å°±æ˜¯True)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bool</span>(<span class="number">42</span>))</span><br></pre></td></tr></table></figure>

<pre><code>True
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">bool</span>(<span class="number">0</span>))</span><br></pre></td></tr></table></figure>

<pre><code>False
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¸ƒå°”ç±»å‹è½¬æ¢æˆæµ®ç‚¹æ•°</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="literal">True</span>))</span><br></pre></td></tr></table></figure>

<pre><code>1.0
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="literal">False</span>))</span><br></pre></td></tr></table></figure>

<pre><code>0.0
</code></pre>
<h3 id="ç”Ÿæˆéšæœºæ•°"><a href="#ç”Ÿæˆéšæœºæ•°" class="headerlink" title="ç”Ÿæˆéšæœºæ•°"></a>ç”Ÿæˆéšæœºæ•°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># randomå‡½æ•°</span></span><br><span class="line"><span class="built_in">print</span>(np.random.random(<span class="number">50</span>))</span><br></pre></td></tr></table></figure>

<pre><code>[0.59232633 0.6411107  0.97898929 0.97087818 0.67003048 0.28415536
 0.89445312 0.1846121  0.85321461 0.23154943 0.04957189 0.21285043
 0.872293   0.67200539 0.42790104 0.58703862 0.82047001 0.86142295
 0.15375558 0.10183155 0.39696772 0.19298618 0.31944434 0.26318058
 0.46526374 0.23245513 0.29115143 0.62654022 0.30740245 0.43103429
 0.12004474 0.07347149 0.42652956 0.22008496 0.42964808 0.48136023
 0.88608138 0.64089157 0.5597949  0.10002506 0.61452597 0.15090955
 0.41359357 0.86451418 0.7956261  0.25228129 0.20252272 0.12602809
 0.08028642 0.73315099]
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æœä»å‡åŒ€åˆ†å¸ƒçš„éšæœºæ•°</span></span><br><span class="line"><span class="built_in">print</span>(np.random.rand(<span class="number">10</span>,<span class="number">5</span>))</span><br></pre></td></tr></table></figure>

<pre><code>[[0.48605743 0.02788955 0.43162964 0.43513563 0.64833316]
 [0.56585512 0.04759614 0.41381475 0.06863375 0.81682306]
 [0.1860506  0.73255099 0.93522819 0.9325931  0.66704483]
 [0.54770451 0.13453971 0.8763998  0.50201713 0.22395692]
 [0.49932342 0.88922754 0.93717527 0.77217021 0.02917072]
 [0.1180286  0.47482095 0.16971992 0.0906512  0.77002346]
 [0.70222973 0.74629622 0.1330453  0.18641943 0.70758914]
 [0.87520014 0.35884683 0.13991008 0.97581861 0.77213821]
 [0.35218032 0.59927793 0.2687652  0.3136718  0.09065667]
 [0.20142969 0.91113678 0.0994763  0.21456229 0.63351802]]
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æœä»æ­£æ€åˆ†å¸ƒçš„éšæœºæ•°</span></span><br><span class="line"><span class="built_in">print</span>(np.random.randn(<span class="number">10</span>,<span class="number">5</span>))</span><br></pre></td></tr></table></figure>

<pre><code>[[ 1.98843720e-01 -7.82082761e-01  1.07255075e+00 -1.15325253e+00
  -2.19557026e+00]
 [-8.99431827e-01  2.02099185e+00  1.94988756e+00 -2.65094608e-02
   1.35984532e+00]
 [ 3.94889801e-01  7.61017055e-01 -6.06915532e-01 -1.89712350e+00
  -1.36715888e+00]
 [ 1.26061930e+00 -2.84968250e-01  1.58989171e-01  6.40721631e-02
  -1.08572218e+00]
 [ 1.22593797e+00  1.75438505e+00 -5.13927487e-01  4.28192394e-01
  -1.76706086e+00]
 [-6.88507790e-01 -5.37639044e-01  3.11335716e-01 -1.76635091e-01
   4.27737397e-01]
 [ 5.41820856e-01 -1.41832314e-01  1.16090179e+00  1.37208675e+00
  -9.57200202e-01]
 [-1.50901932e+00  2.70189734e-01  1.35290223e-01  8.62887153e-01
  -1.98848629e-01]
 [-3.44205093e-02 -2.83798634e-04 -9.81579652e-01 -1.06813568e+00
   2.52478465e-01]
 [-1.74419041e-01 -2.31019485e+00  6.37876009e-01 -1.93424876e+00
   6.32421025e-01]]
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç”ŸæˆæŒ‡å®šèŒƒå›´çš„éšæœºæ•°</span></span><br><span class="line"><span class="built_in">print</span>(np.random.randint(<span class="number">50</span>,<span class="number">100</span>,size=[<span class="number">5</span>,<span class="number">5</span>]))</span><br></pre></td></tr></table></figure>

<pre><code>[[89 96 80 95 78]
 [85 91 96 56 90]
 [59 83 50 75 92]
 [94 86 57 82 58]
 [50 95 86 58 83]]
</code></pre>
<h3 id="ç´¢å¼•è®¿é—®æ•°ç»„å…ƒç´ "><a href="#ç´¢å¼•è®¿é—®æ•°ç»„å…ƒç´ " class="headerlink" title="ç´¢å¼•è®¿é—®æ•°ç»„å…ƒç´ "></a>ç´¢å¼•è®¿é—®æ•°ç»„å…ƒç´ </h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸€ç»´æ•°ç»„çš„å…ƒç´ è®¿é—®</span></span><br><span class="line">arr = np.arange(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(arr)</span><br><span class="line"></span><br><span class="line">arr[<span class="number">5</span>]  <span class="comment"># ç´¢å¼•æ˜¯ä»0å¼€å§‹çš„</span></span><br></pre></td></tr></table></figure>

<pre><code>[0 1 2 3 4 5 6 7 8 9]





5
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ‡ç‰‡æ“ä½œ   ï¼ˆå–ä¸åˆ°æœ€åä¸€ä¸ªå…ƒç´ ï¼‰</span></span><br><span class="line"><span class="built_in">print</span>(arr[<span class="number">3</span>:<span class="number">5</span>])</span><br></pre></td></tr></table></figure>

<pre><code>[3 4]
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å–åˆ°ç¬¬ä¸‰ä½</span></span><br><span class="line"><span class="built_in">print</span>(arr[:<span class="number">3</span>])</span><br></pre></td></tr></table></figure>

<pre><code>[0 1 2]
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä»3å¼€å§‹å–</span></span><br><span class="line"><span class="built_in">print</span>(arr[<span class="number">3</span>:])</span><br></pre></td></tr></table></figure>

<pre><code>[3 4 5 6 7 8 9]
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 2æ˜¯æ­¥é•¿</span></span><br><span class="line"><span class="built_in">print</span>(arr[<span class="number">1</span>:<span class="number">7</span>:<span class="number">2</span>])</span><br></pre></td></tr></table></figure>

<pre><code>[1 3 5]
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¿®æ”¹æ•°ç»„çš„å…ƒç´ </span></span><br><span class="line">arr[<span class="number">3</span>] = <span class="number">300</span></span><br><span class="line"><span class="built_in">print</span>(arr)</span><br></pre></td></tr></table></figure>

<pre><code>[  0   1   2 300   4   5   6   7   8   9]
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">arr[<span class="number">4</span>:<span class="number">6</span>] = <span class="number">400</span>, <span class="number">500</span></span><br><span class="line"><span class="built_in">print</span>(arr)</span><br></pre></td></tr></table></figure>

<pre><code>[  0   1   2 300 400 500   6   7   8   9]
</code></pre>
<h3 id="å¤šç»´æ•°ç»„å…ƒç´ è®¿é—®"><a href="#å¤šç»´æ•°ç»„å…ƒç´ è®¿é—®" class="headerlink" title="å¤šç»´æ•°ç»„å…ƒç´ è®¿é—®"></a>å¤šç»´æ•°ç»„å…ƒç´ è®¿é—®</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">arr = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(arr)</span><br></pre></td></tr></table></figure>

<pre><code>[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(arr[<span class="number">1</span>,<span class="number">0</span>])</span><br></pre></td></tr></table></figure>

<pre><code>4
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(arr[<span class="number">1</span>,<span class="number">3</span>])</span><br></pre></td></tr></table></figure>

<pre><code>7
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ‡ç‰‡æ“ä½œ</span></span><br><span class="line"><span class="built_in">print</span>(arr[<span class="number">0</span>,<span class="number">1</span>:<span class="number">3</span>])</span><br></pre></td></tr></table></figure>

<pre><code>[1 2]
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(arr[<span class="number">1</span>:<span class="number">3</span>,<span class="number">1</span>:<span class="number">3</span>])</span><br></pre></td></tr></table></figure>

<pre><code>[[ 5  6]
 [ 9 10]]
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å–æ•´è¡Œ</span></span><br><span class="line"><span class="built_in">print</span>(arr[<span class="number">1</span>,:])</span><br></pre></td></tr></table></figure>

<pre><code>[4 5 6 7]
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å–æ•´åˆ—</span></span><br><span class="line"><span class="built_in">print</span>(arr[:,<span class="number">3</span>])</span><br></pre></td></tr></table></figure>

<pre><code>[ 3  7 11]
</code></pre>
<h3 id="æ•°ç»„çš„ç»„åˆä¸åˆ†å‰²"><a href="#æ•°ç»„çš„ç»„åˆä¸åˆ†å‰²" class="headerlink" title="æ•°ç»„çš„ç»„åˆä¸åˆ†å‰²"></a>æ•°ç»„çš„ç»„åˆä¸åˆ†å‰²</h3><h4 id="hstack-æ¨ªå‘ç»„åˆ"><a href="#hstack-æ¨ªå‘ç»„åˆ" class="headerlink" title="hstack()  æ¨ªå‘ç»„åˆ"></a>hstack()  æ¨ªå‘ç»„åˆ</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(arr)</span><br></pre></td></tr></table></figure>

<pre><code>[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">arr2 = arr * <span class="number">2</span></span><br><span class="line"><span class="built_in">print</span>(arr2)</span><br></pre></td></tr></table></figure>

<pre><code>[[ 0  2  4  6]
 [ 8 10 12 14]
 [16 18 20 22]]
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(np.hstack((arr, arr2)))</span><br></pre></td></tr></table></figure>

<pre><code>[[ 0  1  2  3  0  2  4  6]
 [ 4  5  6  7  8 10 12 14]
 [ 8  9 10 11 16 18 20 22]]
</code></pre>
<h4 id="vstack-çºµå‘ç»„åˆ"><a href="#vstack-çºµå‘ç»„åˆ" class="headerlink" title="vstack()  çºµå‘ç»„åˆ"></a>vstack()  çºµå‘ç»„åˆ</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(np.vstack((arr, arr2)))</span><br></pre></td></tr></table></figure>

<pre><code>[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]
 [ 0  2  4  6]
 [ 8 10 12 14]
 [16 18 20 22]]
</code></pre>
<h4 id="hsplit-æ¨ªå‘åˆ†å‰²"><a href="#hsplit-æ¨ªå‘åˆ†å‰²" class="headerlink" title="hsplit()  æ¨ªå‘åˆ†å‰²"></a>hsplit()  æ¨ªå‘åˆ†å‰²</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(arr)</span><br></pre></td></tr></table></figure>

<pre><code>[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(np.hsplit(arr,<span class="number">2</span>))</span><br></pre></td></tr></table></figure>

<pre><code>[array([[0, 1],
       [4, 5],
       [8, 9]]), array([[ 2,  3],
       [ 6,  7],
       [10, 11]])]
</code></pre>
<h4 id="vsplit-çºµå‘åˆ†å‰²"><a href="#vsplit-çºµå‘åˆ†å‰²" class="headerlink" title="vsplit()  çºµå‘åˆ†å‰²"></a>vsplit()  çºµå‘åˆ†å‰²</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">arr = np.arange(<span class="number">16</span>).reshape(<span class="number">4</span>,<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(np.vsplit(arr,<span class="number">2</span>))</span><br></pre></td></tr></table></figure>

<pre><code>[array([[0, 1, 2, 3],
       [4, 5, 6, 7]]), array([[ 8,  9, 10, 11],
       [12, 13, 14, 15]])]
</code></pre>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(np.vsplit(arr,<span class="number">2</span>))</span><br></pre></td></tr></table></figure>

<pre><code>[array([[0, 1, 2, 3],
       [4, 5, 6, 7]]), array([[ 8,  9, 10, 11],
       [12, 13, 14, 15]])]
</code></pre>
<h3 id="2024-06-06ç»˜åˆ¶æ£‰æ£’å›¾"><a href="#2024-06-06ç»˜åˆ¶æ£‰æ£’å›¾" class="headerlink" title="2024.06.06ç»˜åˆ¶æ£‰æ£’å›¾"></a>2024.06.06ç»˜åˆ¶æ£‰æ£’å›¾</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># import matplotlib</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = <span class="string">&#x27;SimHei&#x27;</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">x = np.arange(<span class="number">1</span>, <span class="number">16</span>)</span><br><span class="line">y = np.array([<span class="number">5.9</span>, <span class="number">6.2</span>, <span class="number">6.7</span>, <span class="number">7.0</span>, <span class="number">7.0</span>, <span class="number">7.1</span>, <span class="number">7.2</span>, <span class="number">7.4</span>,</span><br><span class="line">              <span class="number">7.5</span>, <span class="number">7.6</span>, <span class="number">7.7</span>, <span class="number">7.7</span>, <span class="number">7.7</span>, <span class="number">7.8</span>, <span class="number">7.9</span>])</span><br><span class="line"></span><br><span class="line">labels = np.array([<span class="string">&#x27;å®éª310&#x27;</span>, <span class="string">&#x27;å®é©¬13&#x27;</span>, <span class="string">&#x27;è‡´äº«&#x27;</span>, <span class="string">&#x27;ç„•é©°&#x27;</span>, <span class="string">&#x27;åŠ›å¸†530&#x27;</span>,</span><br><span class="line">                   <span class="string">&#x27;æ´¾åŠ›å¥¥&#x27;</span>, <span class="string">&#x27;æ‚¦ç¿”V3&#x27;</span>, <span class="string">&#x27;ä¹é£RV&#x27;</span>, <span class="string">&#x27;å¥¥è¿ªA1&#x27;</span>, <span class="string">&#x27;å¨é©°FS&#x27;</span>,</span><br><span class="line">                   <span class="string">&#x27;å¤åˆ©N7&#x27;</span>, <span class="string">&#x27;å¯è¾°R30&#x27;</span>, <span class="string">&#x27;å’Œæ‚¦A13RS&#x27;</span>, <span class="string">&#x27;è‡´ç‚«&#x27;</span>, <span class="string">&#x27;èµ›æ¬§&#x27;</span>])</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">10</span>, <span class="number">6</span>), dpi=<span class="number">80</span>)</span><br><span class="line">(markerline, stemline, baseline) = plt.stem(x, y, linefmt=<span class="string">&#x27;-&#x27;</span>, markerfmt=<span class="string">&#x27;o&#x27;</span>, use_line_collection=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">plt.setp(markerline, color=<span class="string">&#x27;r&#x27;</span>, ms=<span class="number">10</span>)</span><br><span class="line">plt.setp(stemline, color=<span class="string">&#x27;g&#x27;</span>, lw=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">plt.title(<span class="string">&#x27;ä¸åŒå“ç‰Œè½¿è½¦ç‡ƒæ–™é”€å·é‡&#x27;</span>, fontdict=&#123;<span class="string">&#x27;size&#x27;</span>: <span class="number">18</span>&#125;)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;ç‡ƒæ–™æ¶ˆè€—é‡ï¼ˆL/kmï¼‰&#x27;</span>)</span><br><span class="line">plt.xticks(x, labels, rotation=<span class="number">60</span>)</span><br><span class="line">plt.ylim([<span class="number">0</span>, <span class="number">10</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> temp_x, temp_y <span class="keyword">in</span> <span class="built_in">zip</span>(x, y):</span><br><span class="line">    plt.text(temp_x, temp_y+<span class="number">0.2</span>, s=<span class="string">&#x27;&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(temp_y), ha=<span class="string">&#x27;center&#x27;</span>, va=<span class="string">&#x27;bottom&#x27;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280915381.png" alt="image-20260128091512289"></p>
<h3 id="2024-06-06ç»˜åˆ¶ç”˜ç‰¹å›¾"><a href="#2024-06-06ç»˜åˆ¶ç”˜ç‰¹å›¾" class="headerlink" title="2024.06.06ç»˜åˆ¶ç”˜ç‰¹å›¾"></a>2024.06.06ç»˜åˆ¶ç”˜ç‰¹å›¾</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># import matplotlib</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = <span class="string">&#x27;SimHei&#x27;</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">ticks = np.array([<span class="string">&#x27;æŠ¥å‘Šæäº¤&#x27;</span>, <span class="string">&#x27;æ•°æ®åˆ†æ&#x27;</span>, <span class="string">&#x27;æ•°æ®å½•å…¥&#x27;</span>, <span class="string">&#x27;å®åœ°æ‰§è¡Œ&#x27;</span>,</span><br><span class="line">                  <span class="string">&#x27;é—®å·ç¡®å®š&#x27;</span>, <span class="string">&#x27;è¯•è®¿&#x27;</span>, <span class="string">&#x27;é—®å·è®¾è®¡&#x27;</span>, <span class="string">&#x27;é¡¹ç›®ç¡®å®š&#x27;</span>])</span><br><span class="line"></span><br><span class="line">y_data = np.arange(<span class="number">1</span>, <span class="number">9</span>)</span><br><span class="line">x_data = np.array([<span class="number">0.5</span>, <span class="number">1.5</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">0.5</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>])</span><br><span class="line">ax = plt.axes((<span class="number">0.1</span>, <span class="number">0.1</span>, <span class="number">0.8</span>, <span class="number">0.8</span>))</span><br><span class="line">plt.barh(y_data, x_data, tick_label=ticks, left=[<span class="number">7.5</span>, <span class="number">6</span>, <span class="number">5.5</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1.5</span>, <span class="number">0</span>],</span><br><span class="line">         color=<span class="string">&#x27;#cd5c5c&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.title(<span class="string">&#x27;ä»»åŠ¡ç”˜ç‰¹å›¾&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;æ—¥æœŸ&#x27;</span>)</span><br><span class="line"></span><br><span class="line">ax.spines[<span class="string">&#x27;top&#x27;</span>].set_color(<span class="string">&#x27;none&#x27;</span>)</span><br><span class="line">ax.spines[<span class="string">&#x27;right&#x27;</span>].set_color(<span class="string">&#x27;none&#x27;</span>)</span><br><span class="line">plt.grid(axis=<span class="string">&#x27;x&#x27;</span>, alpha=<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280915157.png" alt="image-20260128091520067"></p>
<h3 id="2024-06-06ç»˜åˆ¶äººå£é‡‘å­—å¡”å›¾"><a href="#2024-06-06ç»˜åˆ¶äººå£é‡‘å­—å¡”å›¾" class="headerlink" title="2024.06.06ç»˜åˆ¶äººå£é‡‘å­—å¡”å›¾"></a>2024.06.06ç»˜åˆ¶äººå£é‡‘å­—å¡”å›¾</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># import matplotlib</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = <span class="string">&#x27;SimHei&#x27;</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">df = pd.read_excel(<span class="string">r&#x27;population.xlsx&#x27;</span>)</span><br><span class="line"><span class="comment"># print(df)</span></span><br><span class="line"></span><br><span class="line">df_male = df.groupby(by=<span class="string">&#x27;Gender&#x27;</span>).get_group(<span class="string">&#x27;Male&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df_male)</span><br><span class="line">list_male = df_male[<span class="string">&#x27;Number&#x27;</span>].values.tolist()</span><br><span class="line"><span class="built_in">print</span>(list_male)</span><br><span class="line"></span><br><span class="line">df_female = df.groupby(by=<span class="string">&#x27;Gender&#x27;</span>).get_group(<span class="string">&#x27;Female&#x27;</span>)</span><br><span class="line"><span class="comment"># print(df_male)</span></span><br><span class="line">list_female = df_female[<span class="string">&#x27;Number&#x27;</span>].values.tolist()</span><br><span class="line"><span class="built_in">print</span>(list_female)</span><br><span class="line"></span><br><span class="line">df_age = df.groupby(<span class="string">&#x27;AgeGroup&#x27;</span>).<span class="built_in">sum</span>()</span><br><span class="line"><span class="built_in">print</span>(df_age)</span><br><span class="line"></span><br><span class="line">labels = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(df_age.shape[<span class="number">0</span>]):</span><br><span class="line">    age = df_age.index[i]</span><br><span class="line">    labels.append(age)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(labels)</span><br><span class="line"></span><br><span class="line">y = np.arange(<span class="number">1</span>, <span class="number">11</span>)</span><br><span class="line">plt.barh(y, list_male, tick_label=labels, label=<span class="string">&#x27;ç”·&#x27;</span>, color=<span class="string">&#x27;#6699FF&#x27;</span>)</span><br><span class="line">plt.barh(y, list_female, tick_label=labels, label=<span class="string">&#x27;å¥³&#x27;</span>, color=<span class="string">&#x27;#CC6699&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.xlabel(<span class="string">&#x27;äººæ•°&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;å¹´é¾„æ®µ(å²)&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;æŸåŸå¸‚äººå£é‡‘å­—å¡”&#x27;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line"></span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<pre><code>  AgeGroup Gender  Number
0      0-9   Male  -70812
1    10-19   Male  -64963
2    20-29   Male  -89947
3    30-39   Male  -86653
4    40-49   Male  -98391
5    50-59   Male  -79226
6    60-69   Male  -59308
7    70-79   Male  -26564
8    80-89   Male   -9418
9      90+   Male    -791
[-70812, -64963, -89947, -86653, -98391, -79226, -59308, -26564, -9418, -791]
[60814, 55015, 83940, 84858, 94798, 77357, 60288, 28578, 11897, 1628]
          Number
AgeGroup        
0-9        -9998
10-19      -9948
20-29      -6007
30-39      -1795
40-49      -3593
50-59      -1869
60-69        980
70-79       2014
80-89       2479
90+          837
[&#39;0-9&#39;, &#39;10-19&#39;, &#39;20-29&#39;, &#39;30-39&#39;, &#39;40-49&#39;, &#39;50-59&#39;, &#39;60-69&#39;, &#39;70-79&#39;, &#39;80-89&#39;, &#39;90+&#39;]
</code></pre>
<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280915960.png" alt="image-20260128091526858"></p>
<h3 id="2024-06-06ç»˜åˆ¶æ¼æ–—å›¾"><a href="#2024-06-06ç»˜åˆ¶æ¼æ–—å›¾" class="headerlink" title="2024.06.06ç»˜åˆ¶æ¼æ–—å›¾"></a>2024.06.06ç»˜åˆ¶æ¼æ–—å›¾</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># import matplotlib</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = <span class="string">&#x27;SimHei&#x27;</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">y = np.linspace(<span class="number">4</span>, <span class="number">0</span>, num=<span class="number">5</span>)</span><br><span class="line">x1 = np.array([<span class="number">1000</span>, <span class="number">500</span>, <span class="number">300</span>, <span class="number">200</span>, <span class="number">150</span>])</span><br><span class="line">x2 = np.array((x1.<span class="built_in">max</span>() - x1) / <span class="number">2</span>)</span><br><span class="line"><span class="comment"># print(x2)  [  0. 250. 350. 400. 425.]</span></span><br><span class="line">x3 = [i + j <span class="keyword">for</span> i, j <span class="keyword">in</span> <span class="built_in">zip</span>(x1, x2)]</span><br><span class="line"><span class="comment"># print(x3)   [1000.0, 750.0, 650.0, 600.0, 575.0]</span></span><br><span class="line">labels = [<span class="string">&#x27;è®¿é—®å•†å“&#x27;</span>, <span class="string">&#x27;åŠ è´­ç‰©è½¦&#x27;</span>, <span class="string">&#x27;ç”Ÿæˆè®¢å•&#x27;</span>, <span class="string">&#x27;æ”¯ä»˜è®¢å•&#x27;</span>, <span class="string">&#x27;å®Œæˆäº¤æ˜“&#x27;</span>]</span><br><span class="line">ax = plt.axes((<span class="number">0.2</span>, <span class="number">0.1</span>, <span class="number">0.7</span>, <span class="number">0.8</span>))</span><br><span class="line">rect1 = plt.barh(y, x3, <span class="number">0.5</span>, tick_label=labels, color=<span class="string">&#x27;g&#x27;</span>)</span><br><span class="line">rect2 = plt.barh(y, x2, <span class="number">0.5</span>, tick_label=labels, color=<span class="string">&#x27;w&#x27;</span>)</span><br><span class="line">plt.plot(x3, y, <span class="string">&#x27;black&#x27;</span>, alpha=<span class="number">0.6</span>)</span><br><span class="line">plt.plot(x2, y, <span class="string">&#x27;black&#x27;</span>, alpha=<span class="number">0.6</span>)</span><br><span class="line"></span><br><span class="line">notes = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(x1)):</span><br><span class="line">    notes.append(<span class="string">&#x27;%.2f%%&#x27;</span> % ((x1[i]) / x1[<span class="number">0</span>] * <span class="number">100</span>))</span><br><span class="line"><span class="comment"># print(notes)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> rect_one, rect_two, note <span class="keyword">in</span> <span class="built_in">zip</span>(rect1, rect2, notes):</span><br><span class="line">    text_x = rect_two.get_width() + (rect_one.get_width() - rect_two.get_width())/<span class="number">2</span></span><br><span class="line">    text_y = rect_one.get_y() + <span class="number">0.25</span></span><br><span class="line">    ax.text(text_x, text_y, note, ha=<span class="string">&#x27;center&#x27;</span>, va=<span class="string">&#x27;top&#x27;</span>)</span><br><span class="line"></span><br><span class="line">ax.set_xticks([])</span><br><span class="line"><span class="keyword">for</span> direction <span class="keyword">in</span> [<span class="string">&#x27;top&#x27;</span>, <span class="string">&#x27;left&#x27;</span>, <span class="string">&#x27;right&#x27;</span>, <span class="string">&#x27;bottom&#x27;</span>]:</span><br><span class="line">    ax.spines[direction].set_color(<span class="string">&#x27;none&#x27;</span>)</span><br><span class="line">ax.yaxis.set_ticks_position(<span class="string">&#x27;none&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280915692.png" alt="image-20260128091534596"></p>
<h3 id="2024-06-06ç»˜åˆ¶æ¡‘åŸºå›¾"><a href="#2024-06-06ç»˜åˆ¶æ¡‘åŸºå›¾" class="headerlink" title="2024.06.06ç»˜åˆ¶æ¡‘åŸºå›¾"></a>2024.06.06ç»˜åˆ¶æ¡‘åŸºå›¾</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib.sankey <span class="keyword">import</span> Sankey</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># import matplotlib</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = <span class="string">&#x27;SimHei&#x27;</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¶ˆè´¹æ”¶å…¥ä¸æ”¯å‡ºæ•°æ®</span></span><br><span class="line">flows = [<span class="number">0.7</span>, <span class="number">0.3</span>, -<span class="number">0.3</span>, -<span class="number">0.1</span>, -<span class="number">0.3</span>, -<span class="number">0.1</span>, -<span class="number">0.1</span>, -<span class="number">0.1</span>]</span><br><span class="line"><span class="comment"># æµçš„æ ‡ç­¾åˆ—è¡¨</span></span><br><span class="line">labels = [<span class="string">&quot;å·¥èµ„&quot;</span>, <span class="string">&quot;å‰¯ä¸š&quot;</span>, <span class="string">&quot;ç”Ÿæ´»&quot;</span>, <span class="string">&quot;è´­ç‰©&quot;</span>, <span class="string">&quot;æ·±é€ &quot;</span>, <span class="string">&quot;è¿åŠ¨&quot;</span>, <span class="string">&quot;å…¶å®ƒ&quot;</span>, <span class="string">&quot;ä¹°ä¹¦&quot;</span>]</span><br><span class="line"><span class="comment"># æµçš„æ–¹å‘</span></span><br><span class="line">orientations = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>, <span class="number">1</span>, -<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">sankey = Sankey()</span><br><span class="line">sankey.add(</span><br><span class="line">    flows=flows,</span><br><span class="line">    labels=labels,</span><br><span class="line">    orientations=orientations,</span><br><span class="line">    color=<span class="string">&#x27;black&#x27;</span>,</span><br><span class="line">    fc=<span class="string">&#x27;lightgreen&#x27;</span>,</span><br><span class="line">    patchlabel=<span class="string">&#x27;ç”Ÿæ´»æ¶ˆè´¹&#x27;</span>,</span><br><span class="line">    alpha=<span class="number">0.7</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">diagrams = sankey.finish()</span><br><span class="line">diagrams[<span class="number">0</span>].text.set_fontsize(<span class="number">20</span>)</span><br><span class="line">diagrams[<span class="number">0</span>].text.set_fontweight(<span class="string">&quot;bold&quot;</span>)</span><br><span class="line">diagrams[<span class="number">0</span>].texts[<span class="number">4</span>].set_color(<span class="string">&quot;r&quot;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601280915840.png" alt="image-20260128091545752"></p>
<h3 id="2024-06-06ç»˜åˆ¶åå¤«é¥¼å›¾"><a href="#2024-06-06ç»˜åˆ¶åå¤«é¥¼å›¾" class="headerlink" title="2024.06.06ç»˜åˆ¶åå¤«é¥¼å›¾"></a>2024.06.06ç»˜åˆ¶åå¤«é¥¼å›¾</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pywaffle</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> pywaffle <span class="keyword">import</span> Waffle</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨çª—ä½“æ˜¾ç¤º</span></span><br><span class="line"><span class="comment"># import matplotlib</span></span><br><span class="line"><span class="comment"># matplotlib.use(&#x27;TkAgg&#x27;)</span></span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = <span class="string">&#x27;SimHei&#x27;</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">4</span>, <span class="number">4</span>),</span><br><span class="line">           dpi=<span class="number">80</span>,</span><br><span class="line">           FigureClass=Waffle,</span><br><span class="line">           rows=<span class="number">10</span>,</span><br><span class="line">           columns=<span class="number">10</span>,</span><br><span class="line">           values=[<span class="number">10</span>, <span class="number">85</span>, <span class="number">5</span>],</span><br><span class="line">           colors=[<span class="string">&#x27;#FF0000&#x27;</span>, <span class="string">&#x27;#ff0000&#x27;</span>, <span class="string">&#x27;#20B2AA&#x27;</span>],</span><br><span class="line">           vertical=<span class="literal">True</span>,</span><br><span class="line">           title=&#123;<span class="string">&#x27;label&#x27;</span>: <span class="string">&#x27;&lt;&lt;å°‘å¹´çš„ä½ &gt;&gt;ä¸Šåº§ç‡&#x27;</span>&#125;,</span><br><span class="line">           legend=&#123;<span class="string">&#x27;loc&#x27;</span>: <span class="string">&quot;upper right&quot;</span>, <span class="string">&#x27;labels&#x27;</span>: [<span class="string">&#x27;æƒ…ä¾£åº§&#x27;</span>, <span class="string">&#x27;å åº§&#x27;</span>, <span class="string">&#x27;ç©ºåº§&#x27;</span>]&#125;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>matplotlib</tag>
        <tag>numpy</tag>
      </tags>
  </entry>
  <entry>
    <title>å†™åœ¨ä¸Šæµ·å°åŸä¸€å¹´ä¹‹å</title>
    <url>/2023-04-15-One-Year-After-the-Lockdown-in-Shanghai.html</url>
    <content><![CDATA[<p>æ—¶ä»£çš„ä¸€ç²’ç°å°˜è½åœ¨ä¸ªäººèº«ä¸Šå°±æ˜¯ä¸€åº§å±±ï¼Œä¸å¹¸çš„æ˜¯ï¼šæˆ‘ä»¬ååå´æ´»åœ¨ä¸€ä¸ªå°˜åœŸé£æ‰¬çš„å¹´ä»£ã€‚å¦‚æœè¦å¯¹ä¸‰å¹´é˜²ç–«åšä¸€å¥æ€»ç»“çš„è¯ï¼Œæˆ‘æ„¿æ„ç§°ä¹‹ä¸º<strong>ä¸€åœºæ”¿æ²»è¿åŠ¨å‹çš„é˜²ç–«é—¹å‰§</strong>ã€‚</p>
<h2 id="é˜²ç–«é—¹å‰§"><a href="#é˜²ç–«é—¹å‰§" class="headerlink" title="é˜²ç–«é—¹å‰§"></a>é˜²ç–«é—¹å‰§</h2><p>2022 ä¾æ—§æ˜¯äººç±»ç¤¾ä¼š<strong>å€’è½¦å’ŒåŠ é€Ÿç­äº¡</strong>çš„ä¸€å¹´ã€‚ä¸è¿‡æœ‰å¹¸çš„æ˜¯ï¼Œåœ¨ç»æµä¸‹è¡Œå‹åŠ›ã€ç™½çº¸è¿åŠ¨æŠ—è®®ã€å›½é™…å…±å­˜èˆ†è®ºç­‰ä¼—å¤šå› ç´ çš„å½±å“ä¸‹ï¼Œå¹´æœ«å½“æƒè€…ç»ˆäºå«åœäº†è¿™åœºæ”¿æ²»è¿åŠ¨å‹çš„é˜²ç–«é—¹å‰§ï¼Œåº•å±‚çš„å±æ°‘éŸ­èœä»¬ç»ˆäºæœ‰äº†å£å–˜æ°”æ´»ä¸‹å»çš„æœºä¼šã€‚å›æƒ³èµ·å»å¹´çš„ç°åœ¨ï¼Œè¿˜è¢«å°åœ¨å®¶é‡Œã€è¿˜åœ¨æŠ¢èœã€è¿˜åœ¨ä¸ºæ˜å¤©åƒä»€ä¹ˆå‘æ„ã€è¿˜åœ¨æ‹…å¿ƒè¿™åœºè’è¯è‡³æçš„é˜²ç–«é—¹å‰§ä»€ä¹ˆæ—¶å€™èƒ½ç»“æŸã€è¿˜åœ¨æ‹…å¿ƒè¿™åœºé—¹å‰§çš„ç°å®ä¼šä¸€ç›´æŒç»­ä¸‹å»ã€‚å›æƒ³èµ·é‚£æ®µæ—¶é—´å”¯ç‹¬ä¸¤å¤©ä¸€æ¬¡çš„æ”¯æ€§æ£€æµ‹ä¸æ•¢åŠç‚¹è€½æã€è€è€å®å®åšæ ¸é…¸ã€æˆ´å£ç½©ã€å‡ºç¤ºå¥åº·ç ã€è¢«è®­å¾—æœæœå¸–å¸–ï¼Œå¯è°“æ˜¯å¥´(zhi)æ€§åè¶³ã€‚</p>
<p>å³ä¾¿æ˜¯å»å¹´å…­æœˆåˆä¸Šæµ·è§£å°åï¼Œä¾æ—§æ²¡æœ‰ä»é‚£ç§ææƒ§ä¸­è§£è„±å‡ºæ¥ï¼Œåè€Œå˜å¾—è¶Šæ¥è¶Šè‡ªé—­ï¼Œç›´åˆ°ç°åœ¨æ­¤åˆ»çš„å¿ƒæ€å’Œä¸Šæµ·å°åŸé‚£æ®µæ—¶é—´æ²¡æœ‰å¤ªå¤§åŒºåˆ«ã€‚æ€æƒ³å®¡æŸ¥ã€æ–‡å­—ç‹±ã€é›†ä¸­è¥ã€ç™½è‰²ææ€–ã€è°è¨€æ¬ºéª—ï¼Œè¿™äº›å¹¶æ²¡æœ‰å› ä¸ºç–«æƒ…ç»“æŸè€Œæ¶ˆå¤±ï¼Œæ¯å¤©çš„æ„Ÿè§¦å°±åƒæ˜¯åœ¨å†å²ä¸ç°å®çš„å¤¹ç¼ä¸­è‹Ÿæ´»ï¼Œå¯¹æœªæ¥å……æ»¡ç€æ— é™çš„ææƒ§ã€‚</p>
<p>æˆ–è®¸æˆ‘ä»¬å·²ç»æ—©å·²ç»å¬æƒ¯äº†<strong>ä½ ä¸å…³å¿ƒæ”¿æ²»æ”¿æ²»ä¼šæ¥å…³å¿ƒä½ </strong>è¿™å¥åºŸè¯ï¼Œä½†å½“ç»å†äº†è¿™åœºç¾éš¾ï¼ˆé˜²ç–«é—¹å‰§ï¼‰ä¹‹åï¼Œæˆ‘ä»¬æˆ–å¤šæˆ–å°‘åœ°èƒ½æ„Ÿè§¦åˆ°<strong>ä¸€ä¸ªå›½å®¶çš„æ”¿æ²»æ°”å€™çš„å˜åŒ–æ˜¯å¦‚ä½•æ·±åˆ»åœ°å½±å“å’Œé™åˆ¶äººç±»ç”Ÿå­˜çš„çŠ¶æ€å’Œç”Ÿå­˜çš„å¯èƒ½</strong>ã€‚åœ¨æŸäº›æ€§å‘½æ”¸å…³çš„æ—¶åˆ»ï¼Œæ”¿æ²»å®ƒç›´æ¥æˆ–é—´æ¥åœ°å†³å®šäº†æˆ‘ä»¬è¿˜èƒ½ä¸èƒ½åœ¨è¿™ä¸ªä¸–ç•Œç”Ÿå­˜ä¸‹å»ã€‚</p>
<p>ä»å»å¹´ä¸Šæµ·å°åŸåˆ°ç°åœ¨ï¼Œåœ¨è¿™ä¸€å¹´å¤šçš„æ—¶é—´é‡Œï¼Œåšå®¢å·²ç»å¾ˆå°‘å†æ›´æ–°äº†ï¼Œä¹Ÿæ…¢æ…¢åœ°æ·¡å‡ºäº†æ¨ç‰¹ã€‚é™¤äº†æ­£å¸¸çš„å·¥ä½œç”Ÿæ´»å¤–ï¼Œå¤§éƒ¨åˆ†æ—¶é—´å’Œç²¾åŠ›éƒ½æ˜¯åœ¨ç ”ç©¶å’Œæ€è€ƒè¿™ä¸ªå›½å®¶å’Œç¤¾ä¼šä¸ºä»€ä¹ˆä¼šä¸Šæ¼”ç€ä¸€åœºåœºè’è¯è‡³æçš„é˜²ç–«é—¹å‰§ã€‚ç»“åˆè¿™ä¸‰å¹´é˜²ç–«é—¹å‰§æœŸé—´æ‰€å‘ç”Ÿã€æš´éœ²å‡ºçš„ä¸€åˆ‡ï¼Œä»¥åŠè‡ªå·±çš„ç”Ÿæ´»æ„Ÿå—ï¼Œæˆ‘è¶Šæ¥è¶Šæœ‰ä¸€ç§æƒ³æ¢ç©¶è¿™åœºé˜²ç–«é—¹å‰§çš„æ”¿æ²»åŸºç¡€æ˜¯å¦‚ä½•ä¸€æ­¥æ­¥å»ºç«‹èµ·æ¥çš„æƒ³æ³•ã€‚äºæ˜¯è¿‘æœŸå°±æ•´ç†äº†ä¸€äº›æœ€è¿‘ä¸€å¹´å¤šçš„æ—¶é—´é‡Œæ‰€è¯»çš„ä¹¦ä»¥åŠä¸€äº›ä¸ªäººçš„æƒ³æ³•ã€‚</p>
<h2 id="è¯»ä¹¦ç¬”è®°"><a href="#è¯»ä¹¦ç¬”è®°" class="headerlink" title="è¯»ä¹¦ç¬”è®°"></a>è¯»ä¹¦ç¬”è®°</h2><h3 id="å­”é£åŠ›ã€Šå«é­‚ï¼š1768-å¹´ä¸­åœ‹å¦–è¡“å¤§ææ…Œã€‹"><a href="#å­”é£åŠ›ã€Šå«é­‚ï¼š1768-å¹´ä¸­åœ‹å¦–è¡“å¤§ææ…Œã€‹" class="headerlink" title="å­”é£åŠ›ã€Šå«é­‚ï¼š1768 å¹´ä¸­åœ‹å¦–è¡“å¤§ææ…Œã€‹"></a>å­”é£åŠ›ã€Šå«é­‚ï¼š1768 å¹´ä¸­åœ‹å¦–è¡“å¤§ææ…Œã€‹</h3><p>ç¬¬ä¸€æ¬¡è¯»è¿™æœ¬ä¹¦æ˜¯åœ¨ 2021 å¹´äº”ä¸€å‡æœŸæœŸé—´ï¼Œé‚£æ—¶æˆ‘æ­£åœ¨ <a href="https://blog.k8s.li/taihu.html">2021 äº”ä¸€å‡æœŸç¯å¤ªæ¹–éª‘è¡Œä¹‹æ—…</a>ä¸­ã€‚2022 å¹´ä¸Šæµ·å°åŸåï¼Œæˆ‘åˆé‡æ–°è¯»äº†ä¸€éã€‚å†æ¬¡è¯»è¿™æœ¬ä¹¦çš„åŠ¨æœºï¼Œå·²ç»æƒ³ä¸å¤ªæ¸…äº†ã€‚æˆ‘è®°å¾—å½“æ—¶çœ‹åˆ°äº†ä¸€äº›ä»¤äººåŒªå¤·æ‰€æ€çš„é˜²ç–«é—¹å‰§ï¼Œæ¯”å¦‚æŸä¸ªå°åŒºçš„é˜²ç–«å·¥ä½œäººå‘˜æŠŠå±…æ°‘å›¢è´­ä¹°çš„èœæ‰”è¿›åƒåœ¾æ¡¶é‡Œï¼Œè¿™ç§é˜²ç–«é—¹å‰§ä»¤æˆ‘ååˆ†è´¹è§£ã€‚æˆ‘ä¸èƒ½ç†è§£å¤§ç™½å’Œçº¢è¢–ç« è¿™äº›ç¾¤ä½“ä»¥é˜²ç–«ä¸ºåæ‹¥æœ‰äº†ä¸€ç‚¹æƒåŠ›åå°±ä¼šä¸Šæ¼”ç€ä¸€åœºåœºä»¤äººåŒªå¤·æ‰€æ€çš„é˜²ç–«é—¹å‰§ã€‚</p>
<p>è¿˜æœ‰å°±æ˜¯å½“æ—¶åœ¨æ¨ç‰¹ä¸Šçœ‹åˆ°äº†ä¸€ä¸ªä»¥é˜²ç–«ä¸ºåæ®´æ‰“æ‘æ°‘çš„çŸ­è§†é¢‘ï¼Œè®©æˆ‘å†ä¸€æ¬¡æƒ³èµ·äº†æˆ‘çš„å¦ä¸€æ®µåˆ‡èº«ç»å†ï¼šåœ¨ 2020 å¹´æ­¦æ±‰è‚ºç‚åˆšçˆ†å‘çš„æ—¶å€™ï¼Œæˆ‘å¤–å©†åœ¨å¤§å¹´åˆå…­é‚£å¤©ä¸å¹¸ç¦»å¼€äº†è¿™ä¸ªä¸–ç•Œã€‚ä¾ç¨€è®°å¾—é‚£å¤©å»æˆ‘å¤–å©†å®¶çš„è·¯ä¹Ÿè¢«å°å¾—ä¸¥ä¸¥å®å®ï¼Œæ²¡åŠæ³•å¼€è½¦å»ï¼Œåªèƒ½éª‘ç”µåŠ¨è½¦ã€‚åœ¨æ‘ä¸æ‘äº¤ç•Œçš„è·¯ä¸Šè¢«å½“åœ°çš„çº¢è¢–ç« æ‹¦ä½ä¸è®©è¿‡ï¼Œç»™ä»–è¯´æ˜äº†åŸå› ä¹Ÿæ­»æ´»ä¸è®©è¿‡ã€‚çœŸæ˜¯æ¬ºäººå¤ªç”šï¼Œæ°”å¾—æˆ‘ç›´æ¥è¸¹å¼€æŒ¡æ¿éª‘è½¦ç”µè½¦ç¡¬é—¯äº†è¿‡å»ã€‚éšåçº¢è¢–ç« æ‹¨æ‰“äº†å½“åœ°æ´¾å‡ºæ‰€çš„ç”µè¯ï¼Œä¸¤è¾†è­¦è½¦åå‡ å·äººæ¥æŠ“æ•æˆ‘ã€‚å½“æ—¶ä¸€ç›´å°±æƒ³ä¸æ¸…ä¸ºä»€ä¹ˆä¸€ä¸ªæ™®é€šçš„æ‘æ°‘æˆ´ä¸Šçº¢è¢–ç« ä¹‹åå°±å¦‚æ­¤è†¨èƒ€ï¼Œç›´åˆ°è¯»äº†è¿™æœ¬ä¹¦åæˆ‘æ…¢æ…¢åœ°æƒ³é€šäº†ã€‚</p>
<p>è¿™æœ¬ä¹¦å‘äººä»¬å±•ç¤ºäº†ä¸­å›½ç¤¾ä¼šæ™®éå­˜åœ¨çš„ä¸€ä¸ªç°è±¡ï¼šç¤¾ä¼šä¸Šåˆ°å¤„è¡¨ç°å‡ºå†¤å†¤ç›¸æŠ¥çš„æ•Œæ„ã€‚ä¸­å›½çš„ä¸“åˆ¶åˆ¶åº¦ä»å…¬å…ƒå‰ 221 å¹´ç§¦å§‹çš‡ç»Ÿä¸€ä¸­å›½å¼€å§‹ï¼Œæ²¿è¢­äº†ä¸¤åƒå¤šå¹´ï¼Œæœ‰ç€ä¸°åšçš„å†å²ç§¯æ·€ã€‚å³ä¾¿æ˜¯åœ¨ä»Šå¤©ï¼ŒæƒåŠ›ä»å„æ–­åœ¨ä¸“åˆ¶ç»Ÿæ²»é˜¶å±‚æ‰‹ä¸­ï¼Œè®©æ™®é€šæ°‘ä¼—äº«æœ‰æƒåŠ›ååˆ†å›°éš¾ï¼Œè€Œå½“ä»¥å«é­‚æˆ–é˜²ç–«ä¸ºåçš„â€œå¹»è§‰æƒåŠ›â€è¿›å…¥ç¤¾ä¼šä¹‹åï¼Œæ™®é€šæ°‘ä¼—å°±æ‹¥æœ‰äº†äº’ç›¸æŠ¥å¤çš„æ­¦å™¨ã€‚ä»–ä»¬æ‰€èƒ½çˆ†å‘å‡ºæ¥çš„å¨åŠ›æ­£å¦‚ä¹¦ä¸­æ‰€æå†™çš„é‚£æ ·ææ€–ã€‚</p>
<blockquote>
<p>ä¸€æ—¦å®˜åºœè®¤çœŸå‘èµ·å¯¹å¦–æœ¯çš„æ¸…å‰¿ï¼Œæ™®é€šäººå°±æœ‰äº†å¾ˆå¥½çš„æœºä¼šæ¥æ¸…ç®—å®¿æ€¨æˆ–è°‹å–ç§åˆ©ã€‚è¿™æ˜¯æ‰”åœ¨å¤§è¡—ä¸Šçš„ä¸Šäº†è†›çš„æ­¦å™¨ï¼Œæ¯ä¸ªäººâ€”â€”æ— è®ºæ¶æ£æˆ–è‰¯å–„â€”â€”éƒ½å¯ä»¥å–è€Œç”¨ä¹‹ã€‚åœ¨è¿™ä¸ªæƒåŠ›å¯¹æ™®é€šæ°‘ä¼—æ¥è¯´å‘æ¥ç¨€ç¼ºçš„ç¤¾ä¼šé‡Œï¼Œä»¥â€œå«é­‚â€ç½ªåæ¥æ¶æ„ä¸­ä¼¤ä»–äººæˆäº†æ™®é€šäººçš„ä¸€ç§çªç„¶å¯å¾—çš„æƒåŠ›ã€‚å¯¹ä»»ä½•å—åˆ°æ¨ªæš´çš„æ—äººæˆ–è´ªå©ªçš„å€ºä¸»é€¼è¿«çš„äººæ¥è¯´ï¼Œè¿™ä¸€æƒåŠ›ä¸ºä»–ä»¬æä¾›äº†æŸç§è§£è„±ï¼›å¯¹å®³æ€•å—åˆ°è¿«å®³çš„äººï¼Œå®ƒæä¾›äº†ä¸€å—ç›¾ç‰Œï¼›å¯¹æƒ³å¾—åˆ°å¥½å¤„çš„äººï¼Œå®ƒæä¾›äº†å¥–èµï¼›å¯¹å¦’å«‰è€…ï¼Œå®ƒæ˜¯ä¸€ç§è¡¥å¿ï¼›å¯¹æ¶æ£ï¼Œå®ƒæ˜¯ä¸€ç§åŠ›é‡ï¼›å¯¹è™å¾…ç‹‚ï¼Œå®ƒåˆ™æ˜¯ä¸€ç§ä¹è¶£ã€‚</p>
</blockquote>
<blockquote>
<p>æ–½è¡Œå¦–æœ¯å’Œæå‡ºå¦–æœ¯æŒ‡æ§æ‰€æŠ˜å°„åæ˜ å‡ºæ¥çš„æ˜¯äººä»¬çš„æ— æƒæ— åŠ¿çŠ¶æ€ã€‚å¯¹ä¸€äº›æ— æƒæ— åŠ¿çš„æ™®é€šæ°‘ä¼—æ¥è¯´ï¼Œå¼˜å†çš„æ¸…å‰¿ç»™ä»–ä»¬å¸¦æ¥äº†æ…·æ…¨çš„æœºä¼šã€‚å³ä½¿åœ¨ä»Šå¤©ï¼Œè®©æ™®é€šæ°‘ä¼—äº«æœ‰æƒåŠ›ä»æ˜¯ä¸€ä¸ªè¿˜æœªå®ç°çš„è®¸è¯ºã€‚æ¯«ä¸å¥‡æ€ªï¼Œå†¤å†¤ç›¸æŠ¥ï¼ˆè¿™æ˜¯â€œå—å›°æ‰°ç¤¾ä¼šâ€ä¸­æœ€ä¸ºæ™®éçš„ç¤¾ä¼šè¿›æ”»æ–¹å¼ï¼‰ä»ç„¶æ˜¯ä¸­å›½ç¤¾ä¼šç”Ÿæ´»çš„ä¸€ä¸ªæ˜¾è‘—ç‰¹ç‚¹ã€‚</p>
</blockquote>
<blockquote>
<p>æ²¡æœ‰äººä¼šå“€æ‚¼æ—§ä¸­å›½çš„å®˜åƒšåˆ¶åº¦ã€‚å³ä½¿æŒ‰ç…§å½“æ—¶çš„æ ‡å‡†ï¼Œå®ƒæ‰€é€ æˆçš„ç¤¾ä¼šä¼¤å®³ä¹Ÿå·²è¶…å‡ºäº†ä»…ä»…å‹ç¢å‡ ä¸ªæ— ä¾æ— åŠ©çš„æ¸¸æ°‘è¸éª¨çš„ç¨‹åº¦ã€‚ä½†ä¸è®ºæ˜¯å¥½äº‹è¿˜æ˜¯åäº‹ï¼Œå®ƒçš„ç‰¹æ€§å´å¯ä»¥é˜»æŒ¡ä»»ä½•ä¸€ç§ç‹‚çƒ­ã€‚æ²¡æœ‰è¿™æ ·ä¸€ä¸ªåº”æ€¥çš„é”šç¢‡ï¼Œä¸­å›½å°±ä¼šåœ¨é£æš´ä¸­æ€¥å‰§åèˆªã€‚åœ¨ç¼ºä¹ä¸€ç§å¯è¡Œçš„æ›¿ä»£åˆ¶åº¦çš„æƒ…å†µä¸‹ï¼Œç»Ÿæ²»è€…å°±å¯ä»¥åˆ©ç”¨æ“çºµæ°‘ä¼—çš„ææƒ§ï¼Œå°†ä¹‹è½¬å˜ä¸ºå¯æ€•çš„åŠ›é‡ã€‚ç”Ÿæ´»äºæˆ‘ä»¬æ—¶ä»£çš„é‚£äº›å¼‚è§äººå£«å’Œå› ç¤¾ä¼šèƒŒæ™¯æˆ–æ€ªå¼‚ä¿¡ä»°è€Œæ˜“å—æŒ‡æ§çš„æ›¿ç½ªç¾Šï¼Œä¾¿ä¼šæˆä¸ºè¿™ç§åŠ›é‡çš„æ”»å‡»ç›®æ ‡ã€‚</p>
</blockquote>
<blockquote>
<p>å½“ä»£ä¸­å›½çš„å†å²ä¸­å……æ»¡äº†è¿™ç§å¹»è§‰æƒåŠ›è¿›å…¥ç¤¾ä¼šçš„ä¾‹å­ã€‚æˆ‘è¿˜è®°å¾— 1982 å¹´åœ¨åŒ—äº¬ä¸ä¸€ä¸ªè€çº¢å«å…µçš„è°ˆè¯ã€‚ä»–å½“æ—¶æ˜¯ä¸€ä¸ªä½æ”¶å…¥çš„æœåŠ¡å·¥ã€‚ä»–æ„Ÿæ…¨åœ°è¯´ï¼Œæ¯›æ³½ä¸œçš„æ–‡åŒ–é©å‘½å¯¹äºåƒä»–è¿™æ ·æ²¡æœ‰æ­£å¼èµ„æ ¼å¾ªå¸¸è§„é€”å¾„åœ¨ç¤¾ä¼šä¸Šè¿›èº«çš„äººæ¥è¯´æ˜¯ä¸€ä¸ªé»„é‡‘æ—¶ä»£ï¼Œæ¯›å·å¬å¹´è½»äººèµ·æ¥é©å‘½é€ åï¼Œè¿™ä¸€æ¥è‡ªé¡¶ç«¯çš„çªç„¶å¯å¾—çš„æƒåŠ›ä½¿ä»–çš„é‡å¿ƒå¾—åˆ°äº†æ»¡è¶³ã€‚ä»–æŠ±æ€¨è¯´ï¼Œç°åœ¨çš„ç¤¾ä¼šæ ·æ ·éƒ½è¦é€šè¿‡è€ƒè¯•ï¼Œä»–å†ä¹Ÿæ²¡æœ‰å¸Œæœ›ä»ç°åœ¨è¿™ä¸ªæœ€åº•å±‚çš„ä½ç½®çˆ¬ä¸Šå»äº†ã€‚</p>
</blockquote>
<h3 id="é«˜åã€Šå†å²ç¬”è®°ã€‹"><a href="#é«˜åã€Šå†å²ç¬”è®°ã€‹" class="headerlink" title="é«˜åã€Šå†å²ç¬”è®°ã€‹"></a>é«˜åã€Šå†å²ç¬”è®°ã€‹</h3>

<blockquote class="twitter-tweet"><p lang="zh" dir="ltr">æœ€è¿‘åœ¨è¯»é«˜åçš„ã€Šå†å²ç¬”è®°ã€‹ï¼Œæ„Ÿè§¦æœ€æ·±çš„å°±æ˜¯ï¼šå…­åå¹´å‰å¤§é¥¥è’æ—¶åŸºå±‚å¹²éƒ¨å¯¹æ­»äº¡äººæ•°è°æŠ¥ç’æŠ¥ã€ä¸­å¤®æ”¿åºœæ‹’ä¸æ‰¿è®¤äº‹å®ã€æ–°é—»åª’ä½“è·Ÿç€æ„šæ°‘æ´—è„‘ã€‚å†çœ‹çœ‹æˆ‘ä»¬æ‰€å¤„çš„æ—¶ä»£ï¼Œä»æ­¦æ±‰è‚ºç‚è°æŠ¥ç’æŠ¥åˆ°è¥¿å®‰çš„æ©è€³åˆ°â€œé›¶â€ã€‚å…­åå¹´è¿‡å»äº†ï¼Œè¿˜æ˜¯ç†Ÿæ‚‰çš„å‘³é“ã€‚<br><br>æ‰€ä»¥æˆ‘ååˆ†ç›¸ä¿¡â€œå¯¹æœªæ¥å……æ»¡å¸Œæœ›çš„äººå¾€å¾€å¯¹å†å²ä¸€æ— æ‰€çŸ¥â€ã€‚ <a href="https://t.co/QNhH5AfxPs">pic.twitter.com/QNhH5AfxPs</a></p>&mdash; Reimu (@muzi_ii) <a href="https://twitter.com/muzi_ii/status/1481975057190916096?ref_src=twsrc%5Etfw">January 14, 2022</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>



<p>ã€Šå†å²ç¬”è®°ã€‹æ˜¯æˆ‘åœ¨ 2022 å¹´è¯»çš„ç¬¬ä¸€æœ¬ä¹¦ï¼Œä»å…ƒæ—¦å¼€å§‹é˜…è¯»ï¼ŒèŠ±è´¹äº†ç›¸å½“é•¿çš„æ—¶é—´å’Œç²¾åŠ›æ‰è¯»å®Œã€‚è¿™æœ¬ä¹¦æ˜¯é«˜åæ•™æˆçš„é—ä½œï¼Œå…±åˆ†ä¸ºä¸Šä¸‹ä¸¤å·å››ç¼–ï¼Œç¹ä½“ä¸­æ–‡ã€‚</p>
<p>ç¬¬ä¸€ç¼–ã€Šâ¾°å‘½ã€å†…æˆ˜ä¸âº æ—ä¸»ä¹‰ã€‹åˆ†è®ºå›½âº å…šå…±äº§å…šä¸¤å…š 1949 å¹´å‰å„â¾ƒçš„å†å²ã€‚ä½œä¸ºå›½å…±å†…æˆ˜èƒœåˆ©æ–¹çš„ä¸­å…±æ˜¯æœ¬ç« çš„è®ºè¿°é‡ç‚¹ï¼Œæ‰€é€‰æ–‡ç« ä¸ä»…åæ˜ å…¶é©å‘½å¤ºæƒå†ç¨‹ï¼Œè¿˜æ˜ å°„å‡º 1949 å¹´åæ”¿æ²»å®è·µçš„æŸäº›é›å½¢ã€‚</p>
<blockquote>
<p>æ°‘æ—ä¸»ç¾©èˆ‡æ°‘ä¸»ä¸»ç¾©æ˜¯ä¸€å°é›™èƒèƒï¼Œå€åˆ¥åœ¨æ–¼ï¼šæ°‘æ—ä¸»ç¾©ï¼Œå¼·èª¿é›†é«”èªåŒå’Œåœ‹å®¶èªåŒï¼›æ°‘ä¸»ä¸»ç¾©ï¼Œå¼·èª¿å€‹äººæœ¬ä½ï¼Œå€‹äººæ¬Šåˆ©ï¼Œå€‹äººè‡ªç”±ã€‚å¾ç†è«–ä¸Šè¬›ï¼Œç•¶åœ‹å®¶ã€æ°‘æ—é¢è‡¨åš´é‡çš„å±æ©Ÿæ™‚ï¼Œåœ‹æ°‘æ‡‰è®“æ¸¡å‡ºè‡ªå·±çš„ä¸€éƒ¨åˆ†å€‹äººæ¬Šåˆ©ï¼Œä»¥æœå¾æ–¼åœ‹å®¶åˆ©ç›Šï¼Œæ”¯æŒåœ‹å®¶æˆ°å‹å±æ©Ÿï¼Œè€Œåœ‹å®¶çš„æœ€çµ‚ç›®çš„æ˜¯ä¿è­·å€‹äººè‡ªç”±ã€‚ä½†æ˜¯åœ¨è¿‘ä»£ä»¥ä¾†ï¼Œæ°‘æ—ä¸»ç¾©ç¶“å¸¸åå™¬æ°‘ä¸»ä¸»ç¾©ï¼Œé€™ä¸»è¦æ˜¯ç”±ä¸­åœ‹è¿‘ä»£çš„æ”¿æ²»å’Œå¤§çš„ç’°å¢ƒé€ æˆçš„ã€‚ä¹Ÿå’Œäººå€‘èªè­˜çš„èª¤å€ï¼Œçµ±æ²»éšç´šçš„ç‹¹éš˜å’Œè‡ªç§æœ‰é—œã€‚</p>
</blockquote>
<p>ç¬¬â¼†ç¼–ã€Šæ–­è£‚ä¸å»¶ç»­ã€‹ä¸»è¦è®ºåŠâ½‘æ³½ä¸œæ—¶ä»£ï¼Œå†…å®¹æ¶µç›–äº†ä¸‰åäº”åã€å¤§è·ƒè¿›è¿åŠ¨ã€å››æ¸…è¿åŠ¨ã€æ—å½ªäº‹ä»¶ç­‰å¤šä¸ªå†å²äº‹ä»¶ã€‚å…¶ä¸­ååˆ†æ¨èå¤§å®¶å»ä»”ç»†åœ°å»è¯»ä¸€ä¸‹<a href="https://www.cuhk.edu.hk/ics/21c/media/articles/c048-199807004.pdf">ã€Šå¤§èºé€²é‹å‹•èˆ‡åœ‹å®¶æ¬ŠåŠ›çš„æ“´å¼µã€‹</a>è¿™ä¸ªç« èŠ‚ï¼Œä»æŸç§ç¨‹åº¦ä¸Šæˆ‘è§‰ç€è¿™åœºé˜²ç–«é—¹å‰§å’Œå¤§è·ƒè¿›è¿åŠ¨èƒŒåçš„æ”¿æ²»é€»è¾‘æå…¶ç›¸ä¼¼ã€‚</p>
<blockquote>
<p>1958 å¹´ç”±æ¯›æ¾¤æ±è¦ªè‡ªç™¼å‹•ã€å¸­æ²å…¨åœ‹çš„å¤§èºé€²é‹å‹•ï¼Œæ˜¯ä¸€å ´å…·æœ‰ç©ºæƒ³çƒæ‰˜é‚¦æ€§è³ªçš„æ”¿æ²»é‹å‹•ã€‚ä»Šå¤©äººå€‘æ†¶åŠç•¶å¹´çš„å¤§èºé€²ï¼Œé¦¬ä¸Šæœƒè¯æƒ³åˆ°ã€Œé«˜ç”¢è¡›æ˜Ÿã€ã€ã€Œå…¨æ°‘ç…‰é‹¼ã€ã€ã€Œå…¬ç¤¾é£Ÿå ‚ã€ç­‰å¸¶æœ‰è’èª•è‰²å½©çš„æ™¯è±¡ã€‚ç„¶è€Œå¤§èºé€²ä¸¦éåƒ…åƒ…æ˜¯ä¸€å ´çƒæ‰˜é‚¦é‹å‹•ï¼Œåœ¨å¤§èºé€²æœŸé–“ï¼Œåœ‹å®¶æ¬ŠåŠ›å€Ÿç€é€™å ´é‹å‹•çš„æ¨å‹•ï¼Œä»¥å‰æ‰€æœªæœ‰çš„è¦æ¨¡æ€¥é€Ÿåœ°å‘ç¤¾æœƒå„å€‹é ˜åŸŸæ“´å¼µã€‚å¤§èºé€²é‹å‹•ä½¿åœ‹å®¶æ¬Šå¨å¾—ä»¥æ“´å¤§å’Œå¼·åŒ–ï¼Œä¸åƒ…æ·±åˆ»åœ°æ”¹è®Šäº†ä¸­åœ‹ç¤¾æœƒçš„é¢è²Œï¼Œä¹Ÿå¤§å¤§åŠ å¼·äº†æ°‘çœ¾å°åœ‹å®¶æ¬Šå¨çš„èªçŸ¥ã€‚</p>
</blockquote>
<blockquote>
<p>åœ¨å¤§èºé€²æœŸé–“ï¼Œåœ‹å®¶æ„å¿—é€éå¼·æœ‰åŠ›çš„æ”¿æ²»å‹•å“¡å’Œçµ„ç¹”æªæ–½å¾—ä»¥å…¨åŠ›è²«å¾¹ï¼Œåœ‹å®¶æ¬ŠåŠ›åœ¨é€™å€‹éç¨‹ä¸­æ€¥é€Ÿæ“´å¼µã€‚</p>
</blockquote>
<blockquote>
<p>èˆ‡ä»¥å¾€æ­·æ¬¡æ”¿æ²»é‹å‹•ç›¸æ¯”ï¼Œå¤§èºé€²æ˜¯ä¸€å ´è¦æ¨¡æ›´å¤§çš„ç¾¤çœ¾æ€§é‹å‹•ï¼Œé€™å ´é‹å‹•ä¸åƒ…ä¿ƒä½¿åœ‹å®¶æ¬Šå¨å‘åŸé„‰å…¨é¢æ»²é€ï¼Œè€Œä¸”åœ¨ç¤¾æœƒç”Ÿæ´»æ‰€æœ‰é ˜åŸŸéƒ½å»ºç«‹ã€éå›ºå’Œå¼·åŒ–äº†åœ‹å®¶æ¬ŠåŠ›ã€‚</p>
</blockquote>
<blockquote>
<p>ä»¤äººé©šå¥‡çš„æ˜¯ï¼Œå³ä½¿åˆ°äº†é€™ä¸€æ­¥ï¼Œä¸€äº›é ˜å°å¹¹éƒ¨ä»åœ¨ç¹¼çºŒéš±çé¥‘è’çš„çœŸç›¸ã€‚å‘¨æ©ä¾†ä»¥å¾Œå›æ†¶é“ï¼Œåœ¨ I960 å¹´å¤å¤©å¬é–‹çš„åŒ—æˆ´æ²³æœƒè­°ä¸Šï¼Œä»–æœ¬äººã€Œå·²ç¶“æ„è­˜åˆ°ç³§é£Ÿæœ‰å•é¡Œï¼Œä½†å¤§å®¶ä¸æ‰¿èªï¼ŒçµæœæŠŠçœŸå¯¦æƒ…æ³çµ¦æ©è“‹èµ·ä¾†äº†ã€ã€‚</p>
</blockquote>
<blockquote>
<p>ç›´è‡³ 1960 å¹´ 10 æœˆï¼Œã€Šäººæ°‘æ—¥å ±ã€‹åœ¨åœ‹æ…¶ç¤¾è«–ä¸­æ‰å°å½¢å‹¢ä½œå‡ºäº†æ–°çš„è§£é‡‹ã€‚ç¤¾è«–ç¨±ï¼Œã€Œå…©å¹´ä¾†ï¼Œå…¨åœ‹å¤§éƒ¨åˆ†åœ°å€é€£çºŒé­å—åš´é‡çš„è‡ªç„¶ç½å®³ï¼Œé€ æˆç³§é£Ÿåš´é‡æ¸›ç”¢ã€ã€‚ç¤¾è«–ä¸¦å®£ç¨±ï¼Œã€Œäººæ°‘å…¬ç¤¾å·²ä½¿æˆ‘åœ‹è¾²æ°‘æ°¸é æ“ºè„±äº†é‚£ç¨®æ¯é­è‡ªç„¶ç½å®³å¿…ç„¶æœ‰æˆç™¾è¬ã€æˆåƒè¬äººé¥‘é¤“ã€é€ƒè’å’Œæ­»äº¡çš„æ­·å²å‘½é‹ã€ã€‚ç¤¾è«–ä½œè€…ç•¶ç„¶çŸ¥é“ï¼Œå°±åœ¨é€™ç¯‡ç¤¾è«–ç™¼è¡¨ä¹‹æ™‚ï¼Œå…¨åœ‹å„åœ°è¾²æ‘æ­£åœ¨ç™¼ç”Ÿå¤§é¢ç©é¤“æ­»äººçš„æƒ…æ³ï¼Œä½†äº‹å¯¦æ­¸äº‹å¯¦ï¼Œå®£å‚³æ­¸å®£å‚³ï¼Œä»–å€‘é¸æ“‡æ¡å–äº†ã€Œç¡¬ç€é ­çš®é ‚ä½ã€çš„æ–¹é‡ã€‚</p>
</blockquote>
<p>è¿˜æœ‰<a href="https://www.hkiaps.cuhk.edu.hk//wd/ni/20181024-091256_1_usc_17_secure.pdf">ã€Š1949-1965 å¹´ä¸­åœ‹ç¤¾æœƒçš„æ”¿æ²»åˆ†å±¤ã€‹</a>ç« èŠ‚é‡Œæåˆ°çš„<strong>å‘å…šäº¤å¿ƒè¿åŠ¨</strong>ååˆ†æœ‰æœ‰æ„æ€ï¼Œå¤§è·ƒè¿›æ—¶æœŸéƒ½æ˜¯è¦æŠŠå¿ƒäº¤ç»™å…šçš„ï¼Œæ¯”ç°åœ¨å®‰ä¸ªåè¯ˆ app æŠŠéšç§äº¤ç»™å…šé«˜åˆ°ä¸çŸ¥é“å“ªé‡Œå»äº† ğŸ˜‚ã€‚</p>
<blockquote>
<p>å…¨é«”æ•™å¸«è¯åˆèˆ‰è¡Œæ”¹é€ ä¿ƒé€²å¤§æœƒï¼Œä»–å€‘æŠ¬ç€ã€Œå¤§ç´…å¿ƒã€çš„æ¨™èªŒä¸Šè¡—éŠè¡Œã€‚4 æœˆ 4 æ—¥ï¼Œå—äº¬å¸‚å„é«˜æ ¡å¸«ç”Ÿèˆ‡ç§‘ç ”æ©Ÿé—œçš„æ°‘ä¸»äººå£«å…±ä¸‰åƒé¤˜äººï¼Œé«˜èˆ‰ã€ŒæŠŠå¿ƒäº¤çµ¦é»¨ã€ã€ã€ŒæŠŠçŸ¥è­˜äº¤çµ¦äººæ°‘ã€çš„æ——å¹Ÿåœ¨å—äº¬å¸‚èˆ‰è¡Œå¤§éŠè¡Œï¼Œä¹‹å¾Œï¼Œåˆèˆ‰è¡Œäº†ç¤¾æœƒä¸»ç¾©è‡ªæˆ‘æ”¹é€ ä¿ƒé€²å¤§æœƒã€‚4 æœˆ 21 æ—¥ï¼Œå—äº¬å¸‚å·¥å•†ç•Œä¸‰åƒå¤šäººå¬é–‹å¤§æœƒï¼Œå®£ä½ˆã€Œç«‹å³é–‹å±•å‘é»¨äº¤å¿ƒé‹å‹•ã€ï¼Œæ°‘å»ºä¸­å¤®ä¸»å¸­é»ƒç‚åŸ¹è¦ªè‡¨æœƒå ´äºˆä»¥é¼“å‹µã€‚4 æœˆ 22 æ—¥ï¼Œå—äº¬å¸‚å·¥å•†ç•Œå’Œæ°‘ä¸»é»¨æ´¾æå‡ºå‘é»¨ã€Œäº¤å¿ƒã€è¦ã€Œå¿«ã€é€ã€æ·±ã€çœŸã€çš„å£è™Ÿï¼Œè¡¨ç¤ºè¦æŠŠã€Œæ¥å—é»¨çš„é ˜å°å’Œèµ°ç¤¾æœƒä¸»ç¾©é“è·¯çš„ä¸‰å¿ƒäºŒæ„ï¼Œèºé€²åˆ°ä¸€å¿ƒä¸€æ„ã€ã€‚æ±Ÿè˜‡çœå®—æ•™ç•Œäººå£«ä¹Ÿé–‹å±•äº†ã€Œäº¤å¿ƒã€é‹å‹•ï¼Œå¤©ä¸»æ•™ç•Œé€šéã€Œè‡ªé¸ã€ã€ã€Œè‡ªè–ã€ä¸»æ•™ï¼Œã€Œä½¿å…¨çœå¤©ä¸»æ•™å‡ºç¾äº†ä¸€å€‹æ–°çš„å±€é¢ã€ã€‚åœ¨ã€Œäº¤å¿ƒã€é‹å‹•ä¸­ï¼Œå…¨çœ 11 å€‹åŸå¸‚æ°‘ä¸»é»¨æ´¾å’Œå·¥å•†ç•Œäººå£« 4,106 äººï¼Œå…±äº¤å¿ƒ 47 è¬æ¢ã€‚æ“šç•¶æ™‚çš„è¨˜è¼‰ç¨±ï¼Œé€™æ¬¡äº¤å¿ƒã€Œå¤§é‡æš´éœ²äº†ä»–å€‘é•·æœŸéš±ççš„è…æœ½æ€æƒ³å’Œåå‹•è¡Œç‚ºã€12()ã€‚å°æ–¼å·¥å•†ç•Œå’Œæ°‘ä¸»äººå£«çš„ã€Œäº¤å¿ƒã€ï¼Œçµ„ç¹”ä¸Šè¦å®šçš„åŸå‰‡æ˜¯ã€Œè‡ªæ¢³è‡ªç†ï¼Œæ±‚é†«æœƒè¨ºã€ã€‚å…ˆè®“ä»–å€‘å°ç…§è¦æ±‚ã€è‡ªæˆ‘æ‰¹åˆ¤ï¼Œç„¶å¾Œå¼•å°ä»–å€‘æ‡‡è«‹é»¨å“¡å’Œé ˜å°å°ä»–å€‘çš„ã€Œå£æ€æƒ³ã€æœ‰é‡å°æ€§åœ°é€²è¡Œæ‰¹è©•ï¼Œä¸¦é¼“å‹µä»–å€‘æ‰“ç ´åº¸ä¿—çš„æƒ…é¢è§€ï¼Œã€Œæ¯”å…ˆé€²ï¼Œæ¯”å¹¹å‹ã€ï¼Œäº’ç›¸å±•é–‹æ‰¹è©•å’Œæ€æƒ³é¬¥çˆ­ï¼Œä»¥ä½¿ã€Œäº¤å¿ƒã€è½åœ¨å¯¦è™•ï¼Œé˜²æ­¢ã€Œäº¤å¿ƒã€èµ°éå ´ã€‚</p>
</blockquote>
<blockquote>
<p>ç¶“éå°ã€ŒäºŒåäºŒå€‹æ–‡ä»¶ã€çš„é€å­—é€å¥çš„ç²¾è®€ï¼Œå’Œåå¾©å°ç…§æª¢æŸ¥ï¼Œå€‹äººåŸä¾†çš„å°è³‡ç”¢éšç´šçš„è‡ªæˆ‘æ„è­˜é–‹å§‹åˆ†è£‚ã€‚éš¨ç€ã€Œç™¼æ˜æœ¬å¿ƒã€çš„é€æ­¥æ·±å…¥ï¼Œå­¸ç¿’è€…æ™®éå°è‡ªå·±çš„ç¼ºé»éŒ¯èª¤ç”¢ç”Ÿäº†ç¾æ„§æ„è­˜ï¼Œå‡ºèº«å‰å‰Šéšç´šå®¶åº­çš„çŸ¥è­˜åˆ†å­é»¨å“¡æ›´è‡ªæ…šå½¢ç©¢ï¼Œèªç‚ºè‡ªå·±ç¢ºå¯¦å¦‚æ¯›æ¾¤æ±æ‰€è¨€ï¼Œé™¤äº†è®€äº†ä¸€äº›å¦‚åŒã€Œç‹—å±ã€èˆ¬ç„¡ç”¨çš„æ›¸ä¹‹å¤–ï¼Œå°å…±ç”¢é»¨å’Œäººæ°‘çš„åƒ¹å€¼ç„¡å¤šï¼Œå°¤å…¶åš´é‡çš„æ˜¯ï¼Œå‰å‰Šéšç´šçš„å®¶åº­èƒŒæ™¯ï¼Œç”šè‡³é‚„æœƒä½¿è‡ªå·±åœ¨é©å‘½çš„é—œéµæ™‚åˆ»å‹•æ–é©å‘½ç«‹å ´ï¼Œåœ¨å®¢è§€ä¸Šå±å®³é©å‘½ï¼é€™æ¨£çš„è‡ªæˆ‘å£“åŠ›æœ‰å¦‚å¤§å±±èˆ¬æ²‰é‡ï¼Œä½¿è¨±å¤šçŸ¥è­˜åˆ†å­é»¨å“¡åŸæœ‰çš„æ²¾æ²¾è‡ªå–œã€é©•å‚²è‡ªæ»¿ç­‰ä¸è‰¯ç¿’æ°£ä¸€æƒè€Œç©ºã€‚</p>
</blockquote>
<blockquote>
<p>æŒ‰ç…§æ¯›æ¾¤æ±çš„çœ‹æ³•ï¼Œä¸€å€‹äººçš„éšç´šç«‹å ´å¿…ç„¶æ±ºå®šäº†ä»–çš„è§€é»å’Œæ…‹åº¦ã€‚ä¾‹å¦‚ï¼šä½ æ˜¯ä¸æ˜¯åœ¨å¿ƒè£é‚„æ¬£è³è³‡ç”¢éšç´šå€‹æ€§è‡ªç”±ã€å€‹æ€§è§£æ”¾çš„éŒ¯èª¤æ€æƒ³ï¼Ÿä½ æ˜¯å¦å¿ƒæ‚¦èª æœåœ°æŠŠä¸€åˆ‡éƒ½ç»çµ¦é»¨ï¼Ÿä½ æ˜¯å¦çœŸæ­£åŒæ„ä½ æ‰€å‡ºèº«çš„å‰å‰Šéšç´šå®¶åº­æ˜¯éª¯é«’å’Œåå‹•çš„ï¼Ÿä½ å°æ²’æœ‰æ–‡åŒ–çš„å·¥è¾²ç¾¤çœ¾æ˜¯æ»¿å¿ƒé„™å¤·ï¼Œé‚„æ˜¯ç”˜å¿ƒåšä»–å€‘çš„å°å­¸ç”Ÿï¼Ÿä½ å°é»¨çš„è€ƒé©—æ˜¯çœŸå¿ƒæ¥å—ï¼Œé‚„æ˜¯æŠ±å†¤å«å±ˆï¼Ÿ</p>
</blockquote>
<p>ç¬¬ä¸‰ç¼–ã€Šã€Œå¾ã€å¤§ç ´ã€èµ°å‘ã€å¤§ç«‹ã€ã€ï¼šæ–‡é©ä¸­çš„ã€Œæ–°ç”Ÿäº‹ç‰©ã€ã€‹æ˜¯é«˜è¯æ•™æˆç”Ÿå‰æ‰¿æ“”äº†é¦™æ¸¯ä¸­æ–‡å¤§å­¸ä¸­åœ‹æ–‡åŒ–ç ”ç©¶æ‰€ã€Šä¸­è¯äººæ°‘å…±å’Œåœ‹å²ã€‹ç¬¬ä¸ƒå·çš„å¯«ä½œä»»å‹™ã€‚ä»–å·²åˆ—å‡ºè©²å·å¯«ä½œç¶±è¦ï¼Œæƒœä¹å¤©ä¸å‡å¹´ï¼Œåªå®Œæˆäº†åé¤˜è¬å­—çš„æ–‡ç¨¿ã€‚</p>
<blockquote>
<p>æ¯›ç‚ºä»€éº¼è¦ç™¼å‹•ã€Œæ–‡é©ã€ï¼Ÿã€Œæ–‡é©ã€æ˜¯å¦‚ä½•ç™¼å‹•èµ·ä¾†çš„ï¼Ÿæˆ‘èªç‚ºæ¯›æ¾¤æ±ç™¼å‹•ã€Œæ–‡é©ã€æœ‰å…©æ–¹é¢çš„å‹•å› ï¼Œç¬¬ä¸€å€‹å› ç´ ï¼šã€Œæ–‡é©ã€é›†ä¸­é«”ç¾äº†æ¯›å°ä»–æ‰€ç†æƒ³çš„ç¤¾æœƒä¸»ç¾©çš„è¿½æ±‚ï¼›ç¬¬äºŒå€‹å› ç´ ï¼šä»–èªç‚ºè‡ªå·±å·²å¤§æ¬Šæ—è½ï¼Œè€Œæ€¥æ–¼è¿½å›ï¼Œé€™å…©æ–¹é¢çš„å› ç´ äº’ç›¸çºç¹ï¼Œç·Šå¯†çš„äº¤èåœ¨ä¸€èµ·ã€‚</p>
</blockquote>
<blockquote>
<p>åœ‹å®¶çš„é ˜å°è€…ç‚ºäº†å¿«é€Ÿå»ºç«‹èµ·ä¸€å€‹å¼·å¤§çš„ç¤¾æœƒä¸»ç¾©çš„åœ‹å®¶ï¼Œä»–å€‘ä¸€ç›´åœ¨è¬€æ±‚ä¸€ç¨®ã€Œæœ€å¥½çš„ã€æ²»ç†ä¸­åœ‹çš„åˆ¶åº¦æˆ–ç®¡ç†å½¢å¼ï¼Œä»–å€‘æœ‰è¨±å¤šå‰µé€ ï¼Œå»ºæ§‹äº†ä¸€ç¨®æ–°æ„è­˜å½¢æ…‹æ•è¿°ï¼Œä¸­åœ‹å‚³çµ±çš„æ€æƒ³åŠåˆ¶åº¦è³‡æºï¼Œé©å‘½å¹´ä»£çš„ç¶“é©—èˆ‡è˜‡è¯å› ç´ èç‚ºä¸€é«”ï¼Œéƒ½è¢«é‹ç”¨å…¶ä¸­ï¼Œè¢«ç”¨ä¾†çµ±åˆç¤¾æœƒå¤§çœ¾çš„æ„è­˜ã€‚ä»–å€‘ä¹Ÿéå¸¸é‡è¦–åšå‹•å“¡ã€çµ„ç¹”æ°‘çœ¾çš„å·¥ä½œï¼Œä½¿ç¤¾æœƒçš„çµ„ç¹”åŒ–ã€è»äº‹åŒ–ç¨‹åº¦ä¸æ–·å¢å¼·</p>
</blockquote>
<p>ç¬¬å››ç·¨ã€Šè®€æ›¸æœ‰æ„Ÿã€‹åŒ…å«å¤šç¯‡æ›¸è©•ï¼Œè«–åŠå°è±¡æ—¢æœ‰é¢¨é›²äººç‰©ï¼Œä¹Ÿæœ‰å¹³é ­ç™¾å§“ï¼Œæ—¢æœ‰è¿½éš¨åœ‹æ°‘é»¨æ”¿æ¬Šé·å°çš„ä½œå®¶ï¼Œä¹Ÿæœ‰å¤§é™¸äººæ‰€çš†çŸ¥çš„å·¦ç¿¼æ–‡äººã€‚æœ¬ç« é€šéå°ä»–å€‘å›æ†¶çš„è©•è­°å±•ç¾å‡ºå¤šè§’åº¦çš„æ™‚ä»£è®Šé·èˆ‡å€‹é«”æ„Ÿå—ã€‚</p>
<blockquote>
<p>æˆ‘èªç‚ºï¼Œå­¸æ­·å²ã€è®€æ­·å²ï¼Œè¨˜ä½ä½™è‹±æ™‚å…ˆç”Ÿçš„ä¸€æ®µè©±æ˜¯å¾ˆé‡è¦çš„ã€‚ä»–èª¬ï¼šå­¸æ­·å²çš„å¥½è™•ä¸æ˜¯å…‰çœ‹æ­·å²æ•™è¨“ï¼Œæ­·å²æ•™è¨“ä¹Ÿæ˜¯å¾ˆå°‘äººæ¥å—ï¼Œå‰é¢çŠ¯å¤šå°‘éŒ¯èª¤ï¼Œåˆ°å¾Œé¢é‚„æ˜¯ç¹¼çºŒã€‚å› ç‚ºäººæ€§å°±æ˜¯å¤§æ¬Šåœ¨æ¡æˆ–åˆ©ç›Šåœ¨æ‰‹ï¼Œä½†é›£ä»¥æ¨æ£„ï¼Œæ¬ŠåŠ›å’Œåˆ©ç›Šçš„é—œå£ï¼Œæœ‰äººéå¾—å»ï¼Œä¹Ÿæœ‰äººéä¸å»ã€‚æ‰€ä»¥æˆ‘èªç‚ºè®€æ­·å²çš„æœ€å¤§å¥½è™•æ˜¯ä½¿æˆ‘å€‘æ‡‚å¾—äººæ€§ã€‚</p>
</blockquote>
<blockquote>
<p>åœ¨å¤§å­¸è®€æ›¸çš„é‚£å¹¾å¹´ï¼Œæˆ‘çŸ¥é“ï¼Œé›–ç„¶æ¯›æ¾¤æ±æ™šå¹´çš„éŒ¯èª¤å·²è¢«æ‰¹è©•ï¼Œä½†æ¯›çš„æ¥µå·¦çš„ä¸€å¥—ä»æ ¹æ·±è’‚å›ºï¼Œå®ƒå·²æ»²é€åˆ°ç•¶ä»£äººæ€æƒ³æ„è­˜çš„æ·±è™•ï¼Œæˆç‚ºæŸç¨®ç¿’æ…£æ€§æ€ç¶­ï¼Œè¡¨ç¾åœ¨ä¸­åœ‹ç¾ä»£å²ã€ä¸­å…±é»¨å²ç ”ç©¶é ˜åŸŸï¼Œå°±æ˜¯å®˜å­¸ç”šè¡Œï¼Œç‚ºè–äººé¿è«±ï¼Œæˆ–ç ”ç©¶ç‚ºæŸç¨®æ¬Šå¨è‘—è¿°ä½œæ³¨è…³ï¼Œå¹¾ä¹æˆç‚ºä¸€ç¨®æµè¡Œçš„é¢¨å°šã€‚</p>
</blockquote>
<h3 id="æ¨ç»§ç»³ã€Šå¢“ç¢‘ï¼šä¸€ä¹äº”å…«â€”ä¸€ä¹å…­äºŒå¹´ä¸­åœ‹å¤§é¥‘è’ç´€å¯¦ã€‹"><a href="#æ¨ç»§ç»³ã€Šå¢“ç¢‘ï¼šä¸€ä¹äº”å…«â€”ä¸€ä¹å…­äºŒå¹´ä¸­åœ‹å¤§é¥‘è’ç´€å¯¦ã€‹" class="headerlink" title="æ¨ç»§ç»³ã€Šå¢“ç¢‘ï¼šä¸€ä¹äº”å…«â€”ä¸€ä¹å…­äºŒå¹´ä¸­åœ‹å¤§é¥‘è’ç´€å¯¦ã€‹"></a>æ¨ç»§ç»³ã€Šå¢“ç¢‘ï¼šä¸€ä¹äº”å…«â€”ä¸€ä¹å…­äºŒå¹´ä¸­åœ‹å¤§é¥‘è’ç´€å¯¦ã€‹</h3>

<blockquote class="twitter-tweet"><p lang="zh" dir="ltr">è¦ªèº«ç¶“æ­·äº†ä¸Šæµ·å°åŸä¹‹å¾Œå†è®€æ¥Šç¹¼ç¹©çš„è‘—ä½œã€Šå¢“ç¢‘ï¼šä¸­åœ‹å…­åå¹´ä»£å¤§é¥‘è’ç´€å¯¦ã€‹ï¼Œåˆä¸€æ¬¡å°é€™å€‹ç¤¾æœƒé™·å…¥äº†æ·±æ·±çš„çµ•æœ›ä¹‹ä¸­ğŸ˜­ã€‚<br><br>ä»»ä½•ç½é›£éƒ½å¯ä»¥è¢«ç”¨ä¾†å¡‘é€ æˆæ­£ç¢ºçš„é›†é«”è¨˜æ†¶ï¼Œç„¶å¾Œæˆç‚ºæ”¿æ¬Šåˆæ³•æ€§çš„çµ„æˆéƒ¨åˆ†ã€‚æ­£æ˜¯é€™ç¨®å°æ°‘æ—è¨˜æ†¶çš„å¤§æ¸…æ´—å’Œå°ç½ªæƒ¡çš„å¼·åˆ¶éºå¿˜ï¼Œé‚ä½¿å¾—ç›¸åŒçš„æ­·å²æ‚²åŠ‡ä¸€æ¬¡æ¬¡ä¸æ–·åœ°é‡æ¼”ã€‚ <a href="https://t.co/DfcE6V28Vw">pic.twitter.com/DfcE6V28Vw</a></p>&mdash; Reimu (@muzi_ii) <a href="https://twitter.com/muzi_ii/status/1541775783059787777?ref_src=twsrc%5Etfw">June 28, 2022</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>



<p>æˆ‘æ˜¯å»å¹´ä¸Šæµ·è§£å°åæ‰å¼€å§‹è¯»è¿™æœ¬ä¹¦çš„ã€‚ç»å†äº†å°åŸï¼Œæˆ‘çš„å¿ƒæ€å·²ç»éº»æœ¨äº†ï¼Œæ— è®ºå‘ç”Ÿä»€ä¹ˆè’å”çš„äº‹æƒ…ï¼Œæˆ‘å·²ç»ä¹ ä»¥ä¸ºå¸¸äº†ã€‚è¯»è¿™æœ¬ä¹¦çš„æ—¶å€™ï¼Œæœ‰å¥½å‡ æ¬¡æˆ‘éƒ½æƒ³å¤§å“­ä¸€åœºï¼Œçœ¼æ³ªå’Œé¼»æ¶•éƒ½æ­¢ä¸ä½ã€‚å› ä¸ºæˆ‘ä»¬ç°åœ¨æ‰€ç»å†çš„æ‚²å‰§åœ¨å…­åå¤šå¹´å‰å·²ç»å‘ç”Ÿè¿‡ä¸€æ¬¡ï¼Œè€Œå®˜åƒšä½“åˆ¶åº”å¯¹ç¾éš¾çš„æ–¹å¼å’Œå…­åå¹´å‰ç›¸æ¯”æ²¡æœ‰å¤šå°‘æ”¹å˜ã€‚</p>
<p>ä»æ­¦æ±‰è‚ºç‚åˆšçˆ†å‘æ—¶çš„è°æŠ¥ç’æŠ¥ã€è®­è¯«ææ–‡äº®åŒ»ç”Ÿå†åˆ°åæ¥è¥¿å®‰çš„â€æ©è€³åˆ°é›¶â€ç­‰æ‹›å¼åœ¨å…­åå¹´å‰å·²ç»ä½¿ç”¨è¿‡äº†ã€‚å…­åå¹´å‰æ€ä¹ˆåº”å¯¹å¤§é¥¥è’çš„ï¼Œæˆ‘ä»¬ç°åœ¨å°±æ˜¯æ€ä¹ˆåº”å¯¹é˜²ç–«çš„ï¼Œæ²¡æœ‰ä»»ä½•æ”¹å˜ã€‚</p>
<blockquote>
<p>å„çº§æ”¿åºœåƒæ–¹ç™¾è®¡åœ°å¯¹å¤–å°é”é¥¥é¥¿çš„æ¶ˆæ¯ã€‚å…¬å®‰å±€æ§åˆ¶äº†æ‰€æœ‰çš„é‚®å±€ï¼Œå‘å¤–é¢å‘å‡ºçš„ä¿¡ä»¶ä¸€å¾‹æ‰£ç•™ã€‚ä¸­å…±ä¿¡é˜³åœ°å§”è®©é‚®å±€æ‰£äº† 12000 å¤šå°å‘å¤–æ±‚åŠ©çš„ä¿¡ã€‚ä¸ºäº†ä¸è®©å¤–å‡ºé€ƒè’çš„é¥¥æ°‘èµ°æ¼æ¶ˆæ¯ï¼Œåœ¨æ‘å£å°é”ï¼Œä¸å‡†å¤–é€ƒã€‚å¯¹å·²ç»å¤–é€ƒçš„é¥¥æ°‘åˆ™ä»¥â€œç›²æµâ€çš„ç½ªåæ¸¸è¡—ã€æ‹·æ‰“æˆ–å…¶å®ƒæƒ©ç½šã€‚</p>
</blockquote>
<blockquote>
<p>1960 å¹´ 3 æœˆ 12 æ—¥å«ç”Ÿæ‰€çš„å¹²éƒ¨ç‹å¯äº‘å†™ä¿¡ç»™å…šä¸­å¤®ï¼Œåæ˜ é¥¿æ­»äººçš„ä¸¥é‡é—®é¢˜ï¼Œè¦æ±‚ä¸­å¤®ä»¿ç…§â€œåŒ…æ–‡ä¸é™ˆå·æ”¾ç²®â€ï¼Œå…¬å®‰å±€ä¾¦ç ´åï¼Œå¯¹ç‹å¯äº‘è¿›è¡Œæ®‹é…·çš„æ‰¹åˆ¤æ–—äº‰ã€‚</p>
</blockquote>
<blockquote>
<p>ä¼é™‚å…¬ç¤¾ç¬¬ä¸€æ¬¡å‘ä¸ŠæŠ¥çš„æ­»äº¡äººæ•° 523 äººï¼Œç¬¬äºŒæ¬¡æŠ¥çš„æ˜¯ 3889 äººï¼ˆååˆæ”¹ä¸º 2907 äººï¼‰ï¼Œåæ¥çœå§”å·¥ä½œç»„è°ƒæŸ¥ç»“æœæ˜¯ 6668 äººã€‚</p>
</blockquote>
<blockquote>
<p>ç”¨ç©ºæ´çš„â€œå…¨å›½å½¢åŠ¿ä¸€æ´¾å¤§å¥½â€æ·¡åŒ–äººä»¬å®å®åœ¨åœ¨çš„é¥¥é¥¿ï¼Œå‹åˆ¶äººä»¬å¯¹é¥¥é¥¿çš„ä¸æ»¡ã€‚</p>
</blockquote>
<blockquote>
<p>å°±åœ¨ä¿¡é˜³å¤§é‡é¥¿æ­»äººã€äººç›¸é£Ÿæ™®éå‘ç”Ÿçš„æ—¶å€™ï¼Œã€Šæ²³å—æ—¥æŠ¥ã€‹è¿˜å®£ä¼ å½¢åŠ¿ä¸€æ´¾å¤§å¥½ï¼Œè¿ç»­å‘è¡¨ä¸ƒç¯‡â€œå‘å…±äº§ä¸»ä¹‰è¿›å†›â€çš„æ–‡ç« ã€‚</p>
</blockquote>
<blockquote>
<p>åœ¨é¥¿æ®éåœ°çš„æƒ…å†µä¸‹ï¼Œ1960 å¹´ã€Šæ²³å—æ—¥æŠ¥ã€‹çš„å…ƒæ—¦ç¤¾è®ºå´ä»¥â€œå¼€é—¨çº¢ æ˜¥æ„æµ“â€ä¸ºé¢˜ï¼Œç»§ç»­ç²‰é¥°å¤ªå¹³ï¼Œä»åšæŒå…¨é¢è·ƒè¿›ã€‚</p>
</blockquote>
<blockquote>
<p>å†œæ°‘æ˜æ˜æ˜¯é¥¿æ­»äº†ï¼Œè¿˜ä¸èƒ½è¯´æ˜¯å› é¥¥é¥¿è€Œæ­»çš„ã€‚å¿å§”é¢†å¯¼äººèµµç‰ä¹¦å’Œè‘£å®‰æ˜¥åˆ°æ­¦åº—å…¬ç¤¾è€ƒåŸå¤§é˜Ÿæ£€æŸ¥æµ®è‚¿ç—…æƒ…å†µï¼Œé—®åŒ»å¸ˆç‹å–„è‰¯ï¼šâ€œä¸ºä»€ä¹ˆæµ®è‚¿ç—…æ€»æ˜¯æ²»ä¸å¥½ï¼Œå°‘ä»€ä¹ˆè¯ï¼Ÿâ€ç‹åŒ»ç”Ÿå›ç­”è¯´ï¼šâ€œå°‘ä¸€å‘³ç²®é£Ÿï¼â€èµµã€è‘£äºŒäººç«‹å³å†³å®šï¼Œå°†ç‹åŒ»ç”Ÿäº¤å¤§ä¼šæ‰¹æ–—åé€®æ•ã€‚</p>
</blockquote>
<blockquote>
<p>åœ¨å¤§æ‰¹å†œæ°‘é¥¿æ­»çš„æ—¶åˆ»ï¼Œ1960 å¹´ 2 æœˆ 16 æ—¥åˆ° 18 æ—¥ï¼Œè´µå·çœå§”å¬å¼€äº†ä¸‰å¤©åœ°ã€å·ã€å¸‚å§”ç¬¬ä¸€ä¹¦è®°ä¼šè®®ï¼Œä¸»è¦è®¨è®ºå†œæ‘å…¬å…±é£Ÿå ‚é—®é¢˜ã€‚è¿™ä¸ªä¼šä¸æ˜¯è§£å†³é£Ÿå ‚ç¼ºç²®çš„é—®é¢˜ï¼Œè€Œæ˜¯é—­çœ¼ä¸çœ‹ç°å®ï¼Œå‘ä¸­å…±ä¸­å¤®å†™äº†ä¸€ä¸ªå‡æŠ¥å‘Šâ€•â€•ã€Šå…³äºå†œæ‘å…¬å…±é£Ÿå ‚çš„æŠ¥å‘Šã€‹</p>
</blockquote>
<blockquote>
<p>å¼ºå¤§çš„æ”¿æ²»æ€æƒ³å·¥ä½œä½¿äººä»¬é©¯æœï¼Œæ–°é—»å°é”ä½¿äººæ„šæ˜§ã€‚é¥¿æ­»ä¸Šç™¾ä¸‡äººçš„â€œä¿¡é˜³äº‹ä»¶â€ã€é¥¿æ­»ä¸‰åˆ†ä¹‹ä¸€äººå£çš„â€œé€šæ¸­é—®é¢˜â€ï¼Œä¸ä»…å½“æ—¶é‚»è¿‘åœ°åŒºä¸çŸ¥æœ‰å…¶äº‹ï¼Œç”šåˆ°å‡ åå¹´åè¿˜ä¸¥åŠ ä¿å¯†ã€‚</p>
</blockquote>
<blockquote>
<p>æ­»äººæ˜æ˜æ˜¯é¥¿æ­»çš„ï¼Œè€Œè¯´æˆæ˜¯å¹´è€æ­»çš„ï¼Œç–¾ç—…æ­»çš„ï¼ŒæŠŠéæ­£å¸¸æ­»äº¡è¯´æˆæ˜¯æ­£å¸¸æ­»äº¡ã€‚æœ‰äº›åœ°æ–¹è¿˜ä¸å…è®¸æ­»è€…å®¶å±å“­ä¸§å¸¦å­ï¼Œä¸å‡†åŸ‹åŸï¼Œå¯¹åæ˜ æ­»äººæƒ…å†µçš„æ¥ä¿¡åŠ ä»¥æ‰£å‹ï¼Œç”šè‡³å¯¹æ¥ä¿¡è€…è¿›è¡Œæ‰“å‡»ï¼›æœ‰çš„å¹²éƒ¨å› ä¸ºå¦‚å®å‘ç»„ç»‡åæ˜ äº†æ­»äººçš„æƒ…å†µè¿˜æŒ¨äº†æ–—äº‰ã€‚â€â€œå› ä¸ºæ€•çŠ¯é”™è¯¯ï¼Œæ€•å—å¤„åˆ†ï¼Œæ€•æ‘˜æ‰ä¹Œçº±å¸½ï¼Œè€Œä¸æ•¢æš´éœ²çœŸå®æƒ…å†µï¼›è¶Šä¸æ•¢æš´éœ²ï¼Œé—®é¢˜å°±å‘å±•è¶Šå¤§ï¼›é—®é¢˜è¶Šå¤§ï¼Œå°±è¶Šä¸æ•¢æš´éœ²ã€‚â€</p>
</blockquote>
<p><a href="https://zhuanlan.zhihu.com/p/508337238">ä¸Šæµ·å…»è€é™¢å°†æ´»äººè£…å°¸è¢‹è¦æ±‚æ®¡ä»ªé¦†ç«åŒ–</a> è¿™ç§è’å”äº‹å†å²ä¸Šå·²ç»å‘ç”Ÿè¿‡ä¸æ­¢ä¸€æ¬¡äº†</p>
<blockquote>
<p>çœå§”å‰¯ç§˜ä¹¦é•¿å‘¨é¢åœ¨é›…å®‰è€ƒå¯Ÿæ—¶çœ‹åˆ°ä¸å°‘è‚¿å¾—å¾ˆä¸¥é‡çš„ç—…äººï¼Œé—®ä»–ä»¬ä¸ºä»€ä¹ˆä¸å»åŒ»é™¢æ²»ç–—ï¼Œä»–ä»¬è¯´ï¼šåŒ»é™¢æ¡ä»¶å¾ˆåï¼Œåœ¨é‚£é‡Œæ­»å¾—æ›´å¿«äº›ã€‚é‡‘å ‚å¿äº”æ˜Ÿç®¡ç†åŒºçš„è‚¿ç—…åŒ»é™¢æ˜¯ç‰›æ£šæ”¹çš„ï¼Œæ¸…æ´å«ç”Ÿæ²¡æœ‰æå½»åº•ï¼Œè‡­æ°”éš¾é—»ã€‚ç—…æˆ¿æ²¡æœ‰é—¨ï¼Œå››å‘¨æ²¡æœ‰å¢™ï¼Œ90% çš„ç—…äººç¡åœ°é“ºï¼Œé“ºè‰å¾ˆè–„ã€‚æœ‰çš„ç—…äººæ²¡è¢«å­ï¼Œç™½å¤©è¿˜å–Šå†·ã€‚å¹¿æ±‰å¿é‡‘é±¼å…¬ç¤¾åŒ»é™¢é™¢é•¿é»„æŸï¼ŒæŠŠæ´»äººè£…è¿›æ£ºæåŸ‹æ‰ã€‚</p>
</blockquote>
<blockquote>
<p>æ¸©æ±Ÿæ¸…å¹³å…¬ç¤¾ç¤¾å‘˜ææ–¹å¹³é¥¿å¾—å¥„å¥„ä¸€æ¯ï¼Œå¿å§”æ£€æŸ¥å›¢ä¸‹æ¥æ£€æŸ¥ç”Ÿæ´»ï¼Œç®¡åŒºå¹²éƒ¨æ€•ä»–èµ°æ¼é£å£°ï¼Œä¾¿æŠŠä»–å…³è¿›ä¿ç®¡å®¤å…³äº†ä¸‰å¤©ï¼Œç”Ÿäº§é˜Ÿé•¿æŠ¥å‘Šè¯´æå·²æ­»ï¼Œç®¡åŒºå¹²éƒ¨ä¸‹ä»¤â€œæ­»äº†æŠŠä»–åŸ‹äº†ç®—çƒâ€ã€‚ç¤¾å‘˜å¼ ç»æ˜¥è–…æ²¹èœé¥¿å€’åœ¨ç”°å¤´ï¼Œé˜Ÿé•¿ä»¥ä¸ºä»–æ­»äº†ï¼Œèµ¶å¿«æŒ–äº†ä¸ªå‘æƒ³æŠŠä»–åŸ‹äº†ï¼ŒåŸ‹åˆ°ä¸€åŠï¼Œå¼ é†’è¿‡æ¥ï¼Œå¤§å«â€œæ´»åŸ‹äººäº†â€¦â€¦â€ï¼Œå“å¾—é˜Ÿé•¿æ‰”æ‰é”„å¤´å°±è·‘ã€‚</p>
</blockquote>
<blockquote>
<p>ä¸€äº›åœ°åŒºè§„å®šæ­»äººåâ€œå››ä¸å‡†â€ï¼šä¸€ä¸å‡†æµ…åŸ‹ï¼Œè¦æ·±åŸ‹ä¸‰å°ºï¼Œä¸Šé¢ç§ä¸Šåº„ç¨¼ï¼›äºŒä¸å‡†å“­ï¼›ä¸‰ä¸å‡†åŸ‹åœ¨è·¯æ—ï¼›å››ä¸å‡†æˆ´å­ã€‚æ›´æ¶åŠ£çš„æ˜¯é»„æ¹¾å…¬ç¤¾å¼ æ¹¾å°é˜Ÿè§„å®šæ­»äº†äººä¸ä»…ä¸å‡†æˆ´ç™½å¸ƒï¼Œè¿˜å«äººæŠ«çº¢ï¼</p>
</blockquote>
<blockquote>
<p>äºŒåå¤šå²çš„æ°‘å·¥ä»»æ–‡åšè¢«æ‰“æ­»åï¼Œæ°´åº“æ´¾äººç›´æ¥å°†å°¸ä½“æ‹‰åˆ°è¯¥å®¶åŸåœ°åŸ‹è‘¬ï¼Œçˆ¶æ¯æƒ³çœ‹ä¸Šä¸€çœ¼éƒ½ä¸å…è®¸ã€‚</p>
</blockquote>
<p>åŒæ ·ä¸ºäº†åº”ä»˜ä¸Šçº§çš„è§†å¯Ÿï¼Œå®˜åƒšç»„ç»‡å¦‚ä½•ä¸Šæ¼”å…±è°‹é—¹å‰§çš„ä¹Ÿæ˜¯å¦‚å‡ºä¸€è¾™ã€‚</p>
<blockquote>
<p>ä¸ºäº†åº”ä»˜ä¸Šçº§æ£€æŸ¥ï¼ŒæŠŠå¤§éƒ¨åˆ†äººåŠ›ã€ç•œåŠ›ã€è‚¥æ–™ï¼Œéƒ½è°ƒåˆ°å…¬è·¯é“è·¯ä¸¤æ—ï¼Œè°ƒåˆ°ç¤¾ä¸ç¤¾ã€å¿ä¸å¿çš„äº¤ç•Œå¤„ï¼Œåšå‡ºæ ·å­ï¼Œè€Œé‡Œé¢å´æ˜¯å¤§ç‰‡åœŸåœ°æŠ›è’ã€‚</p>
</blockquote>
<blockquote>
<p>åœ¨å¤–å®¾æ‰€åˆ°ä¹‹å¤„ï¼Œå®Œå…¨å¸ƒç½®äº†ä¸€æ´¾ä¸°é¥¶ã€å¯Œè£•çš„æ™¯è±¡ï¼šæ¹–é‡Œæœ‰ç©¿ç€æ¼‚äº®çš„å¥³å­æ‚ é—²åœ°åˆ’èˆ¹å”±æ­Œï¼Œåœ¨è·¯æ—çš„å°åº—é‡Œé£Ÿå“ä¸°å¯Œã€‚çœå§”æ‰€åˆ’å®šäº†å¤–å®¾æ´»åŠ¨çš„åœ°æ–¹ï¼Œä¸è®©è€ç™¾å§“è¿›å…¥ï¼Œç‰¹æ„å¸ƒç½®å‡è±¡æ¬ºéª—å¤–å®¾ã€‚</p>
</blockquote>
<blockquote>
<p>1959 å¹´ 12 æœˆ 9 æ—¥ï¼Œæˆ‘ä¸‹æ”¾åˆ°å’Œæ”¿å¿è‹é›†å…¬ç¤¾ã€‚è¿™é‡Œç¾¤ä¼—æ²¡æœ‰ç²®åƒï¼Œé¥¿å¾—å¹²ç˜¦ã€æµ®è‚¿ï¼Œæœ‰çš„å†»é¥¿è€Œæ­»ã€‚æ¦†æ ‘çš®éƒ½è¢«å‰¥å…‰åƒæ‰äº†ï¼æœ‰ä¸€å¤©å¿ä¸Šæ¥ç”µè¯ï¼Œè¯´å¼ é¹å›¾å‰¯çœé•¿è¦åˆ°åº·ä¹è§†å¯Ÿï¼Œå‘½ä»¤æˆ‘ä»¬è¿å¤œç»„ç»‡äººæŠŠå…¬è·¯ä¸¤è¾¹è¢«å‰¥å…‰çš®çš„æ¦†æ ‘ï¼Œç»Ÿç»Ÿç æ‰ï¼Œè¿åˆ°éšè”½çš„åœ°æ–¹å»ã€‚äººéƒ½å¿«é¥¿æ­»äº†ï¼Œå“ªæœ‰åŠ›é‡å»ç æ ‘ã€æŠ¬æ ‘ï¼Ÿæˆ‘ä»¬åŠä¸åˆ°ï¼Œç•™ä¸‹æ¦†æ ‘æ­£å¥½è®©å¼ é¹å›¾å‰¯çœé•¿çœ‹çœ‹ã€‚</p>
</blockquote>
<p>è¿˜æœ‰è¢«é›†ä¸­éš”ç¦»å…³è¿›æ–¹èˆ±çš„æ–¹å¼ä¹Ÿæ˜¯ç†Ÿæ‚‰çš„å‘³é“</p>
<blockquote>
<p>æœ‰çš„åœ°æ–¹æŠŠç¤¾å‘˜è‡ªç•™åœ°é‡Œçš„å—ç“œè‹—æ‹”å‡ºæ¥æ ½åˆ°é›†ä¼‘çš„åœ°é‡Œï¼Œç»“æœå…¨éƒ¨æ­»å…‰ã€‚å¼ºå æˆ¿å±‹ï¼Œé€¼äººæ¬å®¶ï¼Œä¸æ¬å°±å¼ºè¡ŒæŠŠä¸œè¥¿æ‰”åˆ°å¤–é¢ã€‚å¼ºè¡Œæ”¶èµ°å„å®¶åšé¥­çš„é”…ï¼Œç”šè‡³å½“ç€ç¤¾å‘˜çš„é¢æŠŠé”…ç ¸çƒ‚äº†ï¼Œè€äººè¦æ±‚ç•™ä¸‹ä¸€å£é”…çƒ§æ°´ä¹Ÿä¸è¡Œã€‚å¤§é€šæ¡¥å¤§é˜Ÿä¸ºäº†åŠå†œåœºï¼Œä¹˜ç¤¾å‘˜ä¸‹åœ°ç”Ÿäº§ä¹‹æœºï¼Œå°†å¤§é€šæ¡¥ä¸œå¤´ä¸€ä¸ªå°åº„å­ç¤¾å‘˜å®¶çš„ä¸œè¥¿å…¨éƒ¨æŠ›äº†å‡ºæ¥ï¼Œæˆ¿å±‹ç”±å¤§é˜Ÿå é¢†ã€‚ç¤¾å‘˜æ— å®¶å¯å½’ï¼Œç—›å“­æµæ¶•ã€‚</p>
</blockquote>
<blockquote>
<p>ä¹”å±±å¤§é˜Ÿ 31 ä¸ªæ‘åº„ï¼Œ1960 å¹´ 6 æœˆï¼Œæ€»æ”¯ä¹¦è®°æ¢…æŸå¼ºè¿«ç¾¤ä¼—åœ¨åŠå¤©ä¹‹å†…å¹¶æˆ 6 ä¸ªåº„å­ï¼Œæ‹†æ‰æˆ¿å­ 300 å¤šé—´ï¼Œå…šå‘˜ä¸å¹²å¼€é™¤å…šç±ï¼Œå›¢å‘˜ä¸å¹²å¼€é™¤å›¢ç±ï¼Œç¤¾å‘˜ä¸å¹²ä¸ç»™é¥­åƒã€‚è¯´æ˜¯å»ºæ–°æ‘ï¼Œå®é™…ä¸Šæ—§æˆ¿å­æ‹†äº†æ–°æˆ¿å­æ²¡æœ‰å»ºï¼Œç¤¾å‘˜æ— å®¶å¯å½’ï¼Œ100 å¤šäººè¢«è¿«é›†ä¸­å±…ä½ï¼Œæœ‰ 14 æˆ· 40 äººä½åœ¨ 3 é—´é€šè¿çš„æˆ¿å­é‡Œï¼Œæ™šä¸Šå¤§é—¨ä¸Šé”ï¼Œæ°‘å…µæŒæ£æŠŠé—¨ï¼Œå°¿å°¿æ‹‰å±éƒ½åœ¨ä¸€èµ·ã€‚</p>
</blockquote>
<blockquote>
<p>é£Ÿå ‚ç¼ºæŸ´ä¹Ÿæ˜¯ä¸€ä¸ªæ™®éé—®é¢˜ã€‚è§£å†³ç¼ºæŸ´çš„åŠæ³•ä¸€æ˜¯ç æ ‘ï¼ŒäºŒæ˜¯æ‹†æˆ¿ã€‚å…¨å¿æ ‘æœ¨è¢«ç è¾¾ 80% ä»¥ä¸Šï¼Œå…¨å¿æˆ¿å±‹å€’å¡Œå’Œè¢«æ‰’ 10 ä¸‡é—´ä»¥ä¸Šã€‚æœ‰çš„åœ°æ–¹æŒ–åŸåŠˆæ£ºå½“æŸ´çƒ§ã€‚åœ¨ç”°é‡åŠˆæ£ºåå‰©ä¸‹ç‰‡ç‰‡ç™½éª¨ï¼Œä»¤äººèƒ†å¯’ã€‚</p>
</blockquote>
<p>å¯¹å¤§é¥¥è’çš„åæ€ä¹Ÿå€¼å¾—æˆ‘ä»¬è®¤çœŸæ€è€ƒè¿™åœºé˜²ç–«é—¹å‰§</p>
<blockquote>
<p>è¿™æ˜¯ä¸€åœºäººç±»å†å²ä¸Šç©ºå‰çš„æ‚²å‰§ã€‚åœ¨æ°”å€™æ­£å¸¸çš„å¹´æ™¯ï¼Œæ²¡æœ‰æˆ˜äº‰ï¼Œæ²¡æœ‰ç˜Ÿç–«ï¼Œå´æœ‰å‡ åƒä¸‡äººæ­»äºé¥¥é¥¿ï¼Œå´æœ‰å¤§èŒƒå›´çš„â€œäººç›¸é£Ÿâ€ï¼Œè¿™æ˜¯äººç±»å†å²ä¸Šç»æ— ä»…æœ‰çš„å¼‚æ•°ã€‚</p>
</blockquote>
<blockquote>
<p>æ€»è·¯çº¿ï¼Œå¤§è·ƒè¿›ï¼Œäººæ°‘å…¬ç¤¾ï¼Œå½“æ—¶åˆç§°ä¸ºâ€œä¸‰é¢çº¢æ——â€ã€‚è¿™æ˜¯ 1958 å¹´ä»¤ä¸­å›½äººç‹‚çƒ­çš„æ”¿æ²»æ——å¸œï¼Œæ˜¯é€ æˆä¸‰å¹´å¤§é¥¥è’çš„ç›´æ¥åŸå› ï¼Œä¹Ÿå°±æ˜¯å¤§é¥¥è’çš„ç¥¸æ ¹ã€‚</p>
</blockquote>
<blockquote>
<p>çš„ç¡®ï¼Œé€ æˆä¸­å›½å‡ åƒä¸‡äººé¥¿æ­»çš„æ ¹æœ¬åŸå› æ˜¯ææƒåˆ¶åº¦ã€‚å½“ç„¶ï¼Œæˆ‘ä¸æ˜¯è¯´ææƒåˆ¶åº¦å¿…ç„¶é€ æˆå¦‚æ­¤å¤§è§„æ¨¡çš„æ­»äº¡ï¼Œè€Œæ˜¯è¯´ææƒåˆ¶åº¦æœ€å®¹æ˜“é€ æˆé‡å¤§æ”¿ç­–å¤±è¯¯ï¼Œä¸€æ—¦å‡ºç°é‡å¤§æ”¿ç­–å¤±è¯¯åˆå¾ˆéš¾çº æ­£ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œåœ¨è¿™ç§åˆ¶åº¦ä¸‹ï¼Œæ”¿åºœå„æ–­äº†ä¸€åˆ‡ç”Ÿäº§å’Œç”Ÿæ´»èµ„æºï¼Œå‡ºç°ç¾éš¾ä»¥åï¼Œæ™®é€šç™¾å§“æ²¡æœ‰è‡ªæ•‘èƒ½åŠ›ï¼Œåªèƒ½åä»¥å¾…æ¯™ã€‚</p>
</blockquote>
<blockquote>
<p>ä¸ºä»€ä¹ˆæ²¡æœ‰çº é”™æœºåˆ¶ï¼Ÿè¿™æ˜¯ä¸“åˆ¶åˆ¶åº¦å›ºæœ‰çš„ç¼ºé™·ã€‚1958 å¹´æŒ‡å¯¼æ€æƒ³çš„é”™è¯¯ï¼Œä¸ä»…ä»…æ˜¯é¢†è¢–å’Œé¢†å¯¼é›†å›¢çš„é”™è¯¯ï¼Œè€Œæ˜¯åˆ¶åº¦æ€§é”™è¯¯ã€‚</p>
</blockquote>
<blockquote>
<p>æƒåˆ¶åº¦å°±æ˜¯è¿™æ ·ä½¿æ°‘æ—æ€§å •è½ã€‚å¤§è·ƒè¿›å’Œæ–‡åŒ–å¤§é©å‘½ä¸­ï¼Œäººä»¬è¡¨ç°çš„é‚£æ ·ç–¯ç‹‚ï¼Œé‚£æ ·çš„æ®‹å¿ï¼Œæ­£æ˜¯æ°‘æ—æ€§å •è½çš„ç»“æœï¼Œä¹Ÿæ­£æ˜¯ææƒåˆ¶åº¦çš„â€œæ”¿ç»©â€ã€‚</p>
</blockquote>
<blockquote>
<p>ä¸­å›½æœ‰å¥å¤è¯ï¼šâ€œä¸Šæœ‰å¥½è€…ï¼Œä¸‹å¿…ç”šç„‰â€ã€‚è¿™æ˜¯åœ¨ä¸“åˆ¶åˆ¶åº¦ä¸‹ï¼Œä¸‹çº§å®˜å‘˜è¿åˆä¸Šçº§çš„æƒ…å½¢ã€‚1958 å¹´çš„æƒ…å†µä¹Ÿæ˜¯å¦‚æ­¤ã€‚å¤„åœ¨ä¸€å±‚ä¸€å±‚çš„æƒåŠ›é˜¶æ¢¯ä¸Šçš„å®˜å‘˜ä»¬ï¼Œæ€»æ˜¯æŠŠæœ€é«˜å±‚çš„æ„å¿—ä¸€æ­¥ä¸€æ­¥åœ°æ¨å‘æç«¯ã€‚</p>
</blockquote>
<blockquote>
<p>ä¸­å…±ä¸­å¤®å’Œæ¯›æ³½ä¸œæ²¡æœ‰ä»åˆ¶åº¦ã€æ”¿ç­–ã€æŒ‡å¯¼æ€æƒ³æ–¹é¢å¯»æ‰¾å¤§é¥¥è’çš„åŸå› ï¼Œè€ŒæŠŠå¤§é‡æ­»äººçš„åŸå› å½’ç½ªäºæ—©å·²è¢«æ‰“å…¥åå…«å±‚åœ°ç‹±çš„åœ°ã€å¯Œã€åã€åã€å³ã€‚è¯´æ˜¯å› â€œæ°‘ä¸»é©å‘½ä¸å½»åº•â€ï¼Œè€Œä½¿é˜¶çº§æ•Œäººç¯¡å¤ºåŸºå±‚é¢†å¯¼æƒã€‚è¿™æ˜¾ç„¶æ˜¯è¿èƒŒäº‹å®ã€‚</p>
</blockquote>
<h2 id="ä¹¦å•"><a href="#ä¹¦å•" class="headerlink" title="ä¹¦å•"></a>ä¹¦å•</h2><p>ä»¥ä¸‹æ˜¯æˆ‘ä¸ªäººæ¨èçš„å†å²ä¹¦ç±ã€‚åœ¨ç»å†äº†ä¸‰å¹´çš„é˜²ç–«é—¹å‰§ä¹‹åï¼Œç»“åˆè‡ªå·±çš„åˆ‡èº«ç»å†å†æ¬¡é˜…è¯»è¿™äº›å†å²ä¹¦ç±ï¼Œå°±ä¼šæœ‰ç§äº²ä¸´å†å²çš„é”™è§‰ï¼Œä»¿ä½›æ´»åœ¨å†å²ä¸ç°å®çš„å¤¹ç¼ä¹‹ä¸­ã€‚è¿™äº›å†å²äº‹ä»¶å¹¶ä¸é¥è¿œï¼Œå°±åƒæ˜¨å¤©ä¸€æ ·æ¸…æ™°åœ°é“­åˆ»åœ¨æˆ‘ä»¬çš„è„‘æµ·ä¸­ã€‚</p>
<table>
<thead>
<tr>
<th>ä½œè€…</th>
<th>ä¹¦å</th>
</tr>
</thead>
<tbody><tr>
<td>å¾è´²</td>
<td>äººä»¥ä»€ä¹ˆç†ç”±æ¥è®°å¿†</td>
</tr>
<tr>
<td>å‘¨é›ªå…‰</td>
<td>ä¸­å›½å›½å®¶æ²»ç†çš„åˆ¶åº¦é€»è¾‘ï¼šä¸€ä¸ªç»„ç»‡å­¦ç ”ç©¶</td>
</tr>
<tr>
<td>è°¢å²³</td>
<td>ç»´ç¨³çš„æ”¿æ²»é€»è¾‘</td>
</tr>
<tr>
<td>ç¬‘èœ€</td>
<td>å†å²çš„å…ˆå£°ï¼šåŠä¸ªä¸–çºªå‰çš„æ‰¿è¯º</td>
</tr>
<tr>
<td>èµµç´«é˜³</td>
<td>æ”¹é©å†ç¨‹</td>
</tr>
<tr>
<td>å¾ä¸­çº¦</td>
<td>ä¸­å›½è¿‘ä»£å²</td>
</tr>
<tr>
<td>é«˜å</td>
<td>èº«ä»½å’Œå·®å¼‚ï¼š1949ï¼1965 å¹´ä¸­å›½ç¤¾ä¼šçš„æ”¿æ²»åˆ†å±‚</td>
</tr>
<tr>
<td>é«˜å</td>
<td>åœ¨å†å²çš„é£é™µæ¸¡å£</td>
</tr>
<tr>
<td>é«˜å</td>
<td>å†å²ç¬”è®°</td>
</tr>
<tr>
<td>æ¨ç»§ç»³</td>
<td>å¤©åœ°ç¿»è¦†ï¼šä¸­å›½æ–‡åŒ–å¤§é©å‘½å²</td>
</tr>
<tr>
<td>æ¨ç»§ç»³</td>
<td>ä¸­å›½æ”¹é©å¹´ä»£çš„æ”¿æ²»æ–—äº‰</td>
</tr>
<tr>
<td>æ¨ç»§ç»³</td>
<td>ä¸­å›½å½“ä»£ç¤¾ä¼šé˜¶å±‚åˆ†æ</td>
</tr>
<tr>
<td>æ¨ç»§ç»³</td>
<td>å¢“ç¢‘: ä¸­å›½å…­åå¹´ä»£å¤§é¥¥è’çºªå®</td>
</tr>
<tr>
<td>æ©™å® å±±å· ç­‰</td>
<td>æ–‡é©ç¬‘æ–™é›†</td>
</tr>
<tr>
<td>ã€ç¾ã€‘å‚…é«˜ä¹‰</td>
<td>é‚“å°å¹³æ—¶ä»£</td>
</tr>
<tr>
<td>ã€ç¾ã€‘äº¨åˆ©Â·åŸºè¾›æ ¼</td>
<td>ä¸–ç•Œç§©åº</td>
</tr>
<tr>
<td>ã€ç¾ã€‘äº¨åˆ©Â·åŸºè¾›æ ¼</td>
<td>è®ºä¸­å›½</td>
</tr>
<tr>
<td>ã€è‹±ã€‘ä¹”æ²»Â·å¥¥å¨å°”</td>
<td>1984</td>
</tr>
<tr>
<td>ã€ç¾ã€‘å­”é£åŠ›</td>
<td>å«é­‚ï¼š1768 å¹´ä¸­å›½å¦–æœ¯å¤§ææ…Œ</td>
</tr>
<tr>
<td>ã€ç¾ã€‘èŠ­èŠ­æ‹‰Â·å¾·ç±³å…‹</td>
<td>æˆ‘ä»¬æœ€å¹¸ç¦ï¼šåŒ—éŸ©äººæ°‘çš„çœŸå®ç”Ÿæ´»</td>
</tr>
<tr>
<td>ã€æ·å…‹ã€‘å“ˆç»´å°”</td>
<td>å“ˆç»´å°”æ–‡é›†</td>
</tr>
<tr>
<td>ã€æ·å…‹ã€‘ä¼Šå‡¡Â·å…‹é‡Œç›</td>
<td>å¸ƒæ‹‰æ ¼ç²¾ç¥</td>
</tr>
<tr>
<td>ã€ç™½ä¿„ã€‘SÂ·AÂ·é˜¿åˆ—å…‹è°¢è€¶ç»´å¥‡</td>
<td>åˆ‡å°”è¯ºè´åˆ©çš„æ‚²é¸£</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>ç”Ÿæ´»</category>
      </categories>
      <tags>
        <tag>é˜²ç–«é—¹å‰§</tag>
      </tags>
  </entry>
  <entry>
    <title>ç«¯åˆèŠ‚æ¸¸ç©ï¼šå¾’æ­¥ã€éª‘è¡Œã€è·‘å±±</title>
    <url>/2024-06-10-travel-in-june.html</url>
    <content><![CDATA[<p>è½¬ç¬é—´è·ä¸Šä¸€æ¬¡æ›´æ–°åšå®¢å¿«åŠå¹´äº†ï¼Œä¸»è¦æ˜¯è¿™æ®µæ—¶é—´åœ¨äº«<a href="https://www.thepaper.cn/newsDetail_forward_3291793">ç¦æŠ¥</a>ï¼Œäº«å®Œç¦æŠ¥åå‘¨æœ«å°±å¼€è½¦æ‹‰ç€åŒäº‹å»å¾’æ­¥æ¸¸ç©æ”¾æ¾ä¸€ä¸‹ï¼Œå› æ­¤å®åœ¨æ˜¯æ²¡æœ‰å¿ƒæƒ…æ¥å†™åšå®¢ï¼ˆå…¶å®æ˜¯è‡ªå·±æ‡’ï¼Œæ‰¾ä¸ªå€Ÿå£è‡ªæ¬ºä¸€ä¸‹è‡ªå·± ğŸ˜”</p>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/image-20240607205814023.png"></p>
<p>ä¸è¿‡å¥½åœ¨ç«¯åˆèŠ‚å‰ç»ˆäºä¿®å®Œäº†æ‰€æœ‰çš„ ticketï¼ŒQE å°ä¼™ä¼´ä¹Ÿå®Œæˆäº†ç¬¬ä¸€è½®æµ‹è¯•ï¼Œé¡¹ç›®ç»ˆäºæœ‰äº†ä¸ªé˜¶æ®µæ€§çš„æˆæœï¼Œæ²¡äº†è¿™ä¸ªçƒ¦æ¼å¿ƒæƒ…è‡ªç„¶å¥½äº†å¾ˆå¤šã€‚æ­£å¥½ç«¯åˆèŠ‚å®Œæˆäº†ä¸€æ¬¡ç¯åƒå²›æ¹–éª‘è¡Œï¼Œå°±æƒ³ç€å’Œã€Š<a href="https://blog.k8s.li/taihu.html">2021 äº”ä¸€å‡æœŸç¯å¤ªæ¹–éª‘è¡Œä¹‹æ—…</a>ã€‹ä¸€æ ·ï¼Œæ°´ä¸€ç¯‡åšå®¢æ¥è®°å½•ä¸€ä¸‹æ¸¸ç©æ—¶çš„æ‰€æ€æ‰€æƒ³ä»¥åŠæ‰€è§æ‰€é—»å§ã€‚é‚£ä¹ˆå’±ä»¬å°±å¼€å§‹å›é¡¾ä¸‹ç«¯åˆèŠ‚æ¸¸ç©çš„ç»å†å§ ğŸ˜‡</p>
<h2 id="è®¡åˆ’ç¯‡"><a href="#è®¡åˆ’ç¯‡" class="headerlink" title="è®¡åˆ’ç¯‡"></a>è®¡åˆ’ç¯‡</h2><h3 id="é¥­æ­å­"><a href="#é¥­æ­å­" class="headerlink" title="é¥­æ­å­"></a>é¥­æ­å­</h3><p>åœ¨ã€Š<a href="https://blog.k8s.li/honda-civic.html">è€ƒé©¾ç…§å’Œä¹°äºŒæ‰‹è½¦</a>ã€‹é‡Œæ›¾æåˆ°è¿‡ï¼Œè‡ªä»å»å¹´ä¹°è½¦ä¹‹åå°±å’ŒåŒäº‹å…¥å‘äº†æˆ·å¤–å¾’æ­¥ï¼Œæ¯ä¸ªæœˆéƒ½ä¼šå’ŒåŒäº‹ä¸€èµ·è‡ªé©¾å»æ±Ÿæµ™é™„è¿‘å¾’æ­¥æ¸¸ç©ã€‚å› ä¸ºä¸€èµ·å‡ºå»ç©å„¿çš„æ¬¡æ•°å¤šäº†ï¼Œå’Œå…¶ä¸­ä¸¤ä½åŒäº‹çš„å…³ç³»ä¹Ÿå°±å¯†åˆ‡äº†å¾ˆå¤šã€‚å…¶ä¸­ä¸€ä½æ˜¯å‰ç«¯å¼€å‘ï¼Œå¦ä¸€ä½æ˜¯ UI è®¾è®¡å¸ˆï¼Œä¸ºäº†åé¢å™è¿°æ–¹ä¾¿ï¼Œå°±åˆ†åˆ«ç®€ç§°ä»–ä¿©ä¸º <code>FE</code> å’Œ <code>UI</code> å¥½äº†ã€‚åœ¨å…¬å¸æ¯åˆ°é¥­ç‚¹ï¼Œæˆ‘ä»¬ä»¨ä¸ªå°±ä¸€èµ·å»æ¥¼ä¸‹åƒéº»è¾£çƒ«æˆ–è€…æ²¹æ³¼é¢ï¼Œå†æˆ–è€…æ™šä¸Šä¸‹ç­åä¸€èµ·éª‘è½¦å»è€€åè·¯é™„è¿‘çš„è·¯è¾¹æ‘Šåƒç‚’é¥­ã€‚æ—¶é—´é•¿äº†ï¼Œä¸‰ä¸ªäººçš„å…³ç³»å°±å˜å¾—éåŒä¸€èˆ¬äº†ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘æ¯•ä¸šåå·¥ä½œäº”å¤šå¹´æ¥ç»“äº¤çš„å…³ç³»æœ€å¥½çš„ä¸¤ä¸ªæœ‹å‹ã€‚ä¹‹å‰åœ¨å…¬å¸éƒ½æ˜¯åšä¸€ä¸ªå°é€æ˜ï¼Œå°±åƒå­¦æ ¡é‡Œçš„<a href="https://zh.wikipedia.org/wiki/%E6%AD%B8%E5%AE%85%E9%83%A8">å½’å®…éƒ¨</a>ï¼Œä¸‹ç­åå°±æ—©æ—©æºœå›å®¶ä¸€ä¸ªäººç©æ³¥å·´ï¼Œä¹Ÿä¸å¤ªå‚ä¸åŒäº‹ä¹‹é—´çš„ç¤¾äº¤ã€‚è¿™ç§å±€é¢ä»å»å¹´æˆ‘ä¹°è½¦ä¹‹åæ‰å¼€å§‹çœŸæ­£æ”¹å˜çš„ï¼Œä¸å¾—ä¸è¯´æœ‰äº†ä¸€è¾†è½¦ä¹‹åï¼Œç”Ÿæ´»çš„ç¡®æ”¹å˜äº†å¾ˆå¤šï¼Œå˜å¾—è¶Šæ¥è¶Šç°å……äº†ã€‚</p>
<h3 id="ç†Šé‡å¤é“å¾’æ­¥"><a href="#ç†Šé‡å¤é“å¾’æ­¥" class="headerlink" title="ç†Šé‡å¤é“å¾’æ­¥"></a>ç†Šé‡å¤é“å¾’æ­¥</h3><p>æ—©åœ¨è¿‡å¹´ä¹‹å‰ï¼Œå¦ä¸€ä½åŒäº‹ï¼ˆä¹Ÿæ˜¯å‰ç«¯å¼€å‘ï¼‰å’Œ <code>UI</code> å°±è®¡åˆ’æ¸…æ˜èŠ‚ä¼‘å‡å‡ å¤©å»æ—¥æœ¬ç”°è¾¹å¸‚å’Œæ­Œå±±çš„<a href="https://www.tb-kumano.jp/tw/kumano-kodo/suggested-walks/">ç†Šé‡å¤é“</a>å¾’æ­¥ã€‚æ˜¥èŠ‚æœŸé—´å¼€è½¦å›è€å®¶é¡ºè·¯é€ <code>UI</code>ï¼Œ<code>UI</code> åœ¨è½¦é‡Œå¼€å§‹å­¦æ—¥è¯­äº”åéŸ³ã€‚æˆ‘ä»¬å‘¨æœ«å‡ºå»å¾’æ­¥æ¸¸ç©çš„æ—¶å€™ <code>UI</code> ä¹Ÿåœ¨è½¦é‡Œè·Ÿç€å¤šé‚»å›½å­¦æ—¥è¯­ï¼Œæœ‰æ—¶å€™ä»–çªç„¶è¹¦å‡ºæ¥ä¸€å¥æ—¥è¯­ï¼Œæ•´å¾—æˆ‘ä»¬ä¸€é˜µæ¬¢å£°ç¬‘è¯­ã€‚</p>
<p>ä¸è¿‡å¥½æ™¯ä¸é•¿ï¼Œæ­£å½“ <code>UI</code> æ¯æ—¥å……æ»¡æœŸå¾…å¹²åŠ²æ»¡æ»¡åœ°å­¦æ—¥è¯­çš„æ—¶å€™ï¼Œåœ¨ 3 æœˆåº•å…¬å¸è¿æ¥äº†ä¸€æ³¢è£å‘˜ï¼Œä¸å¹¸ <code>UI</code> åœ¨è£å‘˜çš„é˜Ÿåˆ—ä¸­ã€‚å¾—çŸ¥è¢«è£çš„æ¶ˆæ¯åï¼Œ<code>UI</code> ç›´æ¥æ„£ä½äº†ï¼Œç»™æˆ‘è¯´çš„ç¬¬ä¸€å¥è¯å±…ç„¶æ˜¯ï¼šæˆ‘è¢«è£äº†ï¼Œç†Šé‡å¤é“å¾’æ­¥å»ä¸äº†äº†ã€‚æˆ‘èµ¶ç´§å®‰æŠšä»–è¯´ï¼šè£å‘˜æ˜¯å°äº‹ï¼Œç†Šé‡å¤é“å¾’æ­¥è¿˜æ˜¯è¦å»ï¼Œå› ä¸ºæœºä¼šéš¾å¾—ï¼Œç°åœ¨æ”¾å¼ƒäº†ä¼šè®©ä½ åæ‚”ä¸€è¾ˆå­ã€‚<code>UI</code> å¬ä»äº†æˆ‘çš„å»ºè®®ç«¯åˆèŠ‚å’Œå¦ä¸€ä½åŒäº‹å»äº†ç†Šé‡å¤é“ã€‚</p>
<p><code>UI</code> ä»ç†Šé‡å¤é“å¾’æ­¥å›æ¥åï¼Œæ™šä¸Šä¸€èµ·åƒé¥­çš„æ—¶å€™å°±å’Œä»¬åˆ†äº«äº†åœ¨æ—¥æœ¬æ¸¸ç©çš„ç»å†ï¼Œå¬çš„ç€å®æœ‰äº›ç¾¡æ…•ï¼Œé‚£æ—¶å°±èŒç”Ÿäº†ä¹Ÿè¦å»ç†Šé‡å¤é“å¾’æ­¥çš„å¿µå¤´ã€‚æ¥ç€åˆ°äº†å››æœˆåº•ï¼ŒåŒäº‹åœ¨æˆ‘ä»¬å¾’æ­¥å°é˜Ÿå¾®ä¿¡ç¾¤é‡Œè¯´ç«¯åˆèŠ‚æœŸé—´ä¸Šæµ·åˆ°åå¤å±‹çš„å¾€è¿”æœºç¥¨åªè¦ 1500 å‡ºå¤´ï¼Œèµ¶ç´§å†²å†²å†²é¸­ã€‚å½“æ—¶æ„Ÿè§‰æˆ‘çš„ç†Šé‡å¤é“å¾’æ­¥æœºä¼šæ¥äº†ï¼Œäºæ˜¯å°±ç«‹é©¬åœ¨æ·˜å®ä¸Šæ‰¾äº†ä¸ªæ—…è¡Œç¤¾å‡†å¤‡åŠä¸€ä¸ªä¸‰å¹´å¤šæ¬¡çš„èµ´æ—¥ç­¾è¯ã€‚å› ä¸ºå½“æ—¶å†è¿‡å‡ å¤©å°±åˆ°äº”ä¸€å‡æœŸäº†ï¼Œå°±è¡ŒåŠ¨èµ·æ¥å‡†å¤‡ç­¾è¯ææ–™ã€‚è¿˜å¥½å‡†å¤‡çš„éƒ½æ¯”è¾ƒé¡ºåˆ©ï¼Œåœ¨äº”ä¸€æ”¾å‡å‰æ—…è¡Œç¤¾å°±ç‰µæ”¶åˆ°äº†æˆ‘é‚®å¯„çš„ææ–™ã€‚äº”ä¸€è¿‡åå¤§æ¦‚ç­‰äº†ä¸ƒä¸ªå·¥ä½œæ—¥ï¼Œç­¾è¯å°±é¡ºåˆ©åŠä¸‹æ¥äº†ã€‚</p>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/image-20240612071324128.png"></p>
<p>ç­¾è¯ä¸‹æ¥åï¼Œæ­£å‡†å¤‡å®šé…’åº—å’Œæœºç¥¨ï¼Œå°±åœ¨é‚£æ—¶è‡ªå·±è´Ÿè´£çš„é¡¹ç›®å‡ºç°äº†é£é™©è¦å»¶æœŸå‘å¸ƒäº†ã€‚å½“æ—¶æœ‰ç‚¹çº ç»“ç«¯åˆèŠ‚ç©¶ç«Ÿè¦ä¸è¦ä¼‘å‡å»ç†Šé‡å¤é“å¾’æ­¥ã€‚é‚£å¤©æ­£å¥½åˆ°äº†å’Œ leader æ¯ä¸ªæœˆ 1:1 çš„æ—¶é—´ç‚¹ï¼Œå°±æƒ³ç€ç­‰å’Œ leader 1:1 åå†åšå†³å®šå§ã€‚å’Œ leader 1:1 åæ„Ÿè§‰è¦å‡‰äº†ï¼Œå› ä¸ºç«¯åˆèŠ‚å‰ QE ä¼šå®Œæˆç¬¬ä¸€è½®çš„æµ‹è¯•ï¼Œç«¯åˆèŠ‚åè¦è¿›è¡Œç¬¬äºŒè½®çš„å›å½’æµ‹è¯•ï¼Œç”±äºè¦æ­é…ä¸¤ä¸ªäº§å“çš„ç‰ˆæœ¬å‘å¸ƒï¼Œç¬¬äºŒè½®çš„å›å½’æµ‹è¯•è¦åœ¨è¿™ä¸¤ä¸ªç‰ˆæœ¬ä¸Šåˆ†åˆ«æµ‹ä¸€éã€‚èµ¶åœ¨ 6 æœˆåº•é¡¹ç›®å‘å¸ƒï¼ŒQE æµ‹è¯•çš„å‹åŠ›ä¼šå¾ˆå¤§ï¼Œå› æ­¤éœ€è¦æŠ•å…¥ç ”å‘çš„äººåŠ›åˆ°å›å½’æµ‹è¯•ä¸­ã€‚å½“æ—¶å°±æ²¡æœ‰å†è€ƒè™‘ï¼Œæœæ–­æ”¾å¼ƒäº†ç†Šé‡å¤é“å¾’æ­¥çš„è®¡åˆ’ï¼Œç­‰åˆ°ä»¥åé¡¹ç›®å‘å¸ƒä¹‹åå†å»å§ã€‚ç«¯åˆèŠ‚å°±åƒå¾€å¸¸ä¸€æ ·ï¼Œå’Œé¥­æ­å­ä¸€å—å»æ±Ÿæµ™é™„è¿‘å¾’æ­¥æ¸¸ç©å§ã€‚</p>
<h3 id="ç¯åƒå²›æ¹–éª‘è¡Œ"><a href="#ç¯åƒå²›æ¹–éª‘è¡Œ" class="headerlink" title="ç¯åƒå²›æ¹–éª‘è¡Œ"></a>ç¯åƒå²›æ¹–éª‘è¡Œ</h3><p>äº”ä¸€å‡æœŸçš„æ—¶å€™å’Œé¥­æ­å­ä¸€å—å»å°å·ä»™å±…çš„å…¬ç›‚æ‘ä»¥åŠç¥ä»™å±…æ™¯åŒºå¾’æ­¥æ¸¸ç©äº†å‡ å¤©ï¼Œå¯èƒ½æ˜¯è·¯é€”é¥è¿œåŠ ä¸Šå¾’æ­¥ä¹Ÿæ¯”è¾ƒç´¯ï¼Œç«¯åˆèŠ‚ <code>FE</code> æƒ³å»äº«ç¦èººå¹³å‹çš„è·¯çº¿ï¼Œä¸æƒ³å†åƒäº”ä¸€é‚£æ ·é‚£ä¹ˆç´¯äº†ã€‚è€Œ <code>UI</code> ä¹Ÿæ²¡æœ‰ä¸»è§ï¼Œè§‰ç€å»å“ªé‡Œéƒ½å¯ä»¥ã€‚æœŸé—´æƒ³è¿‡å»ç»å…´ä¸œç™½å±±éœ²è¥è§‚æ˜Ÿï¼Œä¸è¿‡ç”±äºå¤©æ°”åŸå› è¢«å¦äº†ï¼›ä¹Ÿæƒ³è¿‡å»åµŠæ³—æµ·å²›æ¸¸ç©ï¼Œä½†æ‹…å¿ƒç”±äºå¤©æ°”åŸå› è¢«å›°åœ¨å²›ä¸Šä¹°ä¸åˆ°å›æ¥çš„ç¥¨å°±æ”¾å¼ƒäº†ï¼›ä¹Ÿæƒ³è¿‡å»å°å·æ¸©å²­çš„æ°´æ¡¶å²™å¾’æ­¥èµ¶æµ·ï¼Œå› ä¸ºæ˜¯å¾’æ­¥è·¯çº¿ä¹Ÿè¢« <code>FE</code> å¦æ‰äº†ã€‚å°±è¿™æ ·å¤§å®¶çº ç»“äº†å¾ˆä¹…ä¹Ÿæ²¡æœ‰æƒ³å¥½è¦å»å“ªå„¿ï¼Œæ—¢ç„¶è¿™æ ·é‚£è¿™æ¬¡å°±å•ç‹¬è¡ŒåŠ¨ï¼Œè‡ªå·±ä¸€ä¸ªäººå‡ºå»ç©å„¿å§ã€‚</p>
<p>åœ¨çŸ³å¤´æ˜Ÿçƒå’Œæ¸¸ä¾ å®¢å°ç¨‹åºä¸Šéƒ½çœ‹åˆ°äº†åƒå²›æ¹–ä¸¤å¤©ä¸€å¤œçš„éª‘è¡Œç©æ³•ï¼Œå°±æƒ³ç€è¦ä¸ç«¯åˆèŠ‚æ¥ä¸€æ¬¡ç¯åƒå²›æ¹–éª‘è¡Œï¼Œå—¯ï¼Œå¯ä»¥å¯ä»¥ï¼Œå†²å†²å†²ã€‚äºæ˜¯çœ‹äº†ä¸‹æ±Ÿæµ™é™„è¿‘çš„å¤©æ°”é¢„æŠ¥ï¼Œè¯´æ˜¯å‘¨å…­æœ‰å°é›¨ã€å‘¨æ—¥é˜´å¤©ã€å‘¨ä¸€å¤šäº‘ã€‚åˆçœ‹äº†ä¸‹ç¯åƒå²›æ¹–éª‘è¡Œçš„è½¨è¿¹ï¼Œä¸åˆ° 140 å…¬é‡Œï¼Œéª‘ä¸¤å¤©æ„Ÿè§‰å¤ªè½»æ¾ï¼Œä¸å¦‚æŒ‘æˆ˜ä¸€ä¸‹è‡ªå·±ï¼Œä¸€å¤©å®Œæˆç¯åƒå²›æ¹–éª‘è¡Œï¼Ÿé‚£å°±å®šä¸‹äº†å‘¨æ—¥å®Œæˆç¯åƒå²›æ¹–éª‘è¡Œã€‚</p>
<p>åˆæ¥ç€çœ‹äº†å»åƒå²›æ¹–çš„å¯¼èˆªè·¯çº¿ï¼Œä¼šè·¯è¿‡å¯Œé˜³å’Œç»å…´ï¼Œé‚£å‘¨å…­å°±é€‰æ‹©ä¸€ä¸ªåœ¨å¯Œé˜³çš„å¾’æ­¥è·¯çº¿ï¼Œäºæ˜¯å°±æ‰¾åˆ°äº†<a href="https://www.2bulu.com/community/gotohuatinfo.htm?id=ZRcf7qbTjLO8jmiMc8ZMEg==&type=">ææ¢…å°–</a>ã€‚ç„¶ååˆçœ‹äº†ä¸‹å›æ¥æ—¶çš„è·¯çº¿ï¼Œå¯ä»¥ç»•ä¸€ç‚¹è¿œè·¯å»ç‹ä½å±±è·‘å±±ï¼Œç„¶åå†ä»è«å¹²å±±æ™¯åŒºé™„è¿‘ä¸Š S12 ç”³å˜‰æ¹–é«˜é€Ÿå›ä¸Šæµ·ã€‚å»å¹´ 12 æœˆåº•çš„æ—¶å€™å’Œé¥­æ­å­å»è¿‡ä¸€æ¬¡ç‹ä½å±±å¾’æ­¥ï¼Œæ„Ÿè§‰é‚£é‡Œçš„å±±è·¯çœŸçš„ä¸é”™ï¼Œæœ‰æ­å·ç§‹åå±±ä¹‹ç§°ï¼Œååˆ†é€‚åˆè·‘å±±ï¼ˆç»ƒä¹ æ’æ°´æ²Ÿè¿‡å¼¯ï¼‰ã€‚</p>
<p>äºæ˜¯ç«¯åˆèŠ‚å¤§ä½“çš„æ¸¸ç©è®¡åˆ’åˆæ­¥æˆå‹ï¼š</p>
<ul>
<li>Day1ï¼šå¯Œé˜³ææ¢…å°–å¾’æ­¥ï¼Œ13 å…¬é‡Œçˆ¬å‡ 1000 ç±³ï¼›</li>
<li>Day2ï¼šç¯åƒå²›æ¹– 138 å…¬é‡Œéª‘è¡Œï¼›</li>
<li>Day3ï¼šä½™æ­ç‹ä½å±±è·‘å±±ï¼Œç»ƒä¹ æ’æ°´æ²Ÿè¿‡å¼¯ ğŸ¤£ï¼›</li>
</ul>
<p>å’Œå¾€å¸¸å‡ºå»æ¸¸ç©æ—¶ä¸€æ ·ï¼Œåœ¨ Notion ä¸Šåˆ¶å®šäº†ä¸€ä¸ªæ¸¸ç©æ—¶çš„è®¡åˆ’è¡¨ï¼š</p>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/image-20240610203217734.png" alt="image-20240610203217734"></p>
<h2 id="å‡†å¤‡ç¯‡"><a href="#å‡†å¤‡ç¯‡" class="headerlink" title="å‡†å¤‡ç¯‡"></a>å‡†å¤‡ç¯‡</h2><h3 id="å…¬è·¯è½¦"><a href="#å…¬è·¯è½¦" class="headerlink" title="å…¬è·¯è½¦"></a>å…¬è·¯è½¦</h3><p>åœ¨ã€Š<a href="https://blog.k8s.li/taihu.html">2021 äº”ä¸€å‡æœŸç¯å¤ªæ¹–éª‘è¡Œä¹‹æ—…</a>ã€‹çš„æ—¶å€™éª‘è¡Œç”¨çš„è½¦å­æ˜¯ 2012 æ¬¾ GIANT æ·å®‰ç‰¹ ATX770-Dï¼Œè¿™è¾†è½¦å­ä»æ­å·æ¬å®¶æ¥ä¸Šæµ·çš„æ—¶å€™ä¹Ÿä¸€å¹¶å¸¦æ¥äº†ï¼Œä¸€ç›´ç”¨å®ƒéª‘è¡Œä¸Šä¸‹ç­ã€‚åœ¨å»å¹´å››æœˆä»½çš„æ—¶å€™æƒ³æ¢ä¸€è¾†å…¬è·¯è½¦äº†ï¼Œå› ä¸º ATX770-D è½¦èº«å¤ªé‡éª‘è¡Œèµ·æ¥æ¯”è¾ƒç´¯ï¼Œäºæ˜¯å°±åœ¨é—²é±¼ä¸ŠèŠ±äº† 1500 ä¹°äº†è¾†äºŒæ‰‹çš„æ·å®‰ç‰¹ ROAM 2 è·¨ç•Œå…¬è·¯è½¦ã€‚è¿™è¾†è½¦ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯è½¦æ¶æ˜¯å±±åœ°è½¦ï¼Œè½®åœˆå¯ä»¥è£…å±±åœ°è½¦å®½èƒï¼Œä¹Ÿå¯ä»¥è£…å…¬è·¯è½¦çª„èƒï¼Œç®—æ˜¯å…¬è·¯è½¦å’Œå±±åœ°è½¦çš„ç¼åˆæ€ª ğŸ˜‚ã€‚è‡ªä»æŠŠä¹°æ¥åå®ƒä¸€ç›´æ˜¯æˆ‘ä¸»åŠ›ä»£æ­¥å·¥å…·ï¼Œæ¯å¤©éƒ½ä¼šéª‘ç€å®ƒä¸Šä¸‹ç­ï¼Œè¿™æ¬¡çš„ç¯åƒå²›æ¹–éª‘è¡Œå°±å‡†å¤‡å¸¦ç€å®ƒå»ã€‚</p>
<p>è¿™è¾† ROAM2 å…¬è·¯è½¦æœ¬èº«æ²¡æœ‰å¤ªå¤šé—®é¢˜ï¼Œå‰æ®µæ—¶é—´åè½®è¾æ¡æ–­äº†ä¸€æ ¹ã€‚å»å…¬å¸é™„è¿‘çš„æ·å®‰ç‰¹ä¸“å–åº—é—®äº†ä¸‹å¯ä»¥ä¿®ä½†é…ä»¶ç­‰çš„æ—¶é—´æ¯”è¾ƒä¹…ï¼Œä½†æˆ‘æ„Ÿè§‰æ˜¯åªæ¢ä¸€æ ¹è¾æ¡ä¿®è½¦çš„åˆ©æ¶¦æ¯”è¾ƒå°‘ï¼Œåº—å‘˜ä¸æƒ³ç»™ä¿®ã€‚äºæ˜¯å°±è‡ªå·±ä¹°æ¥è¾æ¡è¿›è¡Œæ›´æ¢ï¼Œé¡ºå¸¦æ›´æ¢äº†ä¸‹å‰åè½®çš„å¤–èƒå’Œå†…èƒã€‚</p>
<h3 id="å°åŒºåœè½¦"><a href="#å°åŒºåœè½¦" class="headerlink" title="å°åŒºåœè½¦"></a>å°åŒºåœè½¦</h3><p>ç”±äºå°åŒºåœè½¦å¾ˆéš¾ï¼Œå¯¹äºå’±è¿™ç§å®åŠ›ï¼ˆä¹ ï¼‰æœŸçš„æ–°æ‰‹è€Œè¨€ç®€ç›´å°±æ˜¯å™©æ¢¦ã€‚æœ‰å¥½å‡ æ¬¡åœè¿›æ¥çš„æ—¶å€™å¾ˆé¡ºåˆ©ï¼Œå¼€å‡ºå»çš„æ—¶å€™ç”±äºæ—è¾¹çš„è½¦åœå¾—ä¸è®²æ­¦å¾·å¯¼è‡´æˆ‘å‡ºåº“çš„æ—¶å€™è¢«å¡ä½ï¼Œæ¯æ¬¡éƒ½è¦ä¿å®‰æŒ‡æŒ¥æˆ–è€…æ‰“ç”µè¯è®©è½¦ä¸»æ¥æŒªè½¦æ‰èƒ½å‡ºæ¥ï¼š</p>
<ul>
<li>æˆ‘ä»¬å°åŒºçš„è½¦é“æ˜¯ä¸€ä¸ª U å½¢çš„å•è¡Œè·¯ï¼Œè·¯çš„å·¦ä¾§å¯ä»¥ä¾§ä½åœè½¦ï¼Œç„¶åè·¯çš„å³ä¾§æœ‰ä¸€äº›ç”»åº“ä½çº¿çš„è½¦ä½ï¼Œå½“ä¾§ä½åœçš„è½¦å¤ªé å¤–çš„æ—¶å€™å°±ä¼šå¯¼è‡´å³ä¾§çš„è½¦å³è½¬å‡ºæ¥çš„æ—¶å€™æ²¡æœ‰è¶³å¤Ÿè½¬å¼¯åŠå¾„ï¼Œç”±äºè¿™è¢«å¡ä½è¿‡ä¸€æ¬¡ã€‚ç„¶åä¿å®‰æŒ‡æŒ¥äº†æˆ‘å¾ˆä¹…ä»æ²¡èƒ½å°†è½¦å¼€å‡ºæ¥ï¼Œæœ€åä¿å®‰åªèƒ½éª‚éª‚å’§å’§åœ°è”ç³»è½¦ä¸»è®©ä»–æ¥æŒªè½¦ï¼Œæˆ‘è§‰ç€åº”è¯¥ä¸æ˜¯æˆ‘èœ ğŸ˜…ï¼›</li>
<li>æˆ‘ä»¬æ¥¼ä¸‹ä¹Ÿæœ‰ä¸€æ’è½¦ä½ï¼Œå½“è½¦ä½æ»¡äº†çš„æ—¶å€™æœ‰äº›è½¦ä¸»å°±ç›´æ¥åœåœ¨è·¯ä¸Šï¼Œç”±æ­¤è¢«å µä½è¿‡ä¸‰æ¬¡ï¼Œè¿™ç§æƒ…å†µåªè”ç³»è½¦ä¸»æ¥æŒªè½¦ï¼Œæœ‰çš„è½¦ä¸»ç”µè¯æ‰“ä¸é€šï¼Œä¿å®‰å°±ä¼šå¸®å¿™åˆ°è½¦ä¸»å®¶é‡Œå«ä»–æ¥æŒªè½¦ï¼›</li>
<li>æœ‰è½¦è½¦åœå¾—å¾ˆéšæ„ï¼Œä¸æ˜¯å³å‰è½®å‹ä½åº“ä½çº¿å°±æ˜¯è½¦å¤´å¤ªé å‰ï¼Œæ—è¾¹çš„è½¦ä½æƒ³è¦å·¦è½¬å‡ºæ¥çš„æ—¶å€™è½¦è½®å°±ä¼šç¢°åˆ°é©¬è·¯ç‰™å­ï¼Œå†åŠ è·¯ä¸åˆ°ä¸¤ç±³å®½ï¼Œå€’åº“å’Œå‡ºåº“çš„æ—¶å€™éƒ½å¾ˆæé™åœ°è´´ç€æ—è½¦æˆ–è€…è½®èƒç¢°ç€è·¯æ²¿çŸ³ã€‚å› ä¸ºè¿™è¢«å¡ä½ä¸€æ¬¡ï¼Œé‚£æ—¶å€™ä¿å®‰è®©è½¦ä¸»ä¸‹æ¥æŒªè½¦å¾€åå€’ä¸€ç‚¹å°±èƒ½å°†è½¦å¼€å‡ºæ¥äº†ï¼›</li>
</ul>
<p>ä¸ºäº†å‘¨å…­æ—©ä¸Šå‡ºå‘çš„æ—¶å€™è½¦å­ä¸åƒå¾€å¸¸ä¸€æ ·è¢«å µåœ¨è½¦ä½é‡Œï¼Œå‘¨äº”æ—©ä¸Šå°±å°†è½¦æŒªåˆ°äº†å¤–é¢æ–¹ä¾¿å‡ºåº“çš„ä½ç½®ã€‚åæ¥äº‹å®è¯æ˜è¿™æ ·åšæ˜¯å¯¹çš„ï¼Œå‘¨å…­æ—©ä¸Šå‡ºå‘çš„æ—¶å€™æœç„¶æœ‰è¾†è½¦å’Œå¾€å¸¸ä¸€æ ·åœåœ¨è·¯ä¸Šï¼ŒæŒ¡ä½äº†è½¦ä½çº¿é‡Œé¢çš„è½¦ã€‚è¿˜å¥½æœ‰å…ˆè§ä¹‹æ˜ï¼Œä¸ç„¶æ—©ä¸Šäº”ç‚¹åŠå¤šè®©è½¦ä¸»æ¥æŒªè½¦ï¼Œè½¦ä¸»ä¹Ÿæ˜¯æŒºå¥”æºƒçš„ã€‚</p>
<h3 id="Ticket-ä¿®å®Œå•¦"><a href="#Ticket-ä¿®å®Œå•¦" class="headerlink" title="Ticket ä¿®å®Œå•¦"></a>Ticket ä¿®å®Œå•¦</h3><p>å‘¨äº”ä¸‹åˆ TL å‘Šè¯‰æˆ‘é¡¹ç›®å°±å‰©æœ€åä¸€ä¸ªå¾…éªŒè¯çš„ ticket äº†ï¼Œæˆ‘ç…äº†ä¸€ä¸‹ Jira é¢æ¿ï¼Œå“¦è±ï¼Œè¿˜çœŸæ˜¯è€¶ã€‚èµ¶ç´§ DM é¼“åŠ±äº†ä¸€ä¸‹ QE å°ä¼™ä¼´ï¼ŒåŠ æ²¹åŠ æ²¹ï¼Œå†²å†²å†²ï¼ç­‰æ”¶åˆ° ticket close çš„é‚®ä»¶åï¼Œç¬¬ä¸€æ—¶é—´æ„Ÿè°¢äº†ä¸‹ QE å°ä¼™ä¼´ã€‚è¿™æ˜¯æˆ‘å…¥èŒä»¥æ¥ä½œä¸ºä¸»åŠ›åç«¯å¼€å‘çš„ç¬¬äºŒä¸ªé¡¹ç›®ï¼Œä¹Ÿæ˜¯æˆ‘è§‰ç€æœ€éš¾çš„é¡¹ç›®ã€‚ç¬¬ä¸€è½®æµ‹è¯•ç»“æŸç®—æ˜¯ä¸€ä¸ªé˜¶æ®µæ€§çš„èƒœåˆ©ï¼Œå¿ƒæƒ…å¥½äº†å¾ˆå¤šï¼Œä¹‹å‰ä¸€ç›´åœ¨å´©æºƒçš„è¾¹ç¼˜æŒ£æ‰ï¼Œä»Šå¤©ç»ˆäºè¦ç»“æŸäº†ã€‚æ²¡äº†çƒ¦æ¼ç«¯åˆèŠ‚å°±èƒ½æœ‰ä¸ªå¥½å¿ƒæƒ…æ„‰å¿«åœ°ç©è€å•¦ï¼Œåœ¨è¿™é‡Œå†æ¬¡æ„Ÿè°¢æˆ‘é‚£ä½ QE å°ä¼™ä¼´ã€‚</p>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/image-20240608200713378.png" alt="image-20240608200713378"></p>
<h3 id="æ”¶æ‹¾è½¦å­"><a href="#æ”¶æ‹¾è½¦å­" class="headerlink" title="æ”¶æ‹¾è½¦å­"></a>æ”¶æ‹¾è½¦å­</h3><p>å¿™å®Œé¡¹ç›®ä¸Šçš„äº‹æƒ…åçœ‹äº†ä¸‹æ—¶é—´å¤§æ¦‚äº”ç‚¹å¤šäº†ï¼Œå°±èµ¶ç´§éª‘è½¦æºœå›å®¶ï¼Œå› ä¸ºè¦æŠŠåœ¨éª‘çš„è¿™è¾†å…¬è·¯è½¦å¡åˆ°æˆ‘é‚£è¾†æ€åŸŸè½¦é‡Œï¼Œè¿˜ä¸ç¡®å®šè½¦é‡Œèƒ½ä¸èƒ½æ”¾å¾—ä¸‹ï¼Œä¸ºäº†ä»¥é˜²ä¸‡ä¸€å°±æ—©ç‚¹å›å®¶å§ï¼Œè¦æ˜¯çœŸçš„æ”¾ä¸ä¸‹ä¹Ÿæœ‰æ—¶é—´æƒ³åŠæ³•æ¥å¤„ç†ï¼Œä¸è‡³äºå¿™åˆ°å¤©é»‘ã€‚</p>
<p>åˆ°å®¶åï¼Œå°±å°†å…¬è·¯è½¦çš„è½¦è½®å’Œè½¦åº§æ‹†ä¸‹ï¼Œå¹¶ç”¨å¡‘å°è†œåŒ…è£¹ä½é“¾æ¡å’Œç‰™ç›˜çš„éƒ¨åˆ†ï¼Œä»¥å…æ²¹æ³¥æ“¦ç¢°åˆ°è½¦ä¸Šã€‚åˆšå¼€å§‹è¯•ç€å°†è½¦å­æ”¾è¿›åå¤‡ç®±ï¼Œè°ƒæ•´äº†å¥½å‡ æ¬¡éƒ½ä¸å¤ªè¡Œã€‚å¦‚æœæ˜¯è¾†ä¸¤å¢æˆ–è€…æ—…è¡Œè½¦å°±å¥½äº†ï¼Œæœ‰ç‚¹åæ‚”å½“åˆä¹°äº†ä¸‰å¢çš„æ€åŸŸã€‚ä¸»è¦æ˜¯ä¸‰å¢è½¦åæ’æ”¾å€’åç©ºé—´è¿˜æ˜¯å¾ˆç´§å‡‘ï¼Œå®¹çº³ä¸ä¸‹å±±åœ°è½¦æ¨ªæ”¾çš„ç©ºé—´ã€‚äºæ˜¯è¯•ç€æŠŠè½¦å­æ”¾åœ¨åæ’ï¼Œæ²¡æƒ³åˆ°èƒ½å®Œç¾åœ°å¡è¿›å»ï¼Œå°±æ˜¯æŒ¤å äº†åæ’çš„ç©ºé—´ï¼Œä¸è¿‡è¿™æ¬¡å°±æˆ‘ä¸€ä¸ªäººå‡ºæ¥ç©ï¼Œåæ’ä¸ç”¨åäººæ‰€ä»¥ä¹Ÿæ²¡äº‹å„¿ã€‚æœ€åå†ç”¨å®‰å…¨å¸¦å›ºå®šä¸»è½¦æ¶ï¼Œä»¥å…ç¦æ­¢åˆ¶åŠ¨çš„æ—¶å€™è½¦å­ç”±äºæƒ¯æ€§é£åˆ°å‰æ’æ¥ï¼Œè¿™æ ·åƒå¸­é£é™©å¤§å¤§å‡å°‘ã€‚</p>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/IMG_6177.JPG" alt="IMG_6177"></p>
<p>æŠŠè½¦å­è£…å¥½ä¹‹åå°±æ”¾å¿ƒäº†ï¼Œæœ¬ä»¥ä¸ºæ”¾ä¸ä¸‹çš„ï¼Œæ²¡æƒ³åˆ°åæ’çš„ç©ºé—´æ–œæ”¾ä¸€è¾†å…¬è·¯è½¦è¿˜æ˜¯ç»°ç»°æœ‰ä½™æ»´ï¼Œç­‰åˆ°ä»¥åå»è«å¹²å±±æˆ–å´‡æ˜å²›éª‘è¡Œæ¸¸ç©çš„æ—¶å€™å°±å¯ä»¥é‡‡ç”¨ç›¸åŒçš„åŠæ³•äº†ï¼Œéå¸¸ä¸æˆ³ã€‚</p>
<h2 id="Day1-ææ¢…å°–å¾’æ­¥"><a href="#Day1-ææ¢…å°–å¾’æ­¥" class="headerlink" title="Day1 ææ¢…å°–å¾’æ­¥"></a>Day1 ææ¢…å°–å¾’æ­¥</h2><h3 id="å‡ºå‘"><a href="#å‡ºå‘" class="headerlink" title="å‡ºå‘"></a>å‡ºå‘</h3><p>æ¯æ¬¡è¦å‡ºå»ç©å„¿çš„æ—¶å€™ï¼Œå¤´å¤©æ™šä¸Šå°±å…´å¥‹åœ°ç¡ä¸ç€ï¼Œæœ‰ç‚¹åƒä¸Šå­¦çš„æ—¶å€™æ”¾å¯’æš‘å‡çš„é‚£å¤©æ™šä¸Šä¸€ç›´ç¡ä¸ç€ï¼Œå’Œå®¿èˆä¸‹é“ºèŠå¤©åˆ°å¤§åŠå¤œä¸€æ ·ã€‚æ™šä¸Šç¡å¾—ä¸æ˜¯å¾ˆå¥½ï¼Œå‡Œæ™¨å››ç‚¹å¤šå°±ä¸çŸ¥ä¸è§‰é†’æ¥äº†ï¼Œé†’æ¥åå¹²çªçœ¼ç¡ä¸ç€ã€‚è·ç¦»å‡ºå‘è¿˜æœ‰ä¸¤ä¸ªå°æ—¶ï¼Œå¹²çªçœ¼ä¹Ÿæ˜¯æµªè´¹æ—¶é—´ï¼Œç´¢æ€§å°±èµ·åºŠæ‰“å¼€ç¬”è®°æœ¬å¼€å§‹æ•´ç†åšå®¢ï¼Œæ€è€ƒä¸‹è¿™ç¯‡æ¸¸è®°çš„å†…å®¹ã€‚ä¸€ç›´ç­‰åˆ° 5 ç‚¹åŠå·¦å³ï¼Œå°±èµ·èº«æ´—è„¸åˆ·ç‰™æ”¶æ‹¾ä¸œè¥¿ï¼Œå¼€å§‹å‡ºå‘äº†ã€‚</p>
<p>æ”¶æ‹¾å¥½ä¸œè¥¿åï¼Œå°±ä¸‹æ¥¼å‡†å¤‡æŠŠè½¦ä»è½¦ä½å¼€å‡ºæ¥ã€‚ä¸‹æ¥¼åå‘ç°æœç„¶æœ‰ä¸ªå¤§èªæ˜æŠŠè½¦åœåœ¨å‡ºåº“çš„è·¯ä¸Šï¼Œå¹¸å¥½æ˜¨å¤©æ—©ä¸Šæˆ‘æŠŠè½¦æŒªèµ°äº†ï¼Œä¸ç„¶ä»Šå¤©åˆè¦æ‰“ç”µè¯è®©ä»–æ¥æŒªè½¦äº†ã€‚å› æ­¤å‡ºé—¨å‰åšå¥½è§„åˆ’ï¼ŒæŠŠä¸€äº›æ½œåœ¨çš„é—®é¢˜æå‰è§„é¿æ‰ï¼Œèƒ½çœä¸å°‘äº‹å„¿ã€‚ä¸Šåˆå…ˆå¯¼èˆªåˆ°ç»å…´ï¼Œå»æˆ‘å§é‚£é‡Œæ‹¿å¸ç¯·ä»¥åŠä¸€äº›å…¶ä»–çš„éœ²è¥è£…å¤‡ã€‚è¿™æ¬¡çš„å¯¼èˆªè·¯çº¿è¿˜æ˜¯å’Œå¾€å¸¸ä¸€æ ·ï¼šS32 ç”³å˜‰æ¹–é«˜é€Ÿ -&gt; G60 æ²ªæ˜†é«˜é€Ÿ -&gt; G1522 å¸¸å°é«˜é€Ÿã€‚åœ¨æµ¦ä¸œå‡ºæ²ªå»å¾€å®æ³¢æˆ–ç»å…´æ–¹å‘ï¼Œå¦‚æœæ˜¯ä½åœ¨ S32 ç”³å˜‰æ¹–é«˜é€Ÿä»¥åŒ—çš„åœ°æ–¹ï¼Œè¿˜æ˜¯æŒºå»ºè®®è¿™é‡Œè·¯çº¿çš„ã€‚ä¼šæ¯”èµ° S20 å¤–ç¯é«˜é€Ÿ -&gt; G60 æ²ªæ˜†é«˜é€Ÿè·¯å†µè¦å¥½å¾ˆå¤šã€‚å› ä¸º S20 å¤–ç¯é«˜é€Ÿå’Œ  G60 æ²ªæ˜†é«˜é€Ÿé€”å¾„ä¸Šæµ·çš„ä¸»è¦åŸåŒºï¼Œé«˜é€Ÿçš„å‡ºå…¥å£ä¼šå¾ˆå¤šï¼Œè½¦æµé‡ä¹Ÿå¾ˆå¤§ï¼ŒèŠ‚å‡è‚¯å®šä¼šå µè½¦ã€‚è€Œ S32 ç”³å˜‰æ¹–é«˜é€Ÿé€”å¾„çš„åœ°æ–¹åŸºæœ¬ä¸Šéƒ½æ˜¯ä¸€äº›éƒŠåŒºï¼Œè½¦æµé‡ä¼šå°‘ä¸€äº›ï¼Œå¾ˆå°‘ä¼šé‡åˆ°å µè½¦çš„æƒ…å†µã€‚ä¸è¿‡ç­‰åˆ°ä»Šå¹´ 7 æœˆä»½ <a href="https://www.dongchedi.com/article/7301984401263641138">S32 ç”³å˜‰æ¹–é«˜é€Ÿä¸Šæµ·æ®µå…è´¹</a>ä¹‹åå¯èƒ½ä¼šæœ‰æ‰€ä¸åŒäº†ï¼Œæ¯•ç«Ÿè¿˜æ˜¯ä¼šæœ‰å¾ˆå¤šäººç»•ä¸€ç‚¹è¿œè·¯æ¥ç™½å«–è¿™å‡ åå…¬é‡Œçš„é«˜é€Ÿè´¹çš„ ğŸ˜‚ã€‚</p>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/IMG_6139.PNG" alt="IMG_6139"></p>
<p>å› ä¸ºé€‰æ‹©äº†è·¯çº¿æ¯”è¾ƒé€šç•…ä¸”å‡ºå‘çš„æ¯”è¾ƒæ—©ï¼Œè·¯ä¸ŠåŸºæœ¬ä¸Šæ²¡æœ‰é‡åˆ°å µè½¦çš„æƒ…å†µï¼Œä¸€è·¯å¾ˆé¡ºç•…åœ°æ¥åˆ°äº†ç»å…´ï¼Œä»æˆ‘å§é‚£æ‹¿åˆ°å¸ç¯·åå°±ç»§ç»­å‡ºå‘å‰å¾€å¯Œé˜³ææ¢…å°–äº†ã€‚ä¹‹æ‰€ä»¥æ¥æ‹¿å¸ç¯·å› ä¸ºæƒ³ç€åœ¨åƒå²›æ¹–éª‘è¡Œçš„æ—¶å€™çœ‹çœ‹èƒ½ä¸èƒ½åœ¨åƒå²›æ¹–æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„éœ²è¥åœ°ç‚¹ï¼Œæ™šä¸Šå°±ä¸ä½é…’åº—æ¥éœ²è¥ã€‚åæ¥äº‹å®è¯æ˜æˆ‘å¤ªå¤©çœŸäº†ï¼Œéœ²è¥ä»€ä¹ˆçš„æ ¹æœ¬å°±ä¸å­˜åœ¨ã€‚</p>
<h3 id="ææ¢…å°–å¾’æ­¥"><a href="#ææ¢…å°–å¾’æ­¥" class="headerlink" title="ææ¢…å°–å¾’æ­¥"></a>ææ¢…å°–å¾’æ­¥</h3><p>9 ç‚¹åŠå·¦å³åˆ°è¾¾å¯Œé˜³ç‘¶åæ‘ï¼Œæ‘å­é‡Œçš„éœ²å¤©åœè½¦åœºæ”¶è´¹ 10 å—ã€‚è½¦å­åœå¥½åï¼Œæ”¶æ‹¾å¥½è¡Œæå°±å¼€å§‹è·Ÿç€ä¸¤æ­¥è·¯ä¸Šçš„è½¨è¿¹å¾’æ­¥ã€‚å¯Œé˜³ææ¢…å°–è¿™æ¡ç»å…¸çš„å¾’æ­¥è·¯çº¿åƒç©ºå¿ƒæˆ·å¤–ã€æ¸¸ä¾ å®¢ã€æµ¦ä¸œæˆ·å¤–ã€åä¸œæˆ·å¤–æ¯ä¸ªæœˆéƒ½ä¼šæˆå›¢æ¥çš„ã€‚è¿™é‡Œä¸æ˜¯ä¸€ä¸ªæ­£è§„å¼€å‘çš„æ™¯åŒºï¼Œä¸è¿‡å¥½åœ¨å½“åœ°å»ºè®¾å’Œç»´æŠ¤çš„éƒ½è¿˜ä¸é”™ï¼Œä¸­é€”è¿˜æœ‰ä¸€ä¸ªè¡¥ç»™ç‚¹å¯ä»¥ä¼‘æ¯ã€‚è™½ç„¶è¿™æ¡è·¯çº¿ 13 å…¬é‡Œçˆ¬å‡ 1000 ç±³çœ‹ç€æœ‰ç‚¹éš¾åº¦ï¼Œä½†çˆ¬å‡çš„å¡åº¦è¿˜æ˜¯ç›¸å¯¹è½»æ¾ä¸€äº›ï¼Œä¸åƒä¹‹å‰å»ç›å¸®å¤é“å›æ¥æ—¶ 1.5 å…¬é‡Œçˆ¬å‡ 400 ç±³é‚£æ ·ååˆ†é™¡å³­éš¾èµ°ã€‚åªè¦æ”¾æ…¢èŠ‚å¥ï¼Œæ­£å¸¸äººè¿˜æ˜¯èƒ½èµ°å®Œå…¨ç¨‹çš„ã€‚</p>
<ul>
<li>åˆé¤ï¼Œä¸€ä¸ªå¤§å¤§çš„ç”œç“œå°±å¡«é¥±è‚šå­äº† ğŸ˜‹</li>
</ul>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/IMG_6151.JPG" alt="IMG_6151"></p>
<ul>
<li>ç™»é¡¶ææ¢…å°–ï¼Œæ™¯è‰²çœŸä¸æˆ³ ğŸ˜†</li>
</ul>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/IMG_6167.JPG" alt="IMG_6167 2"></p>
<ul>
<li>é€”ä¸­çš„èšŠè™«å¾ˆå¤šï¼Œåä¸‹ä¼‘æ¯çš„æ—¶å€™ä¸€åªå°èœœèœ‚è½åœ¨æˆ‘èƒ³è†Šä¸Š</li>
</ul>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/IMG_6161.JPG" alt="IMG_6161"></p>
<p>ä¸‹å±±çš„æ—¶å€™çœ‹åˆ°ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„è·¯æ ‡ç‰Œï¼Œä¸Šé¢å†™ç€ ã€Œ<strong>å¾ˆæ˜æ˜¾è¿™é‡Œæœ‰æ¡è¿‘è·¯</strong>ã€ï¼Œäºæ˜¯èµ¶ç´§æ‹ç…§å‘åœ¨æˆ‘ä»¬çš„å¾’æ­¥å°é˜Ÿå¾®ä¿¡ç¾¤é‡Œã€‚å»å¹´å¸¦é¥­æ­å­å»è¦†å®å±±å¾’æ­¥ï¼Œä¸‹å±±å›æ¥çš„æ—¶å€™å› ä¸ºæˆ‘é€‰æ‹©äº†æŠ„è¿‘è·¯æŠŠå¤§å®¶å¸¦åˆ°äº†ä¸€ç‰‡æ·±å±±è€æ—é‡Œï¼Œåœ¨ä¸›æ—é‡Œèµ°äº†å¤§åŠå¤©å·®ç‚¹å°±è¦å«æ•‘æ´ï¼Œå¥½åœ¨æœ‰æƒŠæ— é™©æœ€ç»ˆå®‰å…¨ä¸‹å±±äº†ã€‚ä»é‚£ä»¥åæˆ‘åªè¦ä¸€ææŠ„è¿‘è·¯ï¼Œå°±ä¼šå¼•æ¥ä»–ä»¬çš„ä¸€é˜µå˜²è®½ï¼Œè°ƒä¾ƒæˆ‘è¿™æ˜¯å¤§èªæ˜è¡Œä¸º ğŸ¤£ã€‚è¿™æ¬¡å¯æ˜¯è´§çœŸä»·å®çš„è¿‘è·¯ï¼Œè€Œ FE å›å¤ï¼šåªæœ‰èªæ˜çš„äººæ‰èƒ½çœ‹åˆ°çš„è¿‘è·¯ï¼å“ˆå“ˆï¼Œå¯èƒ½æ˜¯å› ä¸ºé‚£æ¬¡æŠ„è¿‘è·¯ç¿»è½¦ï¼Œæˆ‘åœ¨ä»–ä»¬å¿ƒä¸­çš„å½¢è±¡å°±å˜æˆäº†ä¸€ä¸ªå¤§èªæ˜ ğŸ˜“ã€‚</p>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/IMG_6173.JPG" alt="IMG_6173"></p>
<p>é¡ºç€è¿™æ¡è¿‘è·¯ä¸‹å±±ï¼Œå°è·¯å‘¨è¾¹è¢«æ ‘æœ¨å’ŒèŠ¦è‹‡è¦†ç›–çš„ä¸¥ä¸¥å®å®ï¼Œæœ‰æ—¶å€™éœ€è¦å¼¯è…°ä»è¿™äº›èŒ‚å¯†çš„æ ‘ä¸›é’»è¿‡å»ï¼Œæœ‰é‚£ä¹ˆä¸€ç‚¹ç‚¹ä¸›æ—æ¢é™©çš„æ„Ÿè§‰ ğŸ˜‚ã€‚åŠè·¯é‡åˆ°ä¸€å¤„å°æ± å­ï¼Œåœ¨é‡Œé¢ç©äº†ä¼šæ°´ï¼Œæ´—äº†æ´—å°±ç»§ç»­ä¸‹å±±äº†ã€‚</p>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/IMG_6171.JPG" alt="IMG_6171"></p>
<p>åˆ°è¾¾åœè½¦åœºåæ‰ä¸‹åˆä¸‰ç‚¹å¤šï¼Œæ¯”é¢„æœŸå›æ¥æ—©ä¸€ä¸ªå°æ—¶ã€‚å½“æ—¶å¤ªé˜³æ­£çƒˆï¼Œæ‰“å¼€è½¦é—¨å‘ç°è½¦å†… 50 å¤šåº¦ã€‚æœ‰ç‚¹åæ‚”æ²¡æœ‰å¸¦éš”çƒ­çš„è½¦è¡£ï¼Œè™½ç„¶æŒ¡é£ç»ç’ƒä¸Šæ’‘å¼€äº†é®é˜³ä¼ï¼Œä½†éš”çƒ­æ•ˆæœå¹¶ä¸ä½³ã€‚50 å¤šåº¦ç®€ç›´åƒè’¸æ‹¿æˆ¿ä¸€æ ·çƒ­ï¼Œååœ¨è¿™é‡Œä¸€å°ä¼šå·²ç»æ±—æµæµƒèƒŒäº†ï¼Œæ¯”ä¸­åˆåœ¨ä¸Šå±±çš„æ—¶å€™è¿˜è¦çƒ­ã€‚äºæ˜¯å¯¼èˆªçœ‹äº†ä¸‹å»åƒå²›æ¹–çš„è·¯çº¿ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½åœ¨ä¸Šé«˜é€Ÿå‰æ‰¾ä¸ªåŠ æ²¹ç«™ä¼‘æ¯ä¼šï¼Œé¡ºä¾¿åœ¨é˜´å‡‰çš„åœ°æ–¹å¼€ç©ºè°ƒè®©è½¦å†…æ¸©åº¦é™ä¸‹æ¥ã€‚çœ‹åœ°å›¾å¯¼èˆªå‘ç°å»åƒå²›æ¹–çš„é•¿æ·±é«˜é€Ÿè¦å µè½¦ 30 åˆ†é’Ÿï¼ŒåŸæœ¬ä¸€ä¸ªåŠå°æ—¶çš„è½¦ç¨‹ç°åœ¨è¦ä¸¤ä¸ªå°æ—¶äº†ã€‚é¡ºç€è·¯çº¿æ‰¾åˆ°äº†å¦ä¸€ä¸ªé«˜é€Ÿå…¥å£åˆšå¥½èƒ½ç»•è¿‡å µè½¦çš„è·¯æ®µï¼Œé™„è¿‘è¿˜æœ‰ä¸€ä¸ªåŠ æ²¹ç«™ï¼Œååˆ†åˆé€‚ï¼Œäºæ˜¯å°±å¼€è½¦å‰å¾€åŠ æ²¹ç«™ã€‚</p>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/IMG_6175.JPG" alt="IMG_6175"></p>
<h3 id="åœè½¦è´¹"><a href="#åœè½¦è´¹" class="headerlink" title="åœè½¦è´¹"></a>åœè½¦è´¹</h3><p>å‡ºæ¥æ‘å­çš„æ—¶å€™çœ‹åˆ°äº†æœ‰ä¸ªå®é©¬è½¦ä¸»å’Œæ‘æ°‘å°å“¥å‘ç”Ÿäº†å†²çªã€‚å› ä¸ºææ¢…å°–è¿™é‡Œå¹¶ä¸æ˜¯ä¸€ä¸ªæ­£è§„å¼€å‘çš„æ™¯åŒºï¼Œä¸æ˜¯æœ¬æ‘çš„è½¦è¿›æ‘éƒ½è¦äº¤ 10 å—é’±çš„åœè½¦è´¹ã€‚å¼€å®é©¬çš„è€å“¥å¾ˆä»»æ€§ï¼Œå°±æ˜¯ä¸æƒ³äº¤è¿™ 10 å—é’±çš„åœè½¦è´¹ï¼Œæƒ³è¦ä»é€†å‘è½¦é“ç¡¬é—¯è¿‡æ¥ï¼Œæˆ‘åˆšå¥½è·¯è¿‡å·®ä¸€ç‚¹ç‚¹æ’ä¸Šï¼Œæ‹¿äºŒç»´ç æ”¶è´¹çš„æ‘æ°‘å°å“¥ä¹Ÿè¢«æ°”å¾—éª‚éª‚å’§å’§åœ°é—®å€™ä»–å…¨å®¶ã€‚å°å“¥å¸®æˆ‘çœ‹äº†ä¸‹è½¦æ²¡æœ‰è¢«å‰è¹­åˆ°ï¼Œæˆ‘å°±å°´å°¬åœ°è°ƒä¾ƒäº†ä¸‹ï¼šä½ çœ‹å§ï¼Œäººä¸äººä¹‹é—´çš„å·®è·æ¯”å®é©¬ä¸æ€åŸŸçš„å·®è·è¿˜è¦å¤§ã€‚</p>
<p>è™½ç„¶æ‘æ°‘æ”¶åœè½¦è´¹ä¸æ˜¯å¾ˆæ­£è§„ä¹Ÿæ²¡æœ‰å‘ç¥¨å•¥çš„ï¼Œä½†è¿™ç§æƒ…å†µæˆ‘ä»¬å¾’æ­¥çš„æ—¶å€™ä¹Ÿé‡åˆ°çš„å¯å¤šäº†ï¼Œä¸è¿‡æˆ‘ä»¬æ¯æ¬¡éƒ½ä¼šå¾ˆçˆ½å¿«åœ°äº¤ä¸ªåœè½¦è´¹ã€‚10 å—é’±çš„åœè½¦è´¹å¯ä»¥é¿å…å¾ˆå¤šä¸å¿…è¦çš„éº»çƒ¦ï¼Œæ€»ä¸èƒ½ä¸ºäº†çœä¸ª 10 å—é’±ç»•å¤§åŠå¤©æ‰¾ä¸ªè½¦ä½ã€‚å¦‚æœåœçš„åœ°æ–¹ä¸åˆé€‚çš„è¯è¯´ä¸å®šè¿˜ä¼šè¢«è´´è¿ç« ç½šæ¬¾ 200 å—ï¼Œå†æˆ–è€…åœè·¯è¾¹è¢«å‰è¹­äº†ä¹Ÿä¸å¥½å¼„ï¼Œæ‰€ä»¥ä¸ºäº†çœäº‹å’ŒèŠ‚çœæ—¶é—´æˆæœ¬æˆ‘ä»¬éƒ½ä¸ä¼šå¤ªè®¡è¾ƒè¿™äº›ã€‚ä¹‹å‰å»ç»å…´çš„å‘¼ç‹—å´–å¾’æ­¥çš„æ—¶å€™å°±åœåœ¨å†œå®¶é‡Œï¼Œæ”¶è´¹ 10 å—ï¼›å»å°å·ä»™å±…çš„æ—¶å€™æ‘é‡Œçš„éœ²å¤©åœè½¦åœºæ”¶è´¹ 10 å—ï¼›å»å®æ³¢é£è½¦å…¬è·¯çš„æ—¶å€™åœ¨ç«¥å¤å®¶æ‘ï¼Œé‚£é‡Œå»ºè®¾çš„æ¯”è¾ƒå¥½ï¼Œæ‘å£ä¼šæœ‰åœè½¦æ”¶è´¹çš„é—¸æœºï¼Œç„¶åé™„è¿‘è¿˜æœ‰å«ç”Ÿé—´ï¼Œå‘¨è¾¹çš„åŸºç¡€è®¾æ–½åšçš„å¾ˆå¥½ã€‚å°½ç®¡æˆ‘ä»¬å¾’æ­¥æ¸¸ç©å»çš„éƒ½æ˜¯ä¸€äº›å…è´¹ç™½å«–çš„è·¯çº¿ï¼Œä½†å’Œå½“åœ°çš„æ‘æ°‘ç›¸å¤„è¿˜æ˜¯å¾ˆèæ´½çš„ï¼Œä»æ¥æ²¡æœ‰å‘ç”Ÿè¿‡å†²çªã€‚</p>
<p>æ‰€ä»¥å˜›ï¼Œå‡ºé—¨åœ¨å¤–ï¼ŒèŠ±ç‚¹å°é’±å¯ä»¥æ‘†å¹³çš„äº‹æƒ…è¿˜æ˜¯ä¸è¦å‘ç”Ÿä¸å¿…è¦çš„å†²çªï¼Œå’Œäººåµä¸€æ¶ä¸€å¤©çš„å¥½å¿ƒæƒ…å°±æ²¡äº†ã€‚åœ¨ä¸­å›½ï¼Œå°¤å…¶æ˜¯å†œæ‘ï¼Œè¯´ç‚¹å¥½è¯è®²ç‚¹äººæƒ…ä¸–æ•…ï¼Œäº’ç›¸ç†è§£ä¸€ä¸‹ï¼Œç›¸å¤„èµ·æ¥å°±ä¼šå¾ˆèæ´½ã€‚å°±åƒè™½ç„¶æˆ‘æ²¡æœ‰æŠ½çƒŸçš„ä¹ æƒ¯ï¼Œä½†æˆ‘è½¦é‡Œä»ç„¶ä¼šæ”¾ä¸€åŒ…çƒŸï¼ŒçœŸçš„é‡åˆ°ç‚¹éº»çƒ¦äº‹å„¿ï¼Œç»™å¤§å“¥å¤§å”å¤§çˆ·å•¥çš„é€’æ ¹çƒŸï¼Œè¯´ç‚¹å¥½è¯äººå®¶è¿˜æ˜¯å¾ˆæ„¿æ„å¸®å¿™çš„ã€‚ä¹‹å‰æˆ‘åœ¨å°åŒºåœè½¦è¢«å µä½çš„æ—¶å€™ï¼Œæˆ‘éƒ½ä¼šç»™ä¿å®‰å¤§å”é€’æ ¹çƒŸï¼Œè¯´å£°è°¢è°¢éº»çƒ¦å•¦ç­‰å®¢å¥—è¯ï¼Œä»–éƒ½ä¼šå¾ˆä¹æ„å¸®å¿™æŒ‡æŒ¥æˆ‘æŠŠè½¦å¼€å‡ºæ¥ã€‚å› ä¸ºå¸®çš„æ¬¡æ•°å¤šäº†ï¼Œæ…¢æ…¢å°±æ··ç†Ÿäº†ï¼Œåœ¨å°åŒºå¶å°”é‡åˆ°äº†ä¹Ÿä¼šç›¸äº’æ‰“æ‹›å‘¼è¯´ä¸¤å¥ã€‚</p>
<h3 id="æ·³å®‰å¿åŸ"><a href="#æ·³å®‰å¿åŸ" class="headerlink" title="æ·³å®‰å¿åŸ"></a>æ·³å®‰å¿åŸ</h3><p>å¯¼èˆªåˆ°åŠ æ²¹ç«™åŠ å®Œæ²¹ï¼Œä¼‘æ¯äº†ä¸€æ®µæ—¶é—´ç»§ç»­å‰å¾€æ·³å®‰å¿åŸã€‚ä¸‹é«˜é€Ÿè¿›å…¥åˆ°æ·³å®‰å¿åŸåï¼Œé“è·¯å°±å˜å¾—ååˆ†ç¦»è°±ã€‚åŒå‘ä¸¤è½¦é“å¼€ç€å¼€ç€å³ä¾§çš„éæœºåŠ¨è½¦é“å°±å˜æˆäº†æœºåŠ¨è½¦é“ï¼Œç„¶åä¸€è¿‡çº¢ç»¿ç¯åˆå¼ºè¡Œå˜æˆäº†ä¸¤è½¦é“ï¼Œæˆ‘æ»¡è„¸ï¼Ÿï¼Ÿï¼Ÿã€‚ç„¶åæ—è¾¹éæœºåŠ¨è½¦é“çš„è½¦å°±è¢«å¼ºè¡ŒæŒ¤äº†è¿‡æ¥ï¼Œæ¯è¿‡è·¯å£çš„æ—¶å€™éƒ½è¦ç•™æ„ä¸€ä¸‹ï¼Œè¿˜æœ‰æ¬¡é™©äº›æ’ä¸Šã€‚è¿˜æœ‰ä¸€äº›æœºåŠ¨è½¦ç›´æ¥å¼€åœ¨éæœºåŠ¨è½¦é“ï¼Œé‡åˆ°å‰é¢æœ‰ç”µé©´çš„æ—¶å€™åˆåŠ å¡è¿‡æ¥ï¼Œå¼€è½¦ä½“éªŒæå·®ã€‚</p>
<p>æ›´ç¦»è°±çš„æ˜¯é…’åº—é—¨å£å¤§æ¦‚æœ‰åä¸ªç”»è½¦ä½çº¿çš„è½¦ä½ï¼Œè¿™äº›ç”»è½¦ä½çº¿çš„è½¦ä½éƒ½ä¸æ˜¯é…’åº—çš„ï¼Œè€Œæ˜¯æ”¿åºœè§„åˆ’çš„ã€‚åœè½¦æŒ‰å°æ—¶æ”¶è´¹ï¼Œæ¯å°æ—¶ 5 å—ï¼Œåœä¸€å¤©è¦ 60ã€‚ç„¶åé…’åº—ä½å®¢çš„è½¦å°±åœåœ¨è½¦ä½çº¿å¤–é¢çš„ä¸€äº›ç‹­çª„ç©ºä½ä¸Šã€‚ç»è¿‡é…’åº—ä¿å®‰å¤§å”çš„æŒ‡æŒ¥æ€»ç®—åœ¨ä¸€ä¸ªçŠ„è§’æ—®æ—¯é‡Œåœå¥½äº†è½¦ã€‚åœå¥½è½¦åå°±æŠŠå±±åœ°è½¦æ‹¿å‡ºæ¥è£…ä¸Šè½®å­ï¼Œè½®å­è£…ä¸Šåå‘ç°åˆ¹è½¦ç›˜ä¼šè¹­ç¢Ÿåˆ¹ç‰‡ï¼Œä¸€é¡¿æ“ä½œçŒ›å¦‚è™ï¼Œè°ƒè¯•äº†å¤§åŠå¤©è¿˜æ˜¯ä¼šè¹­é‚£ä¹ˆä¸€ç‚¹ç‚¹ï¼Œå…ˆå°±è¿™æ ·å‡‘æ´»ç€å§ï¼Œåˆä¸æ˜¯ä¸èƒ½éª‘ã€‚</p>
<p>æ™šä¸Šæ²¡æœ‰åƒé¥­ï¼Œç®€å•åƒäº†ç‚¹æ°´æœå’Œç²½å­å°±ç®—å¡«é¥±è‚šå­äº†ã€‚æ‹¿å‡ºç¬”è®°æœ¬æ•´ç†äº†ä¸‹ä»Šå¤©çš„æ—¥è®°ï¼Œå°±ç¡äº†ï¼Œå¸Œæœ›æ˜å¤©çš„ç¯åƒå²›æ¹–éª‘è¡Œèƒ½é¡ºåˆ©ä¸€äº›ã€‚</p>
<h2 id="Day2-ç¯åƒå²›æ¹–éª‘è¡Œ"><a href="#Day2-ç¯åƒå²›æ¹–éª‘è¡Œ" class="headerlink" title="Day2 ç¯åƒå²›æ¹–éª‘è¡Œ"></a>Day2 ç¯åƒå²›æ¹–éª‘è¡Œ</h2><h3 id="å‡ºå‘-1"><a href="#å‡ºå‘-1" class="headerlink" title="å‡ºå‘"></a>å‡ºå‘</h3><p>ä¹‹å‰çœ‹å¤©æ°”é¢„æŠ¥è¯´æ˜¯åƒå²›æ¹–å‘¨å…­æœ‰é›¨å‘¨æ—¥å¤šäº‘çš„ï¼Œæ²¡æƒ³åˆ°å‘¨æ—¥æ—©ä¸Šå¼€å§‹ä¸‹é›¨äº†ã€‚ç”¨å½©äº‘å¤©æ°”çœ‹äº†ä¸‹ï¼Œä¸Šåˆä¼šä¸€ç›´ä¸‹é›¨ï¼Œä¸­åˆä¼šåœä¸€ä¼šã€‚å…«ç‚¹åŠä¹‹åé›¨ä¼šå°ä¸€äº›ï¼Œäºæ˜¯å°±æƒ³ç€ç­‰é›¨å°ä¸€ç‚¹å†å»éª‘è¡Œå§ã€‚å¦‚æœå› ä¸ºä¸‹é›¨å°±æ”¾å¼ƒäº†æ„Ÿè§‰è¿˜æ˜¯æŒºé—æ†¾çš„ã€‚å°±è¿™æ ·ä¸€ç›´ç­‰åˆ° 9 ç‚¹å·¦å³ï¼Œé›¨ç»ˆäºå°äº†ä¸€äº›ã€‚å·²ç»ä¹ç‚¹äº†ï¼Œå†ä¸å‡ºå‘æ™šä¸Šå›æ¥å°±è¦èµ°å¤œè·¯æ˜¯ååˆ†å±é™©çš„ã€‚å½“æ—¶å†…å¿ƒè¿˜æ˜¯æœ‰ä¸€ç‚¹é€€ç¼©æƒ³è¦æ”¾å¼ƒçš„æƒ³æ³•ï¼Œä¸è¿‡åˆæƒ³èµ·äº†ä¸€ä½æ¨å‹çš„è¯ï¼š</p>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/image-20240612215737254.png" alt="image-20240612215737254"></p>
<p>å¦‚æœæ”¾å¼ƒäº†ï¼Œæˆ‘å¯èƒ½ä¼šåæ‚”ä¸€è¾ˆå­ï¼Œæ‰€ä»¥å³ä¾¿è¿˜åœ¨é›¶æ˜Ÿä¸‹ç€å°é›¨ï¼Œè¿˜æ˜¯æ¯…ç„¶å†³ç„¶å‡ºå‘äº†ï¼Œå†²å†²å†²ï¼</p>
<h3 id="éª‘è¡Œ"><a href="#éª‘è¡Œ" class="headerlink" title="éª‘è¡Œ"></a>éª‘è¡Œ</h3><p>åˆšå¼€å§‹éª‘è¡Œçš„æ—¶å€™å°±é‡åˆ°äº†ä¸é¡ºï¼Œç”±äºæ˜¨æ™šæ²¡æœ‰è°ƒæ•´å¥½è½®ç»„ï¼Œåˆ¹è½¦ç¢Ÿç‰‡ä¼šä¸€ç›´è¹­å¤–å±‚çš„åˆ¹è½¦ç‰‡ï¼Œç›¸å½“äºè¸©ç€ 10% çš„åˆ¹è½¦åœ¨éª‘ï¼Œå¯¼è‡´éª‘èµ·æ¥ç‰¹åˆ«è´¹åŠ²ã€‚äºæ˜¯ä¸å¾—ä¸åœä¸‹æ¥è°ƒæ•´è½®ç»„çš„è§’åº¦ï¼Œè®©å®ƒåˆšå¥½å¡åœ¨ä¸€ä¸ªä¸ç¢°åˆ¹è½¦ç‰‡çš„ä½ç½®ã€‚å½“æ—¶é›¨è¿˜çªç„¶ä¸‹å¤§äº†ï¼Œç©¿ç€é›¨è¡£çƒ­å¾—æ»¡å¤´å¤§æ±—ï¼Œå†åŠ ä¸Šå¿˜è®°å¸¦æ¯›å·¾äº†ï¼Œååˆ†åœ°ç‹¼ç‹ˆã€‚ä¸è¿‡å¥½åœ¨ç»è¿‡ä¸€é¡¿æ“ä½œç»ˆäºè°ƒæ•´å¥½äº†ã€‚è°ƒæ•´å¥½è½¦å­åå°±ç»§ç»­éª‘è¡Œï¼Œåˆšå¼€å§‹çš„ä¸€æ®µè·ç¦»ç‰¹åˆ«éš¾èµ°ï¼Œå› ä¸ºä¸‹é›¨æ€•èº«ä½“è¢«é›¨æ·‹å¤±æ¸©å°±ä¸å¾—ä¸æŠ«ç€é›¨è¡£ï¼Œé›¨è¡£åˆä¸é€æ°”ï¼Œå‡ºæ±—ä¹‹åæ±—æ°´é¡ºç€èƒ³è†Šæµåˆ°è¢–å£ï¼Œæ‰‹ä¸€ç”©å°±ä¸€å¤§æŠŠæ±—æ°´ã€‚ï¼Œå°±åƒä¸€åªè½æ±¤é¸¡ï¼Œå¥½ç‹¼ç‹ˆã€‚</p>
<ul>
<li>åœ¨æ¡¥ä¸Šé‡åˆ°äº†å‡ ä¸ªé©´å‹ï¼Œçœ‹æ¥é›¨ä¸­éª‘è¡Œçš„é“æ†¨æ†¨ä¸æ­¢æˆ‘ä¸€ä¸ª ğŸ¤¡ï¼Œå¿ƒæ€ç¬é—´å¥½äº†å¾ˆå¤šã€‚</li>
</ul>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/IMG_6189.JPG" alt="IMG_6189"></p>
<p>ä»ä¹ç‚¹ä¸€ç›´éª‘è¡Œåˆ° 11 ç‚¹åŠï¼Œä¸­é€”ä¼‘æ¯äº†åå‡ åˆ†é’Ÿã€‚å‡ºå‘æ—¶åªå¸¦äº†ä¸€ç“¶æ°´ï¼Œåˆšå¼€å§‹éª‘è¡Œçš„äº†å¤§æ¦‚ 20 å¤šå…¬é‡Œä»ç„¶æ²¡æœ‰æ‰¾åˆ°ä¸€å®¶è¶…å¸‚å¯ä»¥ä¹°æ°´å’Œã€‚è·¯ä¸Šåˆšå¥½ç¢°è§ä¸€ä¸ªå–æ¨æ¢…çš„è€å¥¶å¥¶ï¼Œå°±ä»å¥¹é‚£é‡Œä¹°äº†ä¸€å°ç­æ¨æ¢…ã€‚é¡ºä¾¿é—®äº†ä¸‹è€å¥¶å¥¶é™„è¿‘æœ‰æ²¡æœ‰åƒé¥­çš„åœ°æ–¹ï¼Œå¥¹è¯´è¿˜æ¯”è¾ƒè¿œï¼Œéª‘è½¦å¯èƒ½è¦ 20 åˆ†é’Ÿã€‚è€å¥¶å¥¶çœ‹ç€æˆ‘å¯æ€œå…®å…®çš„æ ·å­ï¼Œå°±ä»é¥­ç›’é‡Œæ‹¿å‡ºä¸€ä¸ªè‡ªå®¶åšçš„åŒ…å­è¦é€ç»™æˆ‘ï¼Œè®©æˆ‘å¡«ä¸€ä¸‹è‚šå­ã€‚å½“æ—¶æ„Ÿè§‰å¥½å°´å°¬ ğŸ˜…ï¼Œæˆ‘å°±åšç€è„¸çš®æœ‰ç‚¹ä¸å¥½æ„æ€åœ°æ¥å—äº†ã€‚è±†è…é¦…çš„åŒ…å­æ˜¯æˆ‘å–œæ¬¢åƒçš„ï¼ŒçœŸå¥½ã€‚åƒç€åƒç€é¼»å­ä¸€é…¸ï¼Œè«åå…¶å¦™æƒ³èµ·äº†å·²æ•…çš„å¥¶å¥¶ï¼Œå°æ—¶å€™ç»å¸¸å’Œå¼Ÿå¼Ÿå·å·æ‘¸æ‘¸å‘å¥¶å¥¶è¦é›¶èŠ±é’±ï¼Œå›æƒ³èµ·é‚£ä¸€å¹•ç€çœŸçš„å¥½æ€€å¿µã€‚æƒ³èµ·ã€Šå¯»æ¢¦ç¯æ¸¸è®°ã€‹ä¸­çš„ä¸€æ®µå°è¯ï¼š<strong>æ­»äº¡ä¸æ˜¯ç”Ÿå‘½çš„ç»ˆç‚¹ï¼Œé—å¿˜æ‰æ˜¯</strong>ã€‚</p>
<p>åƒå®ŒåŒ…å­å’Œæ¨æ¢…åå°±ç»§ç»­å‘å‰å‡ºå‘ï¼Œäº‰å–åäºŒç‚¹å‰æ‰¾åˆ°ä¸€å®¶å†œå®¶ä¹åƒåˆé¥­è¡¥å……ä¸‹ä½“åŠ›ã€‚ç»ˆäºä¸Šåˆéª‘è¡Œäº† 50 å…¬é‡Œååˆ°äº†ä¸€å®¶å†œå®¶ä¹ï¼Œåœ¨é‡Œé¢ç‚¹äº†ä¸€ä»½è›‹ç‚’é¥­å’Œä¸€ç“¶æŸšå­æ±ã€‚</p>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/IMG_6192.JPG" alt="IMG_6192"></p>
<p>åƒé¥­çš„æ—¶å€™å¬å†œå®¶ä¹è€æ¿è®²äº†ä¸€æ®µæ•…äº‹ï¼šä»–ä¹‹å‰æ˜¯ä¸Šæµ·çš„æ­¦è­¦ï¼Œé€€å½¹ä¹‹ååœ¨æ­å·æ‰¾äº†ä»½å·¥ä½œï¼Œè¿™é‡Œçš„å†œå®¶ä¹æ˜¯ç§Ÿçš„å½“åœ°æ‘æ°‘çš„æˆ¿å­å¼€çš„ã€‚ä»–ä»¬å‘¨æœ«ä¼šå¼€è½¦æ¥è¿™é‡Œï¼Œå› ä¸ºä»–ä»¬å¤«å¦»ä¿©ä¸æƒ³ä¸€ç›´ç”Ÿæ´»åœ¨å¤§åŸå¸‚é‡Œï¼Œå‘¨æœ«å’ŒèŠ‚å‡æ—¥å°±æ¥åƒå²›æ¹–è¿™é‡Œä½“éªŒå†œæ‘çš„ç”Ÿæ´»ï¼Œè¿™é‡Œæ˜¯ä»–ä»¬çš„ç¬¬äºŒä¸ªå®¶ã€‚å¬çš„ç€å®æœ‰äº›ç¾¡æ…•ï¼Œæ•´å¾—æˆ‘éƒ½æœ‰ç‚¹æƒ³æŠŠçˆ¶æ¯æ¥æ¥å—æ–¹å†œæ‘ç”Ÿæ´»äº†ã€‚</p>
<p>åƒå®Œé¥­ååœ¨é™¢å­é‡Œä¼‘æ¯äº†ä¸€ä¼šå°±ç»§ç»­å‡ºå‘ï¼Œç°åœ¨æ‰éª‘è¡Œäº† 50 å…¬é‡Œï¼Œè¿˜ä¸åˆ°ä¸€åŠã€‚äºæ˜¯å°±ç»™è‡ªå·±å®šä¸‹äº†ç­‰éª‘è¡Œåˆ° 70 å…¬é‡Œçš„æ—¶å€™å†ä¼‘æ¯ä¸€ä¼šã€‚ä¸­é€”é‡åˆ°äº†ä¸€ç‰‡é›èŠèŠ±ç”°ï¼Œå°±åœ¨é™„è¿‘æ‹ç…§ä¼‘æ¯äº†ä¸€å°ä¼šã€‚è¿™é‡Œä¸€ç“œäººéƒ½æ²¡æœ‰ï¼Œç‹¬äº«è¿™ç•ªç¾æ™¯ï¼ŒçœŸä¸é”™ ğŸ˜Œã€‚</p>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/IMG_6194.JPG" alt="IMG_6194"></p>
<p>å¶è§è€å¤§å“¥è¯­å½• ã€Œ<strong>ç»¿æ°´é’å±±å°±æ˜¯é‡‘å±±é“¶å±±</strong>ã€ã€‚å¦‚æœå’Œé¥­æ­å­ <code>UI</code> ä¸€èµ·æ¥ï¼Œçœ‹åˆ°è¿™ä¸ªæ ‡è¯­åè‚¯å®šåˆå¼€å§‹é”®æ”¿äº† ğŸ˜‚ã€‚æ¯æ¬¡å’Œ <code>FE</code> ä»¥åŠ <code>UI</code> æˆ‘ä»¬ä»¨å‡ºå»å¾’æ­¥çš„æ—¶å€™ï¼Œæ”¿æ²»å’Œå†å²æ˜¯å¿…èŠçš„è¯é¢˜ï¼Œä¸€äº›æ— å…³çš„è¯é¢˜èŠç€èŠç€å°±ä¼šæ‰¯ä¸Šæ”¿æ²»ã€‚å…³äºæ”¿æ²»è¯é¢˜ï¼Œè™½ç„¶æˆ‘ä»¬ä»¨çš„è§‚ç‚¹éƒ½å„ä¸ç›¸åŒï¼Œæœ‰æ—¶å€™ä¹Ÿä¼šäº‰è®ºçš„é¢çº¢è€³èµ¤ï¼Œä¸è¿‡éƒ½èƒ½äº’ç›¸åŒ…å®¹ç†è§£å¯¹æ–¹ï¼Œä¸ä¼šåƒå°ç²‰çº¢é‚£æ ·å‹è°Šå°èˆ¹è¯´ç¿»å°±ç¿»ã€‚æˆ‘è§‰ç€è¿™ä¹Ÿæ˜¯æˆ‘ä»¬å‡ ä¸ªèƒ½ç»å¸¸èšåœ¨ä¸€èµ·ç©çš„åŸå› å§ï¼Œæœ‹å‹ä¹‹é—´çš„å‹è°Šä¼šåƒç”Ÿç‰©å­¦è¿›åŒ–è®ºé‚£æ ·ç»è¿‡ä¸€å±‚å±‚ç­›é€‰å’Œè¿›åŒ–ï¼Œé‚£äº›ä¸ä½ ç›¸å¤„ä¸æ¥çš„äººå¯èƒ½ç©ä¸ªä¸€ä¸¤æ¬¡å› ä¸ºè§‚å¿µä¸å’Œå°±åˆ†å¼€äº†ã€‚è€Œæœ€ç»ˆèƒ½é•¿ä¹…é™ªä½ ç©ä¸‹å»çš„é‚£äº›äººï¼Œéƒ½æ˜¯ä¼šå®¹å¿å¹¶åŒ…å®¹ä½ èº«ä¸Šçš„ç¼ºç‚¹ä»¥åŠé‚£äº›ä¸å’Œçš„è§‚å¿µã€‚</p>
<p>è¯´åˆ°æ”¿æ²»ï¼Œä¹‹å‰å†™ã€Š<a href="https://blog.k8s.li/One-Year-After-the-Lockdown-in-Shanghai.html">å†™åœ¨ä¸Šæµ·å°åŸä¸€å¹´ä¹‹å</a>ã€‹æ—¶æ„Ÿè§¦æœ€æ·±çš„æ˜¯ï¼šã€Œæˆ–è®¸æˆ‘ä»¬å·²ç»æ—©å·²ç»å¬æƒ¯äº†<strong>ä½ ä¸å…³å¿ƒæ”¿æ²»æ”¿æ²»ä¼šæ¥å…³å¿ƒä½ </strong>è¿™å¥åºŸè¯ï¼Œä½†å½“ç»å†äº†è¿™åœºç¾éš¾ï¼ˆé˜²ç–«é—¹å‰§ï¼‰ä¹‹åï¼Œæˆ‘ä»¬æˆ–å¤šæˆ–å°‘åœ°èƒ½æ„Ÿè§¦åˆ°<strong>ä¸€ä¸ªå›½å®¶çš„æ”¿æ²»æ°”å€™çš„å˜åŒ–æ˜¯å¦‚ä½•æ·±åˆ»åœ°å½±å“å’Œé™åˆ¶äººç±»ç”Ÿå­˜çš„çŠ¶æ€å’Œç”Ÿå­˜çš„å¯èƒ½</strong>ã€‚åœ¨æŸäº›æ€§å‘½æ”¸å…³çš„æ—¶åˆ»ï¼Œæ”¿æ²»å®ƒç›´æ¥æˆ–é—´æ¥åœ°å†³å®šäº†æˆ‘ä»¬è¿˜èƒ½ä¸èƒ½åœ¨è¿™ä¸ªä¸–ç•Œç”Ÿå­˜ä¸‹å»ã€‚ã€</p>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/IMG_6197.JPG" alt="IMG_6197"></p>
<p>æœ‰ä¸€æ®µä¸‹å¡äº†ï¼Œä¸ºäº†èŠ‚çœä½“åŠ›æƒ³å¤šç™½å«–ä¸€äº›é‡åŠ›åŠ¿èƒ½ï¼ˆå¤§é›¾ï¼Œå°±éª‘è¡Œå¾—ç‰¹åˆ«å¿«ï¼Œé€Ÿåº¦å·²ç»è¾¾åˆ°äº† 56KM&#x2F;hï¼Œå½“æ—¶å¦‚æœç¨ä¸ç•™ç¥å°±æœ‰å¯èƒ½å½“åœºåƒå¸­ï¼Œè¿˜å¥½ä½œä¸ºä¸€ä¸ªéª‘è½¦é©¾é¾„ 20 å¤šå¹´çš„è€å¸æœºæ¯”è¾ƒç¨³æ²¡æœ‰ç¿»è½¦ ğŸ¤£ã€‚</p>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/IMG_6201.JPG" alt="IMG_6201"></p>
<p>ä¼‘æ¯å®Œåå°±ç»§ç»­å‡ºå‘ï¼Œç°åœ¨å·®ä¸å¤šå·²ç»éª‘è¡Œäº†ä¸€åŠçš„è·¯ç¨‹äº†ï¼Œè¿˜æœ‰ 70 å…¬é‡Œåˆ°ç»ˆç‚¹ã€‚ç»§ç»­åŠ æ²¹åŠ æ²¹ï¼Œå†²å†²å†²ï¼</p>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/IMG_6203.JPG" alt="IMG_6203"></p>
<p>åˆ°äº†ä¸‹åˆäº”ç‚¹å·¦å³ï¼Œè¿˜å‰© 30 å…¬é‡Œçš„è·¯ç¨‹ï¼Œå¦‚æœé¡ºåˆ©çš„è¯ 6 ç‚¹åŠå‰å°±å¯ä»¥åˆ°è¾¾ç»ˆç‚¹ã€‚è€Œè¿™æ—¶å¤©æ°”åˆå¼€å§‹ä¸‹é›¨äº†ï¼Œè™½ç„¶ä¸æ˜¯å¾ˆå¤§ä½†çœ‹å¤©æ°”é¢„æŠ¥ 6 ç‚¹ä¹‹åé›¨é‡ä¼šå¢å¤§ã€‚ä¼‘æ¯äº†ä¸€ä¼šå°±ç»§ç»­èµ¶è·¯ï¼Œåˆšéª‘æ²¡å¤šä¹…åœ¨åå­—è·¯å£é‡åˆ°ä¸¤ä¸ªè€å“¥ï¼Œä»–ä¿©çš„å……ç”µå®å› ä¸ºä¸Šåˆä¸‹é›¨æ·‹åäº†ï¼Œç„¶åä¸€ä¸ªäººæ‰‹æœºæ²¡ç”µäº†ï¼Œå¦ä¸€ä¸ªæ‰‹æœºè¿˜å‰©ç™¾åˆ†ä¹‹åçš„ç”µã€‚å› ä¸ºå¦‚æœéª‘è¡Œå›æ·³å®‰å¿åŸé…’åº—å¿…é¡»è¦çœ‹è½¨è¿¹å¯¼èˆªçš„ï¼Œè¿™ç‚¹ç”µé‡è‚¯å®šæ˜¯ä¸å¤Ÿçš„ã€‚çœ‹äº†ä¸‹æˆ‘å¸¦çš„å……ç”µå®ï¼Œè¿˜æœ‰ 30% çš„ç”µé‡ï¼Œåº”è¯¥å¤Ÿä»–ä»¬ç”¨çš„äº†ï¼Œä¹Ÿæ²¡é¡¾è™‘å•¥å°±å€Ÿç»™äº†ä»–ä¿©ï¼Œå¸Œæœ›ä»–ä»¬èƒ½å®‰å…¨åˆ°è¾¾æ·³å®‰å¿åŸå§ã€‚</p>
<h3 id="æ‘”è½¦"><a href="#æ‘”è½¦" class="headerlink" title="æ‘”è½¦"></a>æ‘”è½¦</h3><p>å°±åœ¨æœ€åäº”å…¬é‡Œçš„æ—¶å€™ï¼Œé›¨å°±çªç„¶ä¸‹å¤§äº†èµ·æ¥ï¼Œä¸å¾—ä¸ç©¿ä¸Šé›¨è¡£ï¼Œé¡¶ç€å¤§é›¨ç»§ç»­éª‘è¡Œã€‚åœ¨æœ€åä¸¤å…¬é‡Œï¼Œè·¯è¿‡åƒå²›æ¹–å¤§æ¡¥çš„æ—¶å€™ä¸å¹¸å‘ç”Ÿäº†ç‚¹æ„å¤–ã€‚å½“æ—¶æˆ‘è®°å¾—æ¸…æ¸…æ¥šæ¥šæˆ‘éª‘åœ¨äº†çº¢è‰²çš„éæœºåŠ¨è½¦é“ä¸Šï¼Œä½†åˆ°äº†åƒå²›æ¹–å¤§æ¡¥åå°±æ²¡äº†éæœºåŠ¨è½¦é“ã€‚æˆ‘å°±é€‰æ‹©éª‘åœ¨äº†æ¡¥çš„é«˜å°ä¸Šï¼Œé‚£æ˜¯ä¸€æ¡ç“·ç –è·¯ï¼Œä¸‹é›¨ä¹‹åè·¯å°±ç‰¹åˆ«åœ°æ»‘ï¼Œå½“æ—¶ä¸€ç›´çº ç»“è¦ä¸è¦æŠŠè½¦æ”¾åˆ°æœºåŠ¨è½¦é“å»éª‘ï¼Œè¿™æ ·ä¼šæ›´å®‰å…¨ä¸€ç‚¹ï¼Ÿæ­£æƒ³ç€è¦ä¸è¦åœä¸‹æ¥åˆ°æœºåŠ¨è½¦é“ä¸Šéª‘ï¼Œå‰è½®å°±çªç„¶ä¾§æ»‘äº†ï¼Œè¿è½¦å¸¦äººç›´æ¥ä»é«˜å°ä¸Šæ‘”äº†ä¸‹æ¥ã€‚æ‘”åˆ°åçš„ç¬¬ä¸€ååº”å°±æ˜¯è¿æ»šå¸¦çˆ¬èµ¶ç´§èº²åˆ°é«˜å°ä¸Šï¼Œä»¥å…è¢«æœºåŠ¨è½¦ç¢¾å‹åˆ°ã€‚æˆ–è®¸æ˜¯æ±‚ç”Ÿæœ¬èƒ½çš„æŒ£æ‰ï¼Œé‚£ä¸€åˆ»è‚¾ä¸Šè…ºç´ æ€¥å‰§ä¸Šå‡ï¼Œååº”ååˆ†è¿…é€Ÿï¼Œæ²¡æœ‰åŠç‚¹æ‹–æ³¥å¸¦æ°´ã€‚ä¼´éšç€å¿ƒè„ç °ç °åœ°è·³åŠ¨ï¼Œååœ¨é«˜å°ä¸Šä¹…ä¹…æ‰ç¼“è¿‡æ¥ï¼Œæ„Ÿè§‰å°±åƒä»é¬¼é—¨å…³èµ°äº†ä¸€é­ã€‚æ—è¾¹æœºåŠ¨è½¦é“ä¸­çš„è½¦è¾†è§åˆ°æˆ‘çš„è½¦å­æ‘”å€’åœ¨è·¯è¾¹åä¹Ÿå¾ˆçƒ­å¿ƒåœ°æ‰“å¼€åŒé—ªåœäº†ä¸‹æ¥ï¼Œæˆ‘æŒ¥äº†æŒ¥æ‰‹è¯´æ²¡äº‹å„¿ä»–å°±æ…¢æ…¢åœ°å¼€èµ°äº†ã€‚</p>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/IMG_6209.JPG" alt="IMG_6209"></p>
<h3 id="å½’æ¥"><a href="#å½’æ¥" class="headerlink" title="å½’æ¥"></a>å½’æ¥</h3><p>ç»ˆäºåœ¨ 7 ç‚¹å‰å®‰å…¨åˆ°è¾¾é…’åº—ï¼ŒæŠŠè½¦å­é”åœ¨è·¯è¾¹çš„æ æ†ä¸Šå°±æ„Ÿç´§åˆ°æˆ¿é—´æ´—äº†ä¸ªçƒ­æ°´æ¾¡ï¼Œé¡ºå¸¦å«äº†ä¸€ä»½å¤–å–ã€‚åƒé¥­çš„æ—¶å€™ä¹‹å‰é‡åˆ°çš„é‚£ä¸¤ä¸ªè€å“¥ä¹Ÿå°†å……ç”µå®é€åˆ°é…’åº—çš„å‰å°ï¼Œä¿å®‰å¸®å¿™ä¸Šæ¥¼é€åˆ°äº†æˆ¿é—´ã€‚çœŸå¥½ï¼Œäººä¸äººä¹‹é—´çš„ä¿¡ä»»å°±æ˜¯è¿™æ ·å¥‡å¦™ï¼Œä½ æ€ä¹ˆå¯¹å¾…åˆ«äººæ¯”äººå°±æ€ä¹ˆå¯¹å¾…ä½ ã€‚åƒå®Œé¥­åå¤ªç´¯äº†å¾ˆå¿«å°±ç¡ç€äº†ï¼Œæœ¬æƒ³ç€ä»Šæ™šè¦åœ¨åƒå²›æ¹–é™„è¿‘æ‰¾ä¸ªåœ°å„¿éœ²è¥æ¥ç€ï¼Œçœ‹æ¥æ˜¯æˆ‘å¤šæƒ³äº†ï¼Œéª‘è¡Œå½’æ¥åè¿™ä¹ˆç´¯è€Œä¸”è¿™ä¹ˆå¤§çš„é›¨å»éœ²è¥è„‘è¢‹çœŸçš„è¢«é©´è¸¢äº†ã€‚</p>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/IMG_6879.jpg" alt="IMG_6879"></p>
<h2 id="Day3-ç‹ä½å±±è·‘å±±"><a href="#Day3-ç‹ä½å±±è·‘å±±" class="headerlink" title="Day3 ç‹ä½å±±è·‘å±±"></a>Day3 ç‹ä½å±±è·‘å±±</h2><h3 id="å‡ºå‘-2"><a href="#å‡ºå‘-2" class="headerlink" title="å‡ºå‘"></a>å‡ºå‘</h3><p>æ—©ä¸Šé†’æ¥åå°±æ”¶æ‹¾ä¸œè¥¿å‡†å¤‡å‡ºå‘ï¼Œ6 ç‚¹ä¹‹åå¯èƒ½è¿˜è¦ä¸‹é›¨ã€‚æ˜¨æ™šå›æ¥åè½¦å­é”åœ¨äº†è·¯è¾¹è¿˜æ²¡æœ‰æ”¶æ‹¾ï¼Œä»Šæ—©è¦èµ¶åœ¨ä¸‹é›¨å‰æŠŠæˆ‘é‚£è¾†å…¬è·¯è½¦æ‹†ä¸‹æ¥é‡æ–°å¡å›æ€åŸŸè½¦é‡Œã€‚æ”¶æ‹¾å¥½è½¦å­åï¼Œè®©ä¿å®‰å¸®å¿™æŒ‡æŒ¥å°†è½¦å¼€åˆ°è·¯è¾¹ï¼Œå°±å¯¼èˆªå‡ºå‘å‰å¾€ç‹ä½å±±ã€‚</p>
<h3 id="è·‘å±±"><a href="#è·‘å±±" class="headerlink" title="è·‘å±±"></a>è·‘å±±</h3><p>è¿™é‡Œç»™å¤§å®¶è§£é‡Šä¸€ä¸‹ï¼Œè¿™é‡Œæåˆ°çš„<strong>è·‘å±±</strong>å¹¶ä¸æ˜¯æˆ‘è·‘ç€ ğŸƒ åœ¨å±±é‡Œçé€›ï¼Œè€Œæ˜¯å¼€è½¦åœ¨å±±è·¯ç‹‚é£™ï¼Œå±å®æœ‰ç‚¹é¬¼ ğŸ‘» ç« ğŸ”¥ å°‘å¹´è¡Œä¸º ğŸŒšã€‚å¹³æ—¶æ™šä¸Šç¡è§‰å‰ä¼šåˆ·ä¸€äº›äº¤é€šäº‹æ•…ç›¸å…³çš„ç”µå­æ¦¨èœè§†é¢‘ï¼Œç›®çš„æ˜¯æƒ³æ ¹æ®è¿™äº›äº¤é€šäº‹æ•…å­¦ä¹ ä¸€ä¸‹é˜²å¾¡æ€§é©¾é©¶ï¼Œæ¯”å¦‚è·¯å£ä¸è¶…é½å¤´è½¦ã€‚æ¯å½“åœ¨è§†é¢‘é‡Œçœ‹åˆ°ä¸€äº›é¬¼ç«å°‘å¹´éª‘æ‘©æ‰˜åœ¨å±±è·¯é£™è½¦å‹å¼¯æ‘”è¿›æ’æ°´æ²Ÿé‡Œæ—¶ï¼Œå¼¹å¹•è¯„è®ºéƒ½ä¼šå˜²ç¬‘ä»–ä»¬ä¸º<strong>åˆèœåˆçˆ±ç©å„¿</strong>ã€‚ä¹Ÿä¼šçœ‹ä¸€äº›æ•™ä½ æ€ä¹ˆå¼€è½¦è·‘å±±çš„è§†é¢‘ï¼Œæ¯”å¦‚ <a href="https://www.bilibili.com/video/BV1Md4y1474T">90% è€å¸æœºä¸ä¼šï¼å¼€ BRZ è·‘å±±æ‚Ÿå‡ºçš„åæ¡é“ç†ï¼æ…¢è¿›å¿«å‡ºã€å·¦è„šåˆ¹è½¦</a>ã€<a href="https://www.bilibili.com/video/BV1KG41137Dc">æ‰‹åŠ¨æ¡£è·‘å±±çš„æ­£ç¡®æ“ä½œæ–¹å¼!åˆ«è¢«å‡è€å¸æœºå„ç§é”™è¯¯æ“ä½œå¿½æ‚ äº†</a>ã€<a href="https://www.bilibili.com/video/BV1JU4y1g7pG">è·‘å±±éœ€è°¨æ…ï¼Œæ€åŸŸä¸Šæ¼”æ’æ°´æ¸ è¿‡å¼¯</a>ã€‚æ’æ°´æ¸ è¿‡å¼¯å…¶å®ä¹Ÿæ˜¯ä¸€ç§å˜²è®½ï¼Œå°±æ˜¯å‡ºå¼¯çš„æ—¶å€™è½¦å­æ¨å¤´å¯¼è‡´å¤±æ§å‰è½®ä¸€å¤´æ‰è¿›è·¯è¾¹æ’æ°´æ²Ÿé‡Œï¼Œè¿™æ—¶ä½ åªèƒ½æ‰“ç”µè¯å«æ•‘æ´æŠŠè½¦æ‹–å‡ºæ¥äº†ï¼Œå¦¥å¦¥æ»´<strong>åˆèœåˆçˆ±ç©å„¿</strong>ã€‚</p>
<p>ä¸è¿‡è¿™æ¬¡è·‘å±±çš„ä½“éªŒè¿˜å¯ä»¥ï¼Œæ€»å…±æœ‰å…­åå¤šä¸ªå¼¯ï¼Œå…¶ä¸­æœ‰åå‡ ä¸ªå‘å¡å¼¯ï¼Œååˆ†æœ‰æŒ‘æˆ˜æ€§ã€‚å°¤å…¶æ˜¯åœ¨è¿‡å‘å¡å¼¯çš„æ—¶å€™ï¼Œå› ä¸ºå…¥å¼¯åçš„å¡åº¦å¾ˆå¤§ï¼Œä¸å¾—ä¸ç”¨ä¸€æ¡£å…¨æ²¹é—¨è½°ä¸Šå»ï¼Œå…¥å¼¯å‰äºŒé™ä¸€å‡é€Ÿå¹¶é…åˆç€é™æ¡£è¡¥æ²¹ï¼Œè½¬é€Ÿç›´æ¥æ‹‰åˆ°å…­åƒè½¬ï¼Œé‚£ç§ç‡ƒæ²¹è½¦å‘åŠ¨æœºå—¡å—¡å—¡çš„å·¨å“çœŸçš„èƒ½å¤Ÿæ¿€å‘å‡ºä½ å»ä¸æ–­æŒ‘æˆ˜äººè½¦åˆä¸€æ“æ§æé™çš„æ–—å¿—ã€‚</p>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/IMG_6227.JPG" alt="IMG_6227"></p>
<p>æ­£å› ä¸ºç°åœ¨è¿˜å•èº«ï¼Œæ‰€ä»¥æœ‰å¤§æŠŠçš„æ—¶é—´æ¥ä½“éªŒè¿™ç§é©¾é©¶ä¹è¶£ã€‚å¯»æ‰¾è¿™ç§äººè½¦åˆä¸€çš„æ“çºµæ„Ÿï¼Œä¸æ–­åœ°è¯•æ¢å‡ºäººå’Œè½¦çš„ä¸€ä¸ªæé™ï¼Œæ˜¯å¯ä»¥æå‡è‡ªå·±çš„é©¾é©¶æŠ€æœ¯çš„ï¼Œè¿™æ ·ä¹Ÿèƒ½åœ¨ä¸€äº›ç´§è¦å…³å¤´ä½œå‡ºæ­£ç¡®çš„ååº”æ¥è‡ªæ•‘ã€‚ä¸è¿‡é¬¼ç«å°‘å¹´ç»ˆç©¶è¿˜æ˜¯ä¼šæˆé•¿çš„ï¼Œç­‰å°†æ¥æˆ‘æœ‰äº†è€å©†å’Œå­©å­ï¼Œæˆ‘å¼€æ‰‹åŠ¨æŒ¡ç»å¯¹æ¯”å¼€ CVT è‡ªåŠ¨æŒ¡è¿˜è¦ç¨³ã€‚å› ä¸ºé‚£æ—¶å€™èº«ä¸Šå·²ç»æœ‰äº†è´£ä»»ï¼Œè¦å®‰å…¨é©¾é©¶ä¿æŠ¤å¥½å®¶äººï¼Œä¸èƒ½å†åƒç°åœ¨è¿™æ ·çç©äº†ã€‚å“ˆå“ˆå“ˆï¼Œå¼€ä¸ªç©ç¬‘ï¼Œå°†æ¥æˆ‘ä¹Ÿå¯èƒ½å•èº«ä¸€è¾ˆå­ï¼Œåªæ˜¯å¾’æ­¥çš„æ—¶å€™é‡åˆ°è¿‡ä¸€äº›å®¶é•¿å¸¦ç€å­©å­å‡ºæ¥ç©ï¼Œæœ‰ç‚¹ç¾¡æ…•è¿™æ ·çš„ç”Ÿæ´»ï¼Œæ‰€æœ‰å¶å°”ä¹Ÿä¼šæƒ³è±¡ä¸€ä¸‹å°†æ¥è¿™æ ·çš„ç”Ÿæ´»ä¹Ÿæœªå°ä¸å¯ã€‚</p>
<h3 id="å›å®¶"><a href="#å›å®¶" class="headerlink" title="å›å®¶"></a>å›å®¶</h3><p>è·‘å®Œå±±ååœ¨å‘¨è¾¹é•‡å­ä¸Šé€›äº†ä¸€ä¼šå°±è¿”èˆªå›å®¶ï¼Œåœ¨æœåŠ¡åŒºç®€å•åƒäº†é¡¿åˆé¥­åœ¨è½¦é‡Œä¼‘æ¯äº†ä¸€ä¼šï¼Œç©äº†ä¸¤å¤©å¤šäº†ç¡®å®æœ‰ç‚¹ç´¯äº†ã€‚åˆ°å®¶åæ”¶æ‹¾å®Œè½¦é‡Œçš„ä¸œè¥¿ï¼Œå°†è½¦å¼€åˆ°ç©ºåœ°ä¸Šï¼Œè‡ªå·±åŠ¨æ‰‹æ´—äº†ä¸‹è½¦ã€‚ç«¯åˆå‡æœŸå°±è¿™æ ·å®Œç¾ç»“æŸäº† ğŸ‰</p>
<h2 id="æ€»ç»“ç¯‡"><a href="#æ€»ç»“ç¯‡" class="headerlink" title="æ€»ç»“ç¯‡"></a>æ€»ç»“ç¯‡</h2><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul>
<li>é›¨å¤©éª‘è¡Œå¾ˆå±é™©ï¼Œä¸€å®šå¥½å¤šåŠ å°å¿ƒå¸¦å¥½ä¿å‘½å¤´ç›”ï¼Œè‡ªä»å›æ¥åæˆ‘æ¯å¤©ä¸Šä¸‹ç­è·¯ä¸Šéª‘è½¦éƒ½ä¼šå¸¦ä¸Šå¤´ç›”ï¼Œè™½ç„¶é•¿è¿™ä¹ˆå¤§éª‘è½¦æ²¡æ‘”è¿‡ï¼›</li>
<li>æ•´ä½“çš„è®¡åˆ’å®Œæˆåº¦ 90%ï¼Œå› ä¸ºä¸‹é›¨çš„å…³ç³»å¯¼è‡´å‘¨æ—¥éœ²è¥å–æ¶ˆäº†ã€‚å…¶å®éœ²è¥ä¹Ÿä¸å¤ªç°å®ï¼Œå› ä¸ºéª‘è¡Œå›æ¥åèº«å¿ƒç–²æƒ«åªæƒ³æ´—ä¸ªçƒ­æ°´æ¾¡èººåºŠä¸Šç¡å¤§è§‰ï¼Œå»éœ²è¥ç¡å¸ç¯·ä¸å¦¥å¦¥æ‰¾ç½ªå—å—ï¼›</li>
<li>è¡Œç¨‹å»çš„åœ°æ–¹éƒ½æ˜¯å†·é—¨å°ä¼—å…è´¹çš„è·¯çº¿ï¼Œä¸å­˜åœ¨å µè½¦ï¼Œä¹Ÿæ²¡æœ‰äººå±±äººæµ·æ’é˜Ÿç°åœºï¼Œæ¸¸ç©ä½“éªŒæä½³ï¼›</li>
</ul>
<h3 id="è´¹ç”¨"><a href="#è´¹ç”¨" class="headerlink" title="è´¹ç”¨"></a>è´¹ç”¨</h3><p>ç«¯åˆèŠ‚ä¸‰å¤©å¤§æ¦‚èŠ±äº† 1200 å·¦å³ï¼Œå…¶ä¸­æ²¹è´¹é«˜é€Ÿè´¹å°±èŠ±äº† 732ã€ä½å®¿èŠ±äº† 262ã€åƒçš„å°±èŠ±äº† 157ã€‚èŠ±äº† 1200 ç‹¬è‡ªä¸€äººæ¸¸ç©ä¸‰å¤©ï¼Œæ„Ÿè§‰è¿™ä¸ªä½“éªŒè¿˜æ˜¯æŒºå€¼çš„ã€‚</p>
<p><img data-src="https://p.k8s.li/2024-06-10-travel-in-june/image-20240612224210576.png" alt="image-20240612224210576"></p>
<h2 id="å°¾å£°"><a href="#å°¾å£°" class="headerlink" title="å°¾å£°"></a>å°¾å£°</h2><p>æ´‹æ´‹æ´’æ´’å†™å®Œè¿™ç¯‡æ¸¸è®°æ‰å‘ç°ä¸çŸ¥ä¸è§‰å·²ç»æ°´äº†ä¸€ä¸‡å¤šå­—äº† ğŸ¥²ï¼Œå¯èƒ½æ˜¯æˆ‘å¾ˆä¹…æ²¡æœ‰å†™åšå®¢å¤ªæƒ³è¡¨è¾¾è‡ªå·±çš„ä¸€äº›å†…å¿ƒæƒ³æ³•å’Œæ„Ÿå—äº†ï¼Œç»ˆäºæ‰¾å›äº†ä¹‹å‰åšæŒå†™åšå®¢çš„é‚£ç§æ„Ÿè§‰ã€‚åé¢æœ‰æœºä¼šå†å†™ä¸€å†™æŠ€æœ¯ç›¸å…³çš„åšå®¢å§ï¼Œä¸ç„¶æˆ‘è¦å˜æˆä¸€ä¸ªç”Ÿæ´»åšä¸»äº†ï¼Ÿæ„Ÿè°¢å¤§å®¶çœ‹å®Œæˆ‘è¿™ä¹ˆå¤šåºŸè¯ï¼Œè°¢è°¢å¤§å®¶çš„é™ªä¼´ã€‚ç¥å¤§å®¶ç”Ÿæ´»æ„‰å¿«ï¼Œå¼€å¼€å¿ƒå¿ƒ ğŸ˜‹ã€‚</p>
]]></content>
      <categories>
        <category>ç”Ÿæ´»</category>
      </categories>
      <tags>
        <tag>ç”Ÿæ´»</tag>
        <tag>å¾’æ­¥</tag>
        <tag>è‡ªé©¾</tag>
        <tag>éª‘è¡Œ</tag>
      </tags>
  </entry>
  <entry>
    <title>å¤§æ•°æ®æŠ€æœ¯</title>
    <url>/2024-09-12-big-data-development.html</url>
    <content><![CDATA[<h3 id="æ€ç»´å¯¼å›¾"><a href="#æ€ç»´å¯¼å›¾" class="headerlink" title="æ€ç»´å¯¼å›¾"></a>æ€ç»´å¯¼å›¾</h3><h4 id="å¤§æ•°æ®æŠ€æœ¯æ ˆæ€ç»´å¯¼å›¾"><a href="#å¤§æ•°æ®æŠ€æœ¯æ ˆæ€ç»´å¯¼å›¾" class="headerlink" title="å¤§æ•°æ®æŠ€æœ¯æ ˆæ€ç»´å¯¼å›¾"></a>å¤§æ•°æ®æŠ€æœ¯æ ˆæ€ç»´å¯¼å›¾</h4><p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601271727671.png" alt="å¤§æ•°æ®æŠ€æœ¯æ ˆæ€ç»´å¯¼å›¾"></p>
<h4 id="å¤§æ•°æ®å¤„ç†ç®€åŒ–æµç¨‹"><a href="#å¤§æ•°æ®å¤„ç†ç®€åŒ–æµç¨‹" class="headerlink" title="å¤§æ•°æ®å¤„ç†ç®€åŒ–æµç¨‹"></a>å¤§æ•°æ®å¤„ç†ç®€åŒ–æµç¨‹</h4><p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601271727873.png" alt="å¤§æ•°æ®å¤„ç†ç®€åŒ–æµç¨‹"></p>
<h4 id="yarnå·¥ä½œåŸç†"><a href="#yarnå·¥ä½œåŸç†" class="headerlink" title="yarnå·¥ä½œåŸç†"></a>yarnå·¥ä½œåŸç†</h4><p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601271727953.png" alt="yarnå·¥ä½œåŸç†"></p>
<h4 id="yarnå·¥ä½œåŸç†ç®€å›¾"><a href="#yarnå·¥ä½œåŸç†ç®€å›¾" class="headerlink" title="yarnå·¥ä½œåŸç†ç®€å›¾"></a>yarnå·¥ä½œåŸç†ç®€å›¾</h4><p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601271652662.png" alt="yarnå·¥ä½œåŸç†ç®€å›¾"></p>
<p>è°·æ­Œæµè§ˆå™¨é•¿æˆªå›¾ï¼š</p>
<p>æ£€æŸ¥ â€”&gt;     Shift+Ctrl+p    â€”-&#x3D;&gt;    full</p>
<h3 id="hadoopå®Œå…¨åˆ†å¸ƒå¼å®‰è£…"><a href="#hadoopå®Œå…¨åˆ†å¸ƒå¼å®‰è£…" class="headerlink" title="hadoopå®Œå…¨åˆ†å¸ƒå¼å®‰è£…"></a>hadoopå®Œå…¨åˆ†å¸ƒå¼å®‰è£…</h3><h4 id="ä¸€ã€é…ç½®ä¸»æœºå"><a href="#ä¸€ã€é…ç½®ä¸»æœºå" class="headerlink" title="ä¸€ã€é…ç½®ä¸»æœºå"></a>ä¸€ã€é…ç½®ä¸»æœºå</h4><p>å‘½ä»¤ï¼šhostnamectl set-hostname [ä¸»æœºå]</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¿®æ”¹ä¸»æœºå</span></span><br><span class="line">[root@hadoop111 ~]# hostnamectl set-hostname hadoop111</span><br><span class="line"><span class="comment"># æŸ¥çœ‹ä¸»æœºå</span></span><br><span class="line">[root@hadoop111 ~]# hostname</span><br><span class="line">hadoop111</span><br></pre></td></tr></table></figure>

<h4 id="äºŒã€é…ç½®IPæ˜ å°„"><a href="#äºŒã€é…ç½®IPæ˜ å°„" class="headerlink" title="äºŒã€é…ç½®IPæ˜ å°„"></a>äºŒã€é…ç½®IPæ˜ å°„</h4><p>é…ç½®IPæ˜ å°„å‰,è¦æ˜ç¡®å½“å‰è™šæ‹Ÿæœºçš„IPå’Œä¸»æœºå</p>
<p>å‘½ä»¤ï¼švi &#x2F;etc&#x2F;hosts</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 ~]# vi /etc/hosts</span><br></pre></td></tr></table></figure>

<p>é…ç½®å†…å®¹ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4</span><br><span class="line">::1         localhost localhost.localdomain localhost6 localhost6.localdomain6</span><br><span class="line">localhost6.localdomain6</span><br><span class="line">192.168.137.133 hadoop111</span><br><span class="line">192.168.137.134 hadoop112</span><br><span class="line">192.168.137.135 hadoop113</span><br></pre></td></tr></table></figure>





<h4 id="ä¸‰ã€ç½‘ç»œå‚æ•°é…ç½®"><a href="#ä¸‰ã€ç½‘ç»œå‚æ•°é…ç½®" class="headerlink" title="ä¸‰ã€ç½‘ç»œå‚æ•°é…ç½®"></a>ä¸‰ã€ç½‘ç»œå‚æ•°é…ç½®</h4><p>å‰é¢,å¯¹è™šæ‹Ÿæœºçš„ä¸»æœºåå’ŒIPæ˜ å°„è¿›è¡Œäº†é…ç½®,è€Œæƒ³è¦è™šæ‹Ÿæœºèƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨,è¿˜éœ€è¦è¿›è¡Œç½‘ç»œå‚æ•°é…ç½®ã€‚</p>
<p>(1) æŸ¥çœ‹ç½‘ç»œæ˜¯å¦è¿é€š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 ~]# ping www.baidu.com</span><br><span class="line">PING www.a.shifen.com (183.2.172.185) 56(84) bytes of data.</span><br><span class="line">64 bytes from 183.2.172.185 (183.2.172.185): icmp_seq=1 ttl=128 <span class="keyword">time</span>=29.5 ms</span><br><span class="line">^C</span><br><span class="line">--- www.a.shifen.com ping statistics ---</span><br><span class="line">3 packets transmitted, 3 received, 0% packet loss, <span class="keyword">time</span> 2012ms</span><br><span class="line">rtt min/avg/max/mdev = 29.135/29.298/29.500/0.151 ms</span><br><span class="line">[root@hadoop111 ~]#</span><br></pre></td></tr></table></figure>



<p>(2)æŸ¥çœ‹MACåœ°å€ï¼ˆenteråé¢ï¼‰ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 ~]# ifconfig</span><br><span class="line">ens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 192.168.137.133  netmask 255.255.255.0  broadcast 192.168.137.255</span><br><span class="line">        inet6 fe80::6594:415e:4d5:72b8  prefixlen 64  scopeid 0x20&lt;<span class="built_in">link</span>&gt;</span><br><span class="line">        ether 00:0c:29:32:bf:50  txqueuelen 1000  (Ethernet)</span><br><span class="line">        RX packets 1414  bytes 148232 (144.7 KiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 998  bytes 100435 (98.0 KiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><br><span class="line">        loop  txqueuelen 1000  (Local Loopback)</span><br><span class="line">        RX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">virbr0: flags=4099&lt;UP,BROADCAST,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 192.168.122.1  netmask 255.255.255.0  broadcast 192.168.122.255</span><br><span class="line">        ether 52:54:00:20:1a:75  txqueuelen 1000  (Ethernet)</span><br><span class="line">        RX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ3ï¼‰ä¿®æ”¹ç½‘ç»œé…ç½®æ–‡ä»¶ï¼š</p>
<p>å‘½ä»¤ï¼š vim &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-ens33</p>
<ul>
<li>HWADDR:è¡¨ç¤ºè™šæ‹Ÿæœº MACåœ°å€,éœ€è¦ä¸å½“å‰è™šæ‹ŸæœºMACåœ°å€ä¸€è‡´;</li>
<li>IPADDR:è¡¨ç¤ºè™šæ‹Ÿæœºçš„IPåœ°å€,è¿™é‡Œè®¾ç½®çš„IPåœ°å€è¦ä¸å‰é¢IPæ˜ å°„é…ç½®æ—¶çš„IPåœ°å€ä¸€è‡´,å¦åˆ™æ— æ³•é€šè¿‡ä¸»æœºåæ‰¾åˆ°å¯¹åº”IP;</li>
<li>GATEWAY:è¡¨ç¤ºè™šæ‹Ÿæœºç½‘å…³,é€šå¸¸éƒ½æ˜¯å°†IPåœ°å€æœ€åä¸€ä½æ”¹æˆ2;</li>
<li>NETMASK:è¡¨ç¤ºè™šæ‹Ÿæœºå­ç½‘æ©ç ,é€šå¸¸éƒ½æ˜¯255.255.255.0;</li>
<li>DNS1:è¡¨ç¤ºåŸŸåè§£æå™¨,æ­¤å¤„é‡‡ç”¨Googleæä¾›çš„å…è´¹DNSæœåŠ¡å™¨8.8.8.8(ä¹Ÿå¯ä»¥è®¾ç½®ä¸ºPCç«¯ç”µè„‘å¯¹åº”çš„DNS)ã€‚</li>
</ul>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 ~]# vim /etc/sysconfig/network-scripts/ifcfg-ens33</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹å†…å®¹ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">TYPE=<span class="string">&quot;Ethernet&quot;</span></span><br><span class="line">PROXY_METHOD=<span class="string">&quot;none&quot;</span></span><br><span class="line">BROWSER_ONLY=<span class="string">&quot;no&quot;</span></span><br><span class="line">BOOTPROTO=<span class="string">&quot;static&quot;</span></span><br><span class="line">DEFROUTE=<span class="string">&quot;yes&quot;</span></span><br><span class="line">IPV4_FAILURE_FATAL=<span class="string">&quot;no&quot;</span></span><br><span class="line">IPV6INIT=<span class="string">&quot;yes&quot;</span></span><br><span class="line">IPV6_AUTOCONF=<span class="string">&quot;yes&quot;</span></span><br><span class="line">IPV6_DEFROUTE=<span class="string">&quot;yes&quot;</span></span><br><span class="line">IPV6_FAILURE_FATAL=<span class="string">&quot;no&quot;</span></span><br><span class="line">IPV6_ADDR_GEN_MODE=<span class="string">&quot;stable-privacy&quot;</span></span><br><span class="line">NAME=<span class="string">&quot;ens33&quot;</span></span><br><span class="line">UUID=<span class="string">&quot;7e054fea-e568-4406-8160-6b7c1d983be5&quot;</span></span><br><span class="line">DEVICE=<span class="string">&quot;ens33&quot;</span></span><br><span class="line">ONBOOT=<span class="string">&quot;yes&quot;</span></span><br><span class="line">HWADDR=<span class="string">&quot;00:0c:29:32:bf:50&quot;</span></span><br><span class="line">IPADDR=<span class="string">&quot;192.168.137.133&quot;</span></span><br><span class="line">GATEWAY=<span class="string">&quot;192.168.137.2&quot;</span></span><br><span class="line">NETMASK=<span class="string">&quot;255.255.255.0&quot;</span></span><br><span class="line">DNS1=<span class="string">&quot;8.8.8.8&quot;</span></span><br></pre></td></tr></table></figure>

<p>å†pingä¸€ä¸‹ç½‘æ˜¯å¦è¿é€šï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é‡å¯ç½‘ç»œ</span></span><br><span class="line">[root@hadoop111 ~]# systemctl restart network</span><br><span class="line"></span><br><span class="line">[root@hadoop111 ~]# ping www.baidu.com</span><br><span class="line">PING www.wshifen.com (104.193.88.123) 56(84) bytes of data.</span><br><span class="line">64 bytes from 104.193.88.123 (104.193.88.123): icmp_seq=1 ttl=128 <span class="keyword">time</span>=171 ms</span><br><span class="line">^C</span><br><span class="line">--- www.wshifen.com ping statistics ---</span><br><span class="line">2 packets transmitted, 1 received, 50% packet loss, <span class="keyword">time</span> 1002ms</span><br><span class="line">rtt min/avg/max/mdev = 171.776/171.776/171.776/0.000 ms</span><br><span class="line">[root@hadoop111 ~]#</span><br></pre></td></tr></table></figure>

<p>åŒæ ·æ–¹æ³•å…‹éš†ä¸¤å°è™šæ‹Ÿæœºå¦‚ä¸Šè®¾ç½®</p>
<h4 id="å››ã€SSHå…å¯†"><a href="#å››ã€SSHå…å¯†" class="headerlink" title="å››ã€SSHå…å¯†"></a>å››ã€SSHå…å¯†</h4><p>ï¼ˆ1ï¼‰é˜²ç«å¢™çš„æ“ä½œ</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€</span></span><br><span class="line">[root@hadoop111 ~]# systemctl status firewalld.service</span><br><span class="line">â— firewalld.service - firewalld - dynamic firewall daemon</span><br><span class="line">   Loaded: loaded (/usr/lib/systemd/system/firewalld.service; enabled; vendor preset: enabled)</span><br><span class="line">   Active: active (running) since ä¸€ 2023-12-04 14:37:22 CST; 10min ago</span><br><span class="line">     Docs: man:firewalld(1)</span><br><span class="line"> Main PID: 792 (firewalld)</span><br><span class="line">    Tasks: 2</span><br><span class="line">   CGroup: /system.slice/firewalld.service</span><br><span class="line">           â””â”€792 /usr/bin/python2 -Es /usr/sbin/firewalld --nofork --nopid</span><br><span class="line"></span><br><span class="line">12æœˆ 04 14:37:20 hadoop111 systemd[1]: Starting firewalld - dynamic firewall daemon...</span><br><span class="line">12æœˆ 04 14:37:22 hadoop111 systemd[1]: Started firewalld - dynamic firewall daemon.</span><br><span class="line">12æœˆ 04 14:37:22 hadoop111 firewalld[792]: WARNING: AllowZoneDrifting is enabled. ...w.</span><br><span class="line">Hint: Some lines were ellipsized, use -l to show <span class="keyword">in</span> full.</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³é—­é˜²ç«å¢™</span></span><br><span class="line">[root@hadoop111 ~]# systemctl stop firewalld.service</span><br><span class="line"><span class="comment"># å…³é—­é˜²ç«å¢™çš„è‡ªå¯åŠ¨(æ°¸ä¹…å…³é—­)</span></span><br><span class="line">[root@hadoop111 ~]# systemctl <span class="built_in">disable</span> firewalld.service</span><br><span class="line">Removed symlink /etc/systemd/system/multi-user.target.wants/firewalld.service.</span><br><span class="line">Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.</span><br><span class="line"><span class="comment"># é‡å¯ç½‘ç»œ</span></span><br><span class="line">[root@hadoop111 ~]# systemctl restart network</span><br></pre></td></tr></table></figure>



<p>(2) å…å¯†ç™»å½•åŸç†</p>
<img data-src="https://img-blog.csdnimg.cn/20210324224529347.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2NDEzMDY1,size_16,color_FFFFFF,t_70" alt="img"  />

<p>ç”Ÿæˆå¯†é’¥æ–‡ä»¶:</p>
<p>å‘½ä»¤ï¼šssh-keygen -t rsa</p>
<p>è¿ç»­æŒ‰4æ¬¡å›è½¦</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 ~]# ssh-keygen -t rsa</span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/root/.ssh/id_rsa):</span><br><span class="line">Created directory <span class="string">&#x27;/root/.ssh&#x27;</span>.</span><br><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase):</span><br><span class="line">Enter same passphrase again:</span><br><span class="line">Your identification has been saved <span class="keyword">in</span> /root/.ssh/id_rsa.</span><br><span class="line">Your public key has been saved <span class="keyword">in</span> /root/.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">SHA256:6rzN1cbKCPaQmOxTVgK8+Mmz59fCMDY7i5dEAh2FvGw root@hadoop111</span><br><span class="line">The key<span class="string">&#x27;s randomart image is:</span></span><br><span class="line"><span class="string">+---[RSA 2048]----+</span></span><br><span class="line"><span class="string">|   +.+.          |</span></span><br><span class="line"><span class="string">|  . *            |</span></span><br><span class="line"><span class="string">|   + +           |</span></span><br><span class="line"><span class="string">|  . E o .        |</span></span><br><span class="line"><span class="string">|   + + oS        |</span></span><br><span class="line"><span class="string">|   .=oOo   o     |</span></span><br><span class="line"><span class="string">|    +B*B .. +    |</span></span><br><span class="line"><span class="string">|   .o=**++.o     |</span></span><br><span class="line"><span class="string">|    o=*==.o      |</span></span><br><span class="line"><span class="string">+----[SHA256]-----+</span></span><br></pre></td></tr></table></figure>

<p>å°†æœ¬æœºå…¬é’¥æ–‡ä»¶å¤åˆ¶åˆ°å…¶ä»–è™šsshæ‹Ÿæœºä¸Š</p>
<p>å‘½ä»¤ï¼šssh-copy-id [ä¸»æœºå]</p>
<p>åœ¨hadoop200ä¸Šæ‰§è¡Œï¼Œå…ˆè¾“å…¥yesï¼Œåè¾“å…¥å¯¹åº”ä¸»æœºçš„å¯†ç ï¼Œä¸‰å°è™šæ‹Ÿæœºé…ç½®æ“ä½œç›¸åŒï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 ~]# ssh-copy-id hadoop111</span><br><span class="line">/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: <span class="string">&quot;/root/.ssh/id_rsa.pub&quot;</span></span><br><span class="line">The authenticity of host <span class="string">&#x27;hadoop111 (192.168.137.133)&#x27;</span> can<span class="string">&#x27;t be established.</span></span><br><span class="line"><span class="string">ECDSA key fingerprint is SHA256:Cj4xUYc6IsbQuoo7d+eu10SyayJ/Q1N0ZmlzjEmme/k.</span></span><br><span class="line"><span class="string">ECDSA key fingerprint is MD5:f3:ea:99:f7:71:c5:e5:4a:85:00:6f:8d:10:c9:42:0a.</span></span><br><span class="line"><span class="string">Are you sure you want to continue connecting (yes/no)? yes</span></span><br><span class="line"><span class="string">/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any                                                                    that are already installed</span></span><br><span class="line"><span class="string">/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now i                                                                   t is to install the new keys</span></span><br><span class="line"><span class="string">root@hadoop111&#x27;</span>s password:</span><br><span class="line"></span><br><span class="line">Number of key(s) added: 1</span><br><span class="line"></span><br><span class="line">Now try logging into the machine, with:   <span class="string">&quot;ssh &#x27;hadoop111&#x27;&quot;</span></span><br><span class="line">and check to make sure that only the key(s) you wanted were added.</span><br><span class="line"></span><br><span class="line">[root@hadoop111 ~]# ssh-copy-id hadoop112</span><br><span class="line">/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: <span class="string">&quot;/root/.ssh/id_rsa.pub&quot;</span></span><br><span class="line">The authenticity of host <span class="string">&#x27;hadoop112 (192.168.137.134)&#x27;</span> can<span class="string">&#x27;t be established.</span></span><br><span class="line"><span class="string">ECDSA key fingerprint is SHA256:Cj4xUYc6IsbQuoo7d+eu10SyayJ/Q1N0ZmlzjEmme/k.</span></span><br><span class="line"><span class="string">ECDSA key fingerprint is MD5:f3:ea:99:f7:71:c5:e5:4a:85:00:6f:8d:10:c9:42:0a.</span></span><br><span class="line"><span class="string">Are you sure you want to continue connecting (yes/no)? yes</span></span><br><span class="line"><span class="string">/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any                                                                    that are already installed</span></span><br><span class="line"><span class="string">/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now i                                                                   t is to install the new keys</span></span><br><span class="line"><span class="string">root@hadoop112&#x27;</span>s password:</span><br><span class="line"></span><br><span class="line">Number of key(s) added: 1</span><br><span class="line"></span><br><span class="line">Now try logging into the machine, with:   <span class="string">&quot;ssh &#x27;hadoop112&#x27;&quot;</span></span><br><span class="line">and check to make sure that only the key(s) you wanted were added.</span><br><span class="line"></span><br><span class="line">[root@hadoop111 ~]# ssh-copy-id hadoop113</span><br><span class="line">/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: <span class="string">&quot;/root/.ssh/id_rsa.pub&quot;</span></span><br><span class="line">The authenticity of host <span class="string">&#x27;hadoop113 (192.168.137.135)&#x27;</span> can<span class="string">&#x27;t be established.</span></span><br><span class="line"><span class="string">ECDSA key fingerprint is SHA256:Cj4xUYc6IsbQuoo7d+eu10SyayJ/Q1N0ZmlzjEmme/k.</span></span><br><span class="line"><span class="string">ECDSA key fingerprint is MD5:f3:ea:99:f7:71:c5:e5:4a:85:00:6f:8d:10:c9:42:0a.</span></span><br><span class="line"><span class="string">Are you sure you want to continue connecting (yes/no)? yes</span></span><br><span class="line"><span class="string">/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any                                                                    that are already installed</span></span><br><span class="line"><span class="string">/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now i                                                                   t is to install the new keys</span></span><br><span class="line"><span class="string">root@hadoop113&#x27;</span>s password:</span><br><span class="line"></span><br><span class="line">Number of key(s) added: 1</span><br><span class="line"></span><br><span class="line">Now try logging into the machine, with:   <span class="string">&quot;ssh &#x27;hadoop113&#x27;&quot;</span></span><br><span class="line">and check to make sure that only the key(s) you wanted were added.</span><br></pre></td></tr></table></figure>

<p>éªŒè¯æ˜¯å¦å…å¯†æˆåŠŸ</p>
<p>å‘½ä»¤ï¼šssh [ä¸»æœºå]</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 ~]# ssh hadoop112</span><br><span class="line">Last login: Mon Dec  4 14:38:54 2023 from 192.168.137.1</span><br><span class="line">[root@hadoop112 ~]# <span class="built_in">exit</span></span><br><span class="line">ç™»å‡º</span><br><span class="line">Connection to hadoop112 closed.</span><br></pre></td></tr></table></figure>

<p>.ssh æ–‡ä»¶å¤¹ä¸‹ ï¼ˆ~&#x2F;.ssh ï¼‰ çš„æ–‡ä»¶åŠŸèƒ½è§£é‡Š</p>
<img data-src="https://img-blog.csdnimg.cn/20210324223910846.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ2NDEzMDY1,size_16,color_FFFFFF,t_70" alt="img"  />



<h4 id="äº”ã€JDK-hadoopå®‰è£…"><a href="#äº”ã€JDK-hadoopå®‰è£…" class="headerlink" title="äº”ã€JDK&amp;hadoopå®‰è£…"></a>äº”ã€JDK&amp;hadoopå®‰è£…</h4><ol>
<li>æŸ¥çœ‹ç³»ç»Ÿè‡ªå¸¦çš„jdk</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 ~]# rpm -qa | grep -i java</span><br><span class="line">java-1.7.0-openjdk-headless-1.7.0.261-2.6.22.2.el7_8.x86_64</span><br><span class="line">python-javapackages-3.4.1-11.el7.noarch</span><br><span class="line">tzdata-java-2020a-1.el7.noarch</span><br><span class="line">java-1.8.0-openjdk-headless-1.8.0.262.b10-1.el7.x86_64</span><br><span class="line">java-1.8.0-openjdk-1.8.0.262.b10-1.el7.x86_64</span><br><span class="line">javapackages-tools-3.4.1-11.el7.noarch</span><br><span class="line">java-1.7.0-openjdk-1.7.0.261-2.6.22.2.el7_8.x86_64</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>å¦‚æœä¹‹å‰æ²¡åˆ›çš„è¯ï¼Œåˆ›å»ºè‡ªå·±çš„æ–°ç”¨æˆ· ï¼Œå¹¶ä¿®æ”¹æ–°ç”¨æˆ·ç”¨æˆ·çš„å¯†ç </li>
</ol>
<p>å‘½ä»¤ï¼šuseradd newname</p>
<p>â€‹			passwd newname</p>
<ol start="3">
<li>é…ç½® leokadia ç”¨æˆ·å…·æœ‰ root æƒé™ ï¼Œ æ–¹ä¾¿ åæœŸ åŠ  sudo æ‰§è¡Œ root æƒé™çš„å‘½ä»¤</li>
</ol>
<p>å‘½ä»¤ï¼švim &#x2F;etc&#x2F;sudoers</p>
<p>è¿›å…¥åï¼Œä¸‹ç¿»ï¼Œæ‰¾åˆ°å¦‚ä¸‹åœ°æ–¹</p>
<p>åœ¨%wheel è¿™è¡Œä¸‹é¢æ·»åŠ ä¸€è¡Œï¼Œå¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">yun   ALL=(ALL)     NOPASSWD:ALL</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„è¦è¾“å…¥ wq! ä¿å­˜å¹¶é€€å‡º</p>
<ol start="4">
<li>ç”¨ Xshell ä¼ è¾“å·¥å…·å°† JDK å¯¼å…¥åˆ° opt ç›®å½•ä¸‹é¢çš„ software æ–‡ä»¶å¤¹ä¸‹é¢</li>
</ol>
<p>å…ˆåœ¨optç›®å½•ä¸‹åˆ›å»ºsoftwareã€moduleç›®å½•</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 opt]# <span class="built_in">mkdir</span> software module</span><br><span class="line">[root@hadoop111 opt]# ll</span><br><span class="line">æ€»ç”¨é‡ 0</span><br><span class="line">drwxr-xr-x. 4 yun yun 31 11æœˆ 29 17:15 module</span><br><span class="line">drwxr-xr-x. 2 yun yun  6 10æœˆ 31 2018 rh</span><br><span class="line">drwxr-xr-x. 2 yun yun 67 11æœˆ 29 17:12 software</span><br></pre></td></tr></table></figure>

<p>å…ˆå¯ä»¥ä¹Ÿæå‰å°†Hadoopçš„å®‰è£…åŒ…ä¹Ÿä¸€èµ·ä¼ æ¥äº†</p>
<p> åœ¨opt &#x2F;softwareç›®å½•ä¸­æŸ¥çœ‹è½¯ä»¶åŒ…æ˜¯å¦å¯¼å…¥æˆåŠŸ</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 software]# ll</span><br><span class="line">æ€»ç”¨é‡ 515524</span><br><span class="line">-rw-r--r--. 1 yun yun 338075860 11æœˆ 29 17:13 hadoop-3.1.3.tar.gz</span><br><span class="line">-rw-r--r--. 1 yun yun 189815615 11æœˆ 29 17:12 jdk-8u162-linux-x64.tar.gz</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>è§£å‹ JDK&amp;hadoop åˆ°&#x2F;opt&#x2F;module ç›®å½•cdä¸‹</li>
</ol>
<p>å‘½ä»¤ï¼štar -zxvf jdk-8u162-linux-x64.tar.gz -C &#x2F;opt&#x2F;module&#x2F;</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 software]# tar -zxvf jdk-8u162-linux-x64.tar.gz -C /opt/module/</span><br><span class="line">[root@hadoop111 software]# tar -zxvf hadoop-3.1.3.tar.gz -C /opt/module/</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡æ¢ä¼š/opt/moduleç›®å½•ï¼ŒæŸ¥çœ‹ç›¸å…³å†…å®¹</span></span><br><span class="line">[root@hadoop111 opt]# ll</span><br><span class="line">æ€»ç”¨é‡ 0</span><br><span class="line">drwxr-xr-x. 4 yun yun 31 11æœˆ 29 17:15 module</span><br><span class="line">drwxr-xr-x. 2 yun yun  6 10æœˆ 31 2018 rh</span><br><span class="line">drwxr-xr-x. 2 yun yun 67 11æœˆ 29 17:12 software</span><br></pre></td></tr></table></figure>



<ol start="6">
<li>é…ç½® JDK &amp;hadoopç¯å¢ƒå˜é‡</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥ profile</span></span><br><span class="line">[root@hadoop111 etc]# vim /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="comment"># javaç¯å¢ƒé…ç½®</span></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/opt/module/jdk</span><br><span class="line"><span class="built_in">export</span> PATH=.:<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"><span class="comment"># hadoopç¯å¢ƒé…ç½®</span></span><br><span class="line"><span class="built_in">export</span> HADOOP_HOME=/opt/module/hadoop</span><br><span class="line"><span class="built_in">export</span> PATH=.:<span class="variable">$HADOOP_HOME</span>/bin:<span class="variable">$HADOOP_HOME</span>/sbin:<span class="variable">$PATH</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>source ä¸€ä¸‹&#x2F;etc&#x2F;profile æ–‡ä»¶ï¼Œè®©æ–°çš„ç¯å¢ƒå˜é‡ PATH ç”Ÿæ•ˆ</p>
<p>å‘½ä»¤ï¼šsource &#x2F;etc&#x2F;profile</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 etc]# <span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure>



<ol start="7">
<li>æµ‹è¯• JDK &amp;hadoopæ˜¯å¦å®‰è£…æˆåŠŸ</li>
</ol>
<p>å‘½ä»¤ï¼šjava</p>
<p>å‘½ä»¤ï¼šjava -version</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 etc]# java -version</span><br><span class="line">java version <span class="string">&quot;1.8.0_162&quot;</span></span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_162-b12)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.162-b12, mixed mode)</span><br></pre></td></tr></table></figure>

<p>å‘½ä»¤ï¼šhadoop version</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 etc]# hadoop version</span><br><span class="line">Hadoop 3.1.3</span><br><span class="line">Source code repository https://gitbox.apache.org/repos/asf/hadoop.git -r ba631c436b806728f8ec2f54ab1e289526c90579</span><br><span class="line">Compiled by ztang on 2019-09-12T02:47Z</span><br><span class="line">Compiled with protoc 2.5.0</span><br><span class="line">From <span class="built_in">source</span> with checksum ec785077c385118ac91aadde5ec9799</span><br><span class="line">This <span class="built_in">command</span> was run using /opt/module/hadoop/share/hadoop/common/hadoop-common-3.1.3.jar</span><br></pre></td></tr></table></figure>



<h4 id="å…­ã€ç¼–å†™é›†ç¾¤åˆ†å‘è„šæœ¬-xsync"><a href="#å…­ã€ç¼–å†™é›†ç¾¤åˆ†å‘è„šæœ¬-xsync" class="headerlink" title="å…­ã€ç¼–å†™é›†ç¾¤åˆ†å‘è„šæœ¬ xsync"></a>å…­ã€ç¼–å†™é›†ç¾¤åˆ†å‘è„šæœ¬ xsync</h4><ol>
<li>åœ¨&#x2F;binç›®å½•ä¸‹åˆ›å»º xsync æ–‡ä»¶</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 ~]# <span class="built_in">cd</span> bin</span><br><span class="line">[root@hadoop111 bin]# vim xsync</span><br></pre></td></tr></table></figure>

<p>åœ¨è¯¥æ–‡ä»¶ä¸­ç¼–å†™å¦‚ä¸‹å†…å®¹</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#1. åˆ¤æ–­å‚æ•°ä¸ªæ•°</span></span><br><span class="line"><span class="comment"># åˆ¤æ–­å‚æ•°æ˜¯å¦å°äº1</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$#</span> -lt 1 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> Not Enough Arguement!</span><br><span class="line">    <span class="built_in">exit</span>;</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#2. éå†é›†ç¾¤æ‰€æœ‰æœºå™¨</span></span><br><span class="line"><span class="comment"># å¯¹111ï¼Œ112ï¼Œ113éƒ½è¿›è¡Œåˆ†å‘</span></span><br><span class="line"><span class="keyword">for</span> host <span class="keyword">in</span> hadoop111 hadoop112 hadoop113</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">   <span class="built_in">echo</span> ====================  <span class="variable">$host</span>  ====================</span><br><span class="line">   <span class="comment">#3. éå†æ‰€æœ‰ç›®å½•ï¼ŒæŒ¨ä¸ªå‘é€</span></span><br><span class="line">   <span class="keyword">for</span> file <span class="keyword">in</span> <span class="variable">$@</span></span><br><span class="line">   <span class="keyword">do</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#4. åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">if</span> [ -e <span class="variable">$file</span> ]</span><br><span class="line">            <span class="keyword">then</span></span><br><span class="line">                <span class="comment">#5. è·å–çˆ¶ç›®å½•</span></span><br><span class="line">                pdir=$(<span class="built_in">cd</span> -P $(<span class="built_in">dirname</span> <span class="variable">$file</span>); <span class="built_in">pwd</span>)</span><br><span class="line"></span><br><span class="line">                <span class="comment">#6. è·å–å½“å‰æ–‡ä»¶çš„åç§°</span></span><br><span class="line">                fname=$(<span class="built_in">basename</span> <span class="variable">$file</span>)</span><br><span class="line">                ssh <span class="variable">$host</span> <span class="string">&quot;mkdir -p <span class="variable">$pdir</span>&quot;</span></span><br><span class="line">                rsync -av <span class="variable">$pdir</span>/<span class="variable">$fname</span> <span class="variable">$host</span>:<span class="variable">$pdir</span> </span><br><span class="line">            <span class="comment"># å¦‚æœä¸å­˜åœ¨</span></span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                <span class="built_in">echo</span> <span class="variable">$file</span> does not exists! </span><br><span class="line">        <span class="keyword">fi</span> </span><br><span class="line">    <span class="keyword">done</span> </span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ä¿®æ”¹è„šæœ¬ xsync å…·æœ‰æ‰§è¡Œæƒé™</li>
</ol>
<p>å‘½ä»¤ï¼šchmod +x xsync</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 bin]# ll</span><br><span class="line">æ€»ç”¨é‡ 4</span><br><span class="line">-rw-r--r--. 1 root root 874 12æœˆ  4 15:37 xsync</span><br><span class="line">[root@hadoop111 bin]# <span class="built_in">chmod</span> +x xsync</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>æµ‹è¯•è„šæœ¬</li>
</ol>
<p>å‘½ä»¤ï¼šxsync bin&#x2F;</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 ~]# xsync bin/</span><br><span class="line">==================== hadoop111 ====================</span><br><span class="line">sending incremental file list</span><br><span class="line"></span><br><span class="line">sent 80 bytes  received 17 bytes  194.00 bytes/sec</span><br><span class="line">total size is 874  speedup is 9.01</span><br><span class="line">==================== hadoop112 ====================</span><br><span class="line">sending incremental file list</span><br><span class="line">bin/</span><br><span class="line">bin/xsync</span><br><span class="line"></span><br><span class="line">sent 1,000 bytes  received 39 bytes  2,078.00 bytes/sec</span><br><span class="line">total size is 874  speedup is 0.84</span><br><span class="line">==================== hadoop113 ====================</span><br><span class="line">sending incremental file list</span><br><span class="line">bin/</span><br><span class="line">bin/xsync</span><br><span class="line"></span><br><span class="line">sent 1,000 bytes  received 39 bytes  2,078.00 bytes/sec</span><br><span class="line">total size is 874  speedup is 0.84</span><br></pre></td></tr></table></figure>

<p>åœ¨hadoop112ï¼Œhadoop113ä¸ŠéªŒè¯ï¼Œå‘ç°è„šæœ¬ä¼ è¾“æˆåŠŸ</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 ~]# ll</span><br><span class="line">æ€»ç”¨é‡ 8</span><br><span class="line">-rw-------. 1 root root 1734 11æœˆ 25 18:14 anaconda-ks.cfg</span><br><span class="line">drwxr-xr-x. 2 root root   19 12æœˆ  4 15:37 bin</span><br><span class="line">-rw-r--r--. 1 root root 1782 11æœˆ 25 18:16 initial-setup-ks.cfg</span><br><span class="line">drwxr-xr-x. 2 root root    6 11æœˆ 25 18:16 å…¬å…±</span><br><span class="line">drwxr-xr-x. 2 root root    6 11æœˆ 25 18:16 æ¨¡æ¿</span><br><span class="line">drwxr-xr-x. 2 root root    6 11æœˆ 25 18:16 è§†é¢‘</span><br><span class="line">drwxr-xr-x. 2 root root    6 11æœˆ 25 18:16 å›¾ç‰‡</span><br><span class="line">drwxr-xr-x. 2 root root    6 11æœˆ 25 18:16 æ–‡æ¡£</span><br><span class="line">drwxr-xr-x. 2 root root    6 11æœˆ 25 18:16 ä¸‹è½½</span><br><span class="line">drwxr-xr-x. 2 root root    6 11æœˆ 25 18:16 éŸ³ä¹</span><br><span class="line">drwxr-xr-x. 2 root root    6 11æœˆ 25 18:16 æ¡Œé¢</span><br></pre></td></tr></table></figure>

<p>â€¦â€¦â€¦</p>
<h4 id="ä¸ƒã€é›†ç¾¤é…ç½®"><a href="#ä¸ƒã€é›†ç¾¤é…ç½®" class="headerlink" title="ä¸ƒã€é›†ç¾¤é…ç½®"></a>ä¸ƒã€é›†ç¾¤é…ç½®</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"> [hadmin@master hadoop]$ vim hadoop-env.sh </span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹ä¸‹åˆ—å†…å®¹ï¼Œå¤§æ¦‚åœ¨55è¡Œå·¦å³ </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/opt/module/jdk</span><br></pre></td></tr></table></figure>



<ol>
<li>æ ¸å¿ƒé…ç½®æ–‡ä»¶</li>
</ol>
<p>é…ç½® core-site.xml</p>
<p>å‘½ä»¤ï¼šcd $HADOOP_HOME&#x2F;etc&#x2F;hadoop</p>
<p>å‘½ä»¤ï¼švim core-site.xml</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 ~]# <span class="built_in">cd</span> <span class="variable">$HADOOP_HOME</span>/etc/hadoop</span><br><span class="line">[root@hadoop111 hadoop]# vim core-site.xml</span><br></pre></td></tr></table></figure>

<p>é…ç½®å†…å®¹ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">&lt;!-- æŒ‡å®š NameNode çš„åœ°å€ --&gt;</span><br><span class="line">   &lt;property&gt;</span><br><span class="line">       &lt;name&gt;fs.defaultFS&lt;/name&gt;</span><br><span class="line">       &lt;value&gt;hdfs://hadoop111:8020&lt;/value&gt;</span><br><span class="line">   &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">   &lt;!-- æŒ‡å®š hadoop æ•°æ®çš„å­˜å‚¨ç›®å½• --&gt;</span><br><span class="line">   &lt;property&gt;</span><br><span class="line">       &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</span><br><span class="line">       &lt;value&gt;/opt/module/hadoop/data&lt;/value&gt;</span><br><span class="line">   &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">   &lt;!-- é…ç½® HDFS ç½‘é¡µç™»å½•ä½¿ç”¨çš„é™æ€ç”¨æˆ·ä¸º atguigu --&gt;</span><br><span class="line">   &lt;property&gt;</span><br><span class="line">       &lt;name&gt;hadoop.http.staticuser.user&lt;/name&gt;</span><br><span class="line">       &lt;value&gt;atguigu&lt;/value&gt;</span><br><span class="line">   &lt;/property&gt;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>HDFS é…ç½®æ–‡ä»¶</li>
</ol>
<p>å‘½ä»¤ï¼švim hdfs-site.xml</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 hadoop]# vim hdfs-site.xml</span><br></pre></td></tr></table></figure>

<p>é…ç½®å†…å®¹ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">&lt;!-- NameNode web ç«¯è®¿é—®åœ°å€--&gt;</span><br><span class="line"> &lt;property&gt;</span><br><span class="line">       &lt;name&gt;dfs.namenode.http-address&lt;/name&gt;</span><br><span class="line">       &lt;value&gt;hadoop111:9870&lt;/value&gt;</span><br><span class="line">   &lt;/property&gt;</span><br><span class="line"> &lt;!-- SecondaryNameNode web ç«¯è®¿é—®åœ°å€--&gt;</span><br><span class="line">   &lt;property&gt;</span><br><span class="line">       &lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;</span><br><span class="line">       &lt;value&gt;hadoop113:9868&lt;/value&gt;</span><br><span class="line">   &lt;/property&gt;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>YARN é…ç½®æ–‡ä»¶</li>
</ol>
<p>å‘½ä»¤ï¼švim yarn-site.xml</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 hadoop]# vim yarn-site.xml</span><br></pre></td></tr></table></figure>

<p>é…ç½®å†…å®¹ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">&lt;!-- æŒ‡å®š MR èµ° shuffle --&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;mapreduce_shuffle&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- æŒ‡å®š ResourceManager çš„åœ°å€--&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hadoop112&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- ç¯å¢ƒå˜é‡çš„ç»§æ‰¿ --&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;yarn.nodemanager.env-whitelist&lt;/name&gt;</span><br><span class="line"></span><br><span class="line">&lt;value&gt;JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>MapReduce é…ç½®æ–‡ä»¶</li>
</ol>
<p>å‘½ä»¤ï¼švim mapred-site.xml</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 hadoop]# vim mapred-site.xml</span><br></pre></td></tr></table></figure>

<p>é…ç½®å†…å®¹ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">&lt;!-- æŒ‡å®š MapReduce ç¨‹åºè¿è¡Œåœ¨ Yarn ä¸Š --&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;mapreduce.framework.name&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;yarn&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>éœ€è¦å°†è¿™ä¸ªé…ç½®æ–‡ä»¶åˆ†å‘ç»™hadoop112ï¼Œhadoop113</li>
</ol>
<p>åœ¨é›†ç¾¤ä¸Šåˆ†å‘é…ç½®å¥½çš„ Hadoop é…ç½®æ–‡ä»¶</p>
<p>å‘½ä»¤ï¼šxsync &#x2F;opt&#x2F;module&#x2F;hadoop&#x2F;etc&#x2F;hadoop&#x2F;</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 hadoop]# xsync /opt/module/hadoop/etc/hadoop/</span><br><span class="line">==================== hadoop111 ====================</span><br><span class="line">sending incremental file list</span><br><span class="line"></span><br><span class="line">sent 890 bytes  received 18 bytes  1,816.00 bytes/sec</span><br><span class="line">total size is 107,822  speedup is 118.75</span><br><span class="line">==================== hadoop112 ====================</span><br><span class="line">sending incremental file list</span><br><span class="line">hadoop/</span><br><span class="line">hadoop/core-site.xml</span><br><span class="line">hadoop/hdfs-site.xml</span><br><span class="line">hadoop/mapred-site.xml</span><br><span class="line">hadoop/yarn-site.xml</span><br><span class="line"></span><br><span class="line">sent 3,544 bytes  received 145 bytes  7,378.00 bytes/sec</span><br><span class="line">total size is 107,822  speedup is 29.23</span><br><span class="line">==================== hadoop113 ====================</span><br><span class="line">sending incremental file list</span><br><span class="line">hadoop/</span><br><span class="line">hadoop/core-site.xml</span><br><span class="line">hadoop/hdfs-site.xml</span><br><span class="line">hadoop/mapred-site.xml</span><br><span class="line">hadoop/yarn-site.xml</span><br><span class="line"></span><br><span class="line">sent 3,544 bytes  received 145 bytes  2,459.33 bytes/sec</span><br><span class="line">total size is 107,822  speedup is 29.23</span><br></pre></td></tr></table></figure>

<p>å»112 å’Œ 113 ä¸Š æŸ¥çœ‹æ–‡ä»¶åˆ†å‘æƒ…å†µ</p>
<p>å‘½ä»¤ï¼šcat &#x2F;opt&#x2F;module&#x2F;hadoop&#x2F;etc&#x2F;hadoop&#x2F;core-site.xml</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 ~]# <span class="built_in">cat</span> /opt/module/hadoop/etc/hadoop/core-site.xml</span><br><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;?xml-stylesheet <span class="built_in">type</span>=<span class="string">&quot;text/xsl&quot;</span> href=<span class="string">&quot;configuration.xsl&quot;</span>?&gt;</span><br><span class="line">&lt;!--</span><br><span class="line">  Licensed under the Apache License, Version 2.0 (the <span class="string">&quot;License&quot;</span>);</span><br><span class="line">  you may not use this file except <span class="keyword">in</span> compliance with the License.</span><br><span class="line">  You may obtain a copy of the License at</span><br><span class="line"></span><br><span class="line">    http://www.apache.org/licenses/LICENSE-2.0</span><br><span class="line"></span><br><span class="line">  Unless required by applicable law or agreed to <span class="keyword">in</span> writing, software</span><br><span class="line">  distributed under the License is distributed on an <span class="string">&quot;AS IS&quot;</span> BASIS,</span><br><span class="line">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span><br><span class="line">  See the License <span class="keyword">for</span> the specific language governing permissions and</span><br><span class="line">  limitations under the License. See accompanying LICENSE file.</span><br><span class="line">--&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Put site-specific property overrides <span class="keyword">in</span> this file. --&gt;</span><br><span class="line"></span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">   &lt;!-- æŒ‡å®š NameNode çš„åœ°å€ --&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;fs.defaultFS&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;hdfs://hadoop111:8020&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- æŒ‡å®š hadoop æ•°æ®çš„å­˜å‚¨ç›®å½• --&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;/opt/module/hadoop/data&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- é…ç½® HDFS ç½‘é¡µç™»å½•ä½¿ç”¨çš„é™æ€ç”¨æˆ·ä¸º atguigu --&gt;</span><br><span class="line">    &lt;property&gt;</span><br><span class="line">        &lt;name&gt;hadoop.http.staticuser.user&lt;/name&gt;</span><br><span class="line">        &lt;value&gt;atguigu&lt;/value&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>

<p>â€¦â€¦.</p>
<ol start="6">
<li>é…ç½® workers</li>
</ol>
<p>å‘½ä»¤ï¼šcd $HADOOP_HOME&#x2F;etc&#x2F;hadoop</p>
<p>å‘½ä»¤ï¼švim &#x2F;opt&#x2F;module&#x2F;hadoop&#x2F;etc&#x2F;hadoop&#x2F;workers</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 ~]# <span class="built_in">cd</span> <span class="variable">$HADOOP_HOME</span>/etc/hadoop</span><br><span class="line">[root@hadoop111 hadoop]# vim /opt/module/hadoop/etc/hadoop/workers</span><br></pre></td></tr></table></figure>

<p>åœ¨è¯¥æ–‡ä»¶ä¸­å¢åŠ å¦‚ä¸‹å†…å®¹ï¼šï¼ˆæœ‰å‡ ä¸ªèŠ‚ç‚¹å°±é…ç½®å‡ ä¸ªä¸»æœºåç§°ï¼‰</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">hadoop111</span><br><span class="line">hadoop112</span><br><span class="line">hadoop113</span><br></pre></td></tr></table></figure>

<p>åŒæ­¥æ‰€æœ‰èŠ‚ç‚¹é…ç½®æ–‡ä»¶</p>
<p>å‘½ä»¤ï¼šxsync &#x2F;opt&#x2F;module&#x2F;hadoop&#x2F;etc</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 hadoop]# xsync /opt/module/hadoop/etc</span><br><span class="line">==================== hadoop111 ====================</span><br><span class="line">sending incremental file list</span><br><span class="line">etc/hadoop/</span><br><span class="line">etc/hadoop/workers</span><br><span class="line"></span><br><span class="line">sent 999 bytes  received 51 bytes  2,100.00 bytes/sec</span><br><span class="line">total size is 107,842  speedup is 102.71</span><br><span class="line">==================== hadoop112 ====================</span><br><span class="line">sending incremental file list</span><br><span class="line"></span><br><span class="line">sent 919 bytes  received 19 bytes  625.33 bytes/sec</span><br><span class="line">total size is 107,842  speedup is 114.97</span><br><span class="line">==================== hadoop113 ====================</span><br><span class="line">sending incremental file list</span><br><span class="line">etc/hadoop/</span><br><span class="line">etc/hadoop/workers</span><br><span class="line"></span><br><span class="line">sent 999 bytes  received 51 bytes  700.00 bytes/sec</span><br><span class="line">total size is 107,842  speedup is 102.71</span><br></pre></td></tr></table></figure>

<p>åˆ†å‘é…ç½®ï¼Œå°†ä¸‰å°èŠ‚ç‚¹é…ç½®å®Œæ¯•ï¼Œå›åˆ°å®¶ç›®å½•ï¼Œå‡†å¤‡å¯åŠ¨é›†ç¾¤</p>
<p>æ³¨æ„å› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯root ç”¨æˆ·éœ€è¦é…ç½®profileå˜é‡</p>
<p>å‘½ä»¤ï¼švi &#x2F;etc&#x2F;profile</p>
<p>ç„¶ååœ¨æœ€åæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> HDFS_NAMENODE_USER=root</span><br><span class="line"><span class="built_in">export</span> HDFS_DATANODE_USER=root</span><br><span class="line"><span class="built_in">export</span> HDFS_SECONDARYNAMENODE_USER=root</span><br><span class="line"><span class="built_in">export</span> YARN_RESOURCEMANAGER_USER=root</span><br><span class="line"><span class="built_in">export</span> YARN_NODEMANAGER_USER=root</span><br></pre></td></tr></table></figure>

<p>æœ€åä½¿å…¶ç”Ÿæ•ˆ</p>
<p>å‘½ä»¤ï¼šsource &#x2F;etc&#x2F;profile</p>
<ol start="7">
<li>å¯åŠ¨é›†ç¾¤</li>
</ol>
<p>åˆå§‹åŒ–ï¼ˆæ³¨æ„ï¼šåªæœ‰ç¬¬ä¸€æ¬¡çš„æ—¶å€™æ‰éœ€è¦ï¼‰</p>
<p>å¦‚æœé›†ç¾¤æ˜¯ç¬¬ä¸€æ¬¡å¯åŠ¨ï¼Œéœ€è¦åœ¨ hadoop200 èŠ‚ç‚¹æ ¼å¼åŒ– NameNodeï¼ˆæ³¨æ„ï¼šæ ¼å¼åŒ– NameNodeï¼Œä¼šäº§ç”Ÿæ–°çš„é›†ç¾¤ idï¼Œå¯¼è‡´ NameNode å’Œ DataNode çš„é›†ç¾¤ id ä¸ä¸€è‡´ï¼Œé›†ç¾¤æ‰¾ä¸åˆ°å·²å¾€æ•°æ®ã€‚å¦‚æœé›†ç¾¤åœ¨è¿è¡Œè¿‡ç¨‹ä¸­æŠ¥é”™ï¼Œéœ€è¦é‡æ–°æ ¼å¼åŒ– NameNode çš„è¯ï¼Œä¸€å®šè¦å…ˆåœæ­¢ namenode å’Œ datanode è¿›ç¨‹ï¼Œå¹¶ä¸”è¦åˆ é™¤æ‰€æœ‰æœºå™¨çš„ data å’Œ logs ç›®å½•ï¼Œç„¶åå†è¿›è¡Œæ ¼å¼åŒ–ã€‚ï¼‰</p>
<p>å‘½ä»¤ï¼šhdfs namenode -format</p>
<p>åœæ­¢ namenode å’Œ datanode è¿›ç¨‹:</p>
<p>hdfs â€“daemon stop namenode</p>
<p>hdfs â€“daemon stop datanode</p>
<ol start="8">
<li>å¯åŠ¨ HDFS</li>
</ol>
<p>å‘½ä»¤ï¼šsbin&#x2F;start-dfs.sh</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop111 hadoop]# sbin/start-dfs.sh</span><br></pre></td></tr></table></figure>

<p>åœ¨é…ç½®äº† ResourceManager çš„èŠ‚ç‚¹ï¼ˆhadoop112 ï¼‰å¯åŠ¨ YARN</p>
<p>å‘½ä»¤ï¼šsbin&#x2F;start-yarn.sh</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop112 hadoop]# sbin/start-yarn.sh</span><br></pre></td></tr></table></figure>

<ol start="9">
<li><p>Web ç«¯æŸ¥çœ‹ HDFS çš„ NameNode </p>
<p>æµè§ˆå™¨ä¸­è¾“å…¥ï¼š<code>http://hadoop200:9870</code></p>
</li>
</ol>
<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601271703245.png" alt="image-20231127162838147"></p>
<ol start="10">
<li><p>Web ç«¯æŸ¥çœ‹ YARN çš„ ResourceManager</p>
<p>æµè§ˆå™¨ä¸­è¾“å…¥ï¼š<code>http://hadoop201:8088</code></p>
</li>
</ol>
<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601271727011.png" alt="image-20231127163034588"></p>
<h3 id="åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»ŸHDFS"><a href="#åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»ŸHDFS" class="headerlink" title="åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»ŸHDFS"></a>åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»ŸHDFS</h3><h4 id="ä¸€ã€HDFS-Shellå‘½ä»¤æ ¼å¼"><a href="#ä¸€ã€HDFS-Shellå‘½ä»¤æ ¼å¼" class="headerlink" title="ä¸€ã€HDFS Shellå‘½ä»¤æ ¼å¼"></a>ä¸€ã€HDFS Shellå‘½ä»¤æ ¼å¼</h4><p>åŸºç¡€å‘½åæ ¼å¼</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">hdfs dfs -æ“ä½œå‘½ä»¤ å‚æ•° å…·ä½“æ–‡ä»¶æˆ–è·¯å¾„</span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line">hadoop fs -æ“ä½œå‘½ä»¤ å‚æ•° å…·ä½“æ–‡ä»¶æˆ–è·¯å¾„</span><br></pre></td></tr></table></figure>



<h4 id="äºŒã€HDFS-Shell-å¸¸ç”¨æ“ä½œå‘½ä»¤"><a href="#äºŒã€HDFS-Shell-å¸¸ç”¨æ“ä½œå‘½ä»¤" class="headerlink" title="äºŒã€HDFS Shell å¸¸ç”¨æ“ä½œå‘½ä»¤"></a>äºŒã€HDFS Shell å¸¸ç”¨æ“ä½œå‘½ä»¤</h4><ol>
<li>å¸®åŠ©å‘½ä»¤</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop200 ~]# hdfs dfs -<span class="built_in">help</span> <span class="built_in">touch</span></span><br></pre></td></tr></table></figure>



<ol start="2">
<li>HDFSä¸­åˆ›å»ºç›®å½•å’ŒæŸ¥çœ‹ä¿¡æ¯</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop200 ~]# hdfs dfs -<span class="built_in">mkdir</span> /test</span><br></pre></td></tr></table></figure>



<ol start="3">
<li>HDFSä¸­åˆ›å»ºå¤šå±‚ç›®å½•</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop200 ~]# hdfs dfs -<span class="built_in">mkdir</span> -p /inpot/log</span><br></pre></td></tr></table></figure>



<ol start="4">
<li>ä¸Šä¼ ç›¸å…³ç´ æ HDFSåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿç´ æ.zip å¹¶è§£å‹</li>
</ol>
<p>unzip è´Ÿè´£è§£å‹ *.zipæ ¼å¼æ–‡ä»¶</p>
<p>-od å‚æ•°</p>
<p>.&#x2F; è¡¨ç¤ºéœ€è¦è§£å‹åˆ°å“ªé‡Œï¼Œ .&#x2F; çš„ä½œç”¨ä¸ºï¼šå½“å‰ç›®å½•</p>
<p>HDFSåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿç´ æ.zip è¡¨ç¤ºéœ€è¦è§£å‹çš„æ–‡ä»¶</p>
<p>å‘½ä»¤ï¼šunzip -od .&#x2F; HDFSåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿç´ æ.zip</p>
<ol start="5">
<li>HDFSçš„ä¸Šä¼ å‘½ä»¤</li>
</ol>
<p> ä¸Šä¼ å•ä¸ªæ–‡ä»¶</p>
<p> å‘½ä»¤ï¼šhdfs dfs -put ~&#x2F;NumberData.csv[éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶è·¯å¾„] &#x2F;inpot[ä¸Šä¼ åˆ°HDFS è·¯å¾„]</p>
<p> å¤šæ–‡ä»¶åŒæ—¶ä¸Šä¼  </p>
<p>å‘½ä»¤ï¼šhdfs dfs -put ~&#x2F;MI_StepCountData.csv ~&#x2F;inpot&#x2F;log</p>
<p>ä¸Šä¼ ç›®å½•æ“ä½œ</p>
<p>å‘½ä»¤ï¼šhdfs dfs -put ~&#x2F;inpot&#x2F; &#x2F;log</p>
<ol start="6">
<li>æŸ¥çœ‹æ•°æ®çš„ç›¸å…³å†…å®¹</li>
</ol>
<p>-cat æŸ¥çœ‹æ–‡ä»¶çš„ç›¸å…³å†…å®¹(å…¨éƒ¨)</p>
<p>å‘½ä»¤ï¼šhdfs dfs -cat &#x2F;test&#x2F;User01.csv</p>
<p>-cat æŸ¥çœ‹æ–‡ä»¶çš„ç›¸å…³å†…å®¹(å…¨éƒ¨)</p>
<p>å‘½ä»¤ï¼šhdfs dfs -cat &#x2F;test&#x2F;User01.csv</p>
<p>å¦‚æœæƒ³æŸ¥çœ‹å†…å®¹çš„åé¢Nè¡Œæ•°æ®</p>
<p>å‘½ä»¤ï¼šhdfs dfs -cat &#x2F;test&#x2F;User01.csv | tail -5</p>
<p>å¦‚æœæˆ‘æƒ³çŸ¥é“å½“å‰æ–‡ä»¶çš„å†…å®¹ä¸€å…±æœ‰å¤šå°‘è¡Œæ•°æ®ï¼Ÿ </p>
<p>æ·»åŠ ç®¡é“ç¬¦ | wc -l, wc -l æ˜¯3ä¸ªå•è¯ç»„æˆï¼šWord Count Lines </p>
<p>å‘½ä»¤ï¼šhdfs dfs -cat &#x2F;test&#x2F;User01.csv | wc -l</p>
<ol start="7">
<li>æŸ¥çœ‹æ–‡ä»¶å¤§å°å’ŒæŸ¥æ‰¾æ–‡ä»¶å‘½ä»¤</li>
</ol>
<p> -du æŸ¥çœ‹æŒ‡å®šç›®å½•æ¯ä¸ªæ–‡ä»¶çš„å¤§å°(å•ä½ä¸ºï¼šå­—èŠ‚(Byte)) </p>
<p>å‘½ä»¤ï¼šhdfs dfs -du &#x2F;TemporaryData</p>
<p> -find æœç´¢ç›¸å…³æ–‡ä»¶ï¼Œ åœ¨å“ªé‡Œæœç´¢(è·¯å¾„) -name æœç´¢çš„æ–‡ä»¶åå­— </p>
<p>å‘½ä»¤ï¼šhdfs dfs -find &#x2F; -name U*</p>
<ol start="8">
<li>æŸ¥çœ‹HDFSæ–‡ä»¶ç³»ç»Ÿçš„ç£ç›˜ä½¿ç”¨æƒ…å†µ</li>
</ol>
<p>å‘½ä»¤ï¼šhdfs dfs -df</p>
<ol start="9">
<li>å°†HDFSä¸­çš„æ•°æ®ä¸‹è½½åˆ°æœ¬åœ°</li>
</ol>
<p>å‘½ä»¤ï¼šhdfs dfs -get &#x2F;test&#x2F;User01.csv &#x2F;home&#x2F;yun&#x2F;MyData.csv</p>
<ol start="10">
<li>åˆ é™¤ç©ºç›®å½•</li>
</ol>
<p>å‘½ä»¤ï¼šhdfs dfs -rmdir &#x2F;inpot&#x2F;log&#x2F;Log</p>
<ol start="11">
<li>åˆ é™¤æ–‡ä»¶å’Œåˆ é™¤æŒ‡å®šç›®å½•åŠå…¶æ‰€æœ‰å­ç›®å½•ä¸æ–‡ä»¶</li>
</ol>
<p>åˆ é™¤å•ä¸ªæ–‡ä»¶ </p>
<p>å‘½ä»¤ï¼š hdfs dfs -rm &#x2F;test&#x2F;User01.csv Deleted &#x2F;test&#x2F;User01.csv </p>
<p> åˆ é™¤ç›®å½•åŠå…¶å­ç›®å½•ä¸æ–‡ä»¶ </p>
<p>å‘½ä»¤ï¼šhdfs dfs -rm -r &#x2F;WriteOnlyDataSet Deleted &#x2F;WriteOnlyDataSet</p>
<h3 id="ScalaåŸºç¡€"><a href="#ScalaåŸºç¡€" class="headerlink" title="ScalaåŸºç¡€"></a>ScalaåŸºç¡€</h3><h4 id="ä¸€ã€scalaç±»å’Œå¯¹è±¡"><a href="#ä¸€ã€scalaç±»å’Œå¯¹è±¡" class="headerlink" title="ä¸€ã€scalaç±»å’Œå¯¹è±¡"></a>ä¸€ã€scalaç±»å’Œå¯¹è±¡</h4><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Scala:</span></span><br><span class="line"><span class="comment"> * 1.Scala objectç›¸å½“äºJavaä¸­çš„å•åˆ—ã€‚objectä¸­å®šä¹‰çš„å…¨æ˜¯é™æ€çš„ã€‚ç›¸å½“äºJavaçš„å·¥å…·ç±»ã€‚ Objectä¸å¯ä»¥ä¼ å‚ï¼Œ(å¯¹è±¡è¦ä¼ å‚ï¼Œä½¿ç”¨applyæ–¹æ³•)</span></span><br><span class="line"><span class="comment"> * 2.Scala ä¸­å®šä¹‰å˜é‡ä½¿ç”¨varï¼Œå®šä¹‰å¸¸é‡ä½¿ç”¨valï¼Œå˜é‡å¯å˜ï¼Œå¸¸é‡ä¸å¯å˜ï¼Œå˜é‡å’Œå¸¸é‡ç±»å‹å¯ä»¥çœç•¥ä¸å†™ï¼Œä¼šè‡ªåŠ¨æ¨æ–­ã€‚</span></span><br><span class="line"><span class="comment"> * 3.Scala ä¸­æ¯è¡Œåé¢éƒ½ä¼šæœ‰åˆ†å·è‡ªåŠ¨æ¨æ–­æœºåˆ¶ï¼Œä¸ç”¨æ˜¾ç¤ºå†™å‡ºâ€œ;â€</span></span><br><span class="line"><span class="comment"> * 4.å»ºè®®åœ¨Scalaä¸­å‘½åä½¿ç”¨é©¼å³°å‘½åæ³•ã€‚</span></span><br><span class="line"><span class="comment"> * 5.Scala ç±»ä¸­å¯ä»¥ä¼ å‚ï¼Œä¼ å‚ä¸€å®šè¦æŒ‡å®šç±»å‹ï¼Œæœ‰äº†å‚æ•°å°±æœ‰äº†é»˜è®¤äº†æ„é€ ã€‚ç±»ä¸­çš„å±æ€§é»˜è®¤æœ‰getterå’Œsetteræ–¹æ³•</span></span><br><span class="line"><span class="comment"> * 6.ç±»ä¸­é‡æ–°æ„é€ æ˜¯ï¼Œæ„é€ ä¸­ç¬¬ä¸€è¡Œå¿…é¡»å…ˆè°ƒç”¨é»˜è®¤çš„æ„é€  def this(....)&#123;....&#125;</span></span><br><span class="line"><span class="comment"> * 7.Scala ä¸­å½“new class æ—¶ï¼Œç±»ä¸­é™¤äº†æ–¹æ³•ä¸æ‰§è¡Œã€é™¤äº†æ„é€ æ–¹æ³•ã€‘å…¶ä»–éƒ½æ‰§è¡Œ</span></span><br><span class="line"><span class="comment"> * 8.åœ¨åŒä¸€ä¸ªScalaæ–‡ä»¶ä¸­ï¼Œclassåç§°å’ŒObjectåç§°ä¸€æ ·æ—¶ï¼Œè¿™ä¸ªç±»å«åšè¿™ä¸ªå¯¹è±¡çš„ä¼´ç”Ÿç±»ï¼Œè¿™ä¸ªå¯¹è±¡å«åšè¿™ä¸ªå¯¹è±¡çš„ä¼´ç”Ÿå¯¹è±¡ã€‚ä»–ä»¬ä¹‹é—´å¯ä»¥ç›¸äº’è®¿é—®ç§æœ‰å˜é‡</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">xname :<span class="type">String</span>, xage: <span class="type">Int</span></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">val</span> name = xname</span><br><span class="line">  <span class="keyword">var</span> age = xage</span><br><span class="line">  <span class="keyword">var</span> gender = &#x27;<span class="type">M</span>&#x27;</span><br><span class="line"></span><br><span class="line">  println(<span class="string">&quot;***** Persion Class *****&quot;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(yname:<span class="type">String</span>, yage:<span class="type">Int</span>, ygender:<span class="type">Char</span>)&#123;</span><br><span class="line">    <span class="keyword">this</span>(yname, yage)</span><br><span class="line">    <span class="keyword">this</span>.gender = ygender</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sayName</span></span>():<span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">&quot;hello world....&quot;</span> + <span class="type">Lesson_ClassAndObj</span>.name)</span><br><span class="line">  &#125;</span><br><span class="line">  println(<span class="string">&quot;=======Persion Class======&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Lesson_ClassAndObj</span> </span>&#123;</span><br><span class="line">  println(<span class="string">&quot;#####Lesson_ClassAndObj######&quot;</span>)</span><br><span class="line">  <span class="keyword">val</span> name = <span class="string">&quot;wangwu&quot;</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args:<span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> p = <span class="keyword">new</span> <span class="type">Person</span>(xname = <span class="string">&quot;zhangsan&quot;</span>, xage = <span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//    println(p.gender)</span></span><br><span class="line"><span class="comment">//    val p1 = new Person(&quot;libai&quot;,18,&#x27;F&#x27;)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    println(p1.gender)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    p.age = 200</span></span><br><span class="line"><span class="comment">//    println(p.name)</span></span><br><span class="line"><span class="comment">//    println(p.age)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    p.sayName()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//println(&quot;hello world&quot;)</span></span><br><span class="line"><span class="comment">//    val a = 100</span></span><br><span class="line">    <span class="comment">////    var b = 200</span></span><br><span class="line">    <span class="comment">////    b = 300</span></span><br><span class="line">    <span class="comment">////    println(b)</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="äºŒã€scalaç®€å•è¯­æ³•"><a href="#äºŒã€scalaç®€å•è¯­æ³•" class="headerlink" title="äºŒã€scalaç®€å•è¯­æ³•"></a>äºŒã€scalaç®€å•è¯­æ³•</h4><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">scala_å­—ç¬¦ä¸²å’Œé›†åˆ01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(array:<span class="type">Array</span>[<span class="type">String</span>]):<span class="type">Unit</span>=&#123;</span><br><span class="line">    <span class="keyword">val</span> s = <span class="string">&quot;bjsxt&quot;</span></span><br><span class="line">    <span class="keyword">val</span> s1 = <span class="string">&quot;BJSXT&quot;</span></span><br><span class="line"></span><br><span class="line">    println(s.indexOf(<span class="number">98</span>))    <span class="comment">// 97:a  65:A  è¿”å›ä¸‹æ ‡ æ²¡æœ‰ä¸º-1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    println(s.equals(s1))</span></span><br><span class="line"><span class="comment">//    println(s.equalsIgnoreCase(s1))</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="ä¸‰ã€scalaå­—ç¬¦ä¸²-é›†åˆ"><a href="#ä¸‰ã€scalaå­—ç¬¦ä¸²-é›†åˆ" class="headerlink" title="ä¸‰ã€scalaå­—ç¬¦ä¸²&amp;é›†åˆ"></a>ä¸‰ã€scalaå­—ç¬¦ä¸²&amp;é›†åˆ</h4><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">scala_å­—ç¬¦ä¸²å’Œé›†åˆ02</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> arr = <span class="type">Array</span>[<span class="type">String</span>]( <span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span>)</span><br><span class="line"><span class="comment">//    arr.foreach(println)  //1.</span></span><br><span class="line"><span class="comment">//    arr.foreach(s=&gt;println(s))  //2.</span></span><br><span class="line"><span class="comment">//    for (i&lt;-arr)&#123;   //3.</span></span><br><span class="line"><span class="comment">//      println(i)</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val arr1 = new Array[Int](3)</span></span><br><span class="line"><span class="comment">//    arr1(0) = 100</span></span><br><span class="line"><span class="comment">//    arr1(1) = 200</span></span><br><span class="line"><span class="comment">//    arr1(2) = 300</span></span><br><span class="line"><span class="comment">//    arr1.foreach(println)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val array = new Array[Array[Int]](3)</span></span><br><span class="line"><span class="comment">//    array(0) = Array[Int](1,2,3)</span></span><br><span class="line"><span class="comment">//    array(1) = Array[Int](4,5,6)</span></span><br><span class="line"><span class="comment">//    array(2) = Array[Int](7,8,9)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.</span></span><br><span class="line"><span class="comment">//    for(i&lt;-array)&#123;</span></span><br><span class="line"><span class="comment">//      for(j&lt;-i)&#123;</span></span><br><span class="line"><span class="comment">//        println(j)</span></span><br><span class="line"><span class="comment">//      &#125;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.</span></span><br><span class="line"><span class="comment">//    for (i&lt;-array; j&lt;-i)&#123;</span></span><br><span class="line"><span class="comment">//        println(j)</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.</span></span><br><span class="line"><span class="comment">//    array.foreach(arr=&gt;&#123;arr.foreach(println)&#125;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val arr3 = Array[String](&quot;q&quot;,&quot;w&quot;,&quot;e&quot;,&quot;r&quot;)</span></span><br><span class="line"><span class="comment">//    val arr4 = Array[String](&quot;t&quot;,&quot;y&quot;,&quot;u&quot;)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    val arrays: Array[String] = Array.concat(arr3,arr4)</span></span><br><span class="line"><span class="comment">//    arrays.foreach(println)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val array: Array[String] = Array.fill(5)(&quot;hello&quot;)</span></span><br><span class="line"><span class="comment">//    array.foreach(println)</span></span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">scala_å­—ç¬¦ä¸²å’Œé›†åˆ03</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> arr =<span class="type">ArrayBuffer</span>[<span class="type">Int</span>](<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">    arr.+=(<span class="number">4</span>)</span><br><span class="line">    arr.+=:(<span class="number">100</span>)</span><br><span class="line">    arr.append(<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>)</span><br><span class="line">    arr.foreach(println)</span><br><span class="line"></span><br><span class="line"><span class="comment">//    import scala.collection.mutable.ArrayBuffer</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">scala_å­—ç¬¦ä¸²å’Œé›†åˆ04</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"><span class="comment">//    val list = List[Int](1,2,3)</span></span><br><span class="line"><span class="comment">//    list.foreach(println)  //1.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    for(i &lt;- list)&#123;    //2.</span></span><br><span class="line"><span class="comment">//      println(i)</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> list = <span class="type">List</span>[<span class="type">String</span>](<span class="string">&quot;hello scala&quot;</span>,<span class="string">&quot;hello java&quot;</span>,<span class="string">&quot;hello python&quot;</span>)</span><br><span class="line">    list.map()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="å››ã€scalaå¾ªç¯"><a href="#å››ã€scalaå¾ªç¯" class="headerlink" title="å››ã€scalaå¾ªç¯"></a>å››ã€scalaå¾ªç¯</h4><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">scala_å¾ªç¯</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args:<span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  * if...else...</span></span><br><span class="line"><span class="comment">  * */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val age = 88</span></span><br><span class="line"><span class="comment">//    if(age&lt;=20)&#123;</span></span><br><span class="line"><span class="comment">//      println(&quot;age&lt;20&quot;)</span></span><br><span class="line"><span class="comment">//    &#125;else if(age&gt;20&amp;&amp;age&lt;=30)&#123;</span></span><br><span class="line"><span class="comment">//      println(&quot;20&lt;age&lt;=30&quot;)</span></span><br><span class="line"><span class="comment">//    &#125;else&#123;</span></span><br><span class="line"><span class="comment">//      println(&quot;age&gt;30&quot;)</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  * for</span></span><br><span class="line"><span class="comment">  * */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1 to (10, 2)</span></span><br><span class="line">    <span class="keyword">val</span> r = <span class="number">1.</span>to(<span class="number">10</span>,<span class="number">2</span>)</span><br><span class="line">    println(r)</span><br><span class="line"><span class="comment">//    // 1 until 10</span></span><br><span class="line"><span class="comment">//    val r1 = 1 until 10</span></span><br><span class="line"><span class="comment">//    println(r1)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    for (i &lt;- 1.to(10,2))&#123;</span></span><br><span class="line"><span class="comment">//      println(i)</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°ä¹ä¹</span></span><br><span class="line"><span class="comment">//    for (i &lt;- 1 until 10)&#123;</span></span><br><span class="line"><span class="comment">//      for(j &lt;- 1 until 10)&#123;</span></span><br><span class="line"><span class="comment">//        if(i&gt;=j)&#123;</span></span><br><span class="line"><span class="comment">//          print(i+&quot;*&quot;+j+&quot;=&quot;+i*j+&quot;\t&quot;)</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//        if(i==j)&#123;</span></span><br><span class="line"><span class="comment">//          println()</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//      &#125;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    for(i &lt;- 1 until 10; j &lt;- 1 until 10)&#123;</span></span><br><span class="line"><span class="comment">//      if(i&gt;=j)&#123;</span></span><br><span class="line"><span class="comment">//        print(i+&quot;*&quot;+j+&quot;=&quot;+i*j+&quot;\t&quot;)</span></span><br><span class="line"><span class="comment">//      &#125;</span></span><br><span class="line"><span class="comment">//      if(i==j)&#123;</span></span><br><span class="line"><span class="comment">//        println()</span></span><br><span class="line"><span class="comment">//      &#125;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    for(i &lt;- 1 to 100; if(i &gt; 50); if(i%5==0))&#123;</span></span><br><span class="line"><span class="comment">//      println(i)</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val result = for(i &lt;- 1 to 100; if(i &gt; 50); if(i%5==0)) yield i</span></span><br><span class="line"><span class="comment">//    println(result)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  * while</span></span><br><span class="line"><span class="comment">  * do...while...</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="comment">//    var i = 0</span></span><br><span class="line"><span class="comment">//    while(i&lt;10)&#123;</span></span><br><span class="line"><span class="comment">//      println(s&quot;ç¬¬ $i æ¬¡æ±‚å©šã€‚ã€‚ã€‚ã€‚&quot;)</span></span><br><span class="line"><span class="comment">//      i += 1</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> y = <span class="number">0</span></span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">      println(<span class="string">&quot;ç¬¬&quot;</span>+y+<span class="string">&quot;æ¬¡æ±‚å©šï¼ï¼ï¼ï¼&quot;</span>)</span><br><span class="line">      y += <span class="number">1</span></span><br><span class="line">    &#125;<span class="keyword">while</span>(y&lt;<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="äº”ã€scalaæ–¹æ³•çš„å®šä¹‰"><a href="#äº”ã€scalaæ–¹æ³•çš„å®šä¹‰" class="headerlink" title="äº”ã€scalaæ–¹æ³•çš„å®šä¹‰"></a>äº”ã€scalaæ–¹æ³•çš„å®šä¹‰</h4><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">scala_æ–¹æ³•çš„å®šä¹‰</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 1.æ–¹æ³•å®šä¹‰ï¼š</span></span><br><span class="line"><span class="comment">     *  1).æ–¹æ³•ä½“ä¸­æœ€åè¿”å›å€¼å¯ä»¥ä½¿ç”¨return,å¦‚æœä½¿ç”¨äº†return,é‚£ä¹ˆæ–¹æ³•ä½“çš„è¿”å›å€¼ç±»å‹ä¸€å®šè¦æŒ‡å®š</span></span><br><span class="line"><span class="comment">     *  2).å¦‚æœæ–¹æ³•ä½“ä¸­æ²¡æœ‰return,é»˜è®¤å°†æ–¹æ³•ä½“ä¸­æœ€åä¸€è¡Œè®¡ç®—çš„ç»“æœå½“åšè¿”å›å€¼è¿”å›ã€‚æ–¹æ³•ä½“çš„è¿”å›å€¼ç±»å‹å¯ä»¥çœç•¥ï¼Œä¼šè‡ªåŠ¨æ¨æ–­è¿”å›å€¼ç±»å‹</span></span><br><span class="line"><span class="comment">     *  3).å®šä¹‰æ–¹æ³•ä¼ å…¥çš„å‚æ•°ä¸€å®šè¦æŒ‡å®šç±»å‹</span></span><br><span class="line"><span class="comment">     *  4).æ–¹æ³•çš„æ–¹æ³•ä½“å¦‚æœå¯ä»¥ä¸€è¡Œæå®šï¼Œé‚£ä¹ˆæ–¹æ³•çš„â€&#123;...&#125;â€œå¯ä»¥çœç•¥</span></span><br><span class="line"><span class="comment">     *  5).å¦‚æœå®šä¹‰æ–¹æ³•æ—¶ï¼Œçœç•¥äº†æ–¹æ³•åç§°å’Œæ–¹æ³•ä½“ä¹‹é—´çš„â€=â€œï¼Œé‚£ä¹ˆæ— è®ºæ–¹æ³•ä½“æœ€åä¸€è¡Œè®¡ç®—çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Œéƒ½ä¼šè¢«ä¸¢å¼ƒï¼Œè¿”å›Unit</span></span><br><span class="line"><span class="comment">     *  6).def å®šä¹‰æ–¹æ³•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    def max(a:Int, b:Int): Int = &#123;</span></span><br><span class="line"><span class="comment">//      if(a&gt;b)&#123;</span></span><br><span class="line"><span class="comment">//         return a</span></span><br><span class="line"><span class="comment">//      &#125;else&#123;</span></span><br><span class="line"><span class="comment">//         return b</span></span><br><span class="line"><span class="comment">//      &#125;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">max</span></span>(a:<span class="type">Int</span>, b:<span class="type">Int</span>): <span class="type">Int</span> = <span class="keyword">if</span>(a&gt;b) a <span class="keyword">else</span> b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> result: <span class="type">Int</span> = max(<span class="number">100</span>, <span class="number">20</span>)</span><br><span class="line">    println(result)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="å…­ã€scalaé€’å½’"><a href="#å…­ã€scalaé€’å½’" class="headerlink" title="å…­ã€scalaé€’å½’"></a>å…­ã€scalaé€’å½’</h4><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.<span class="type">Date</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">scala_é€’å½’æ–¹æ³•</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(array: <span class="type">Array</span>[<span class="type">String</span>]) : <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 1.é€’å½’æ–¹æ³•</span></span><br><span class="line"><span class="comment">   *  é€’å½’æ–¹æ³•è¦æ˜¾ç¤ºçš„å£°æ˜å‡½æ•°çš„è¿”å›å€¼ç±»å‹</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    def fun(num:Int):Int=&#123;</span></span><br><span class="line"><span class="comment">//      if(num==1)&#123;</span></span><br><span class="line"><span class="comment">//        1</span></span><br><span class="line"><span class="comment">//      &#125;else&#123;</span></span><br><span class="line"><span class="comment">//        num*fun(num-1)</span></span><br><span class="line"><span class="comment">//      &#125;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    println(fun(5))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 2.å‚æ•°æœ‰é»˜è®¤å€¼å¾—æ–¹æ³•</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    def fun(a:Int=10,b:Int=20)=&#123;</span></span><br><span class="line"><span class="comment">//      a+b</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">////    println(fun(100,200))</span></span><br><span class="line"><span class="comment">////    println(fun(100))</span></span><br><span class="line"><span class="comment">//    println(fun(b=100))</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 3.å¯å˜é•¿å‚æ•°çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="comment">//    def fun(s:String*)=&#123;</span></span><br><span class="line"><span class="comment">//      // =&gt; åŒ¿åå‡½æ•°</span></span><br><span class="line"><span class="comment">//      s.foreach(i=&gt;&#123;println(i)&#125;)</span></span><br><span class="line"><span class="comment">////      for(i&lt;-s)&#123;</span></span><br><span class="line"><span class="comment">////        println(i)</span></span><br><span class="line"><span class="comment">////      &#125;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    def fun(s:String*)=&#123;</span></span><br><span class="line"><span class="comment">//      s.foreach(println)</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    fun(&quot;hello&quot;,&quot;a&quot;,&quot;b&quot;,&quot;c&quot;)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/***</span></span><br><span class="line"><span class="comment">     * 4.åŒ¿åå‡½æ•°</span></span><br><span class="line"><span class="comment">     * â€=&gt;â€œ å°±æ˜¯åŒ¿åå‡½æ•°ï¼Œå¤šç”¨äºæ–¹æ³•çš„å‚æ•°æ˜¯å‡½æ•°æ—¶ï¼Œå¸¸ç”¨åŒ¿åå‡½æ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    def fun1(a:Int,b:Int)=&#123;</span></span><br><span class="line"><span class="comment">//      a+b</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    def fun = (a:Int,b:Int)=&gt;&#123;</span></span><br><span class="line"><span class="comment">//      a+b</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    println(fun(2,3))</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 5.åµŒå¥—æ–¹æ³•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="comment">//    def fun(num:Int)=&#123;</span></span><br><span class="line"><span class="comment">//      def fun1(a:Int):Int=&#123;</span></span><br><span class="line"><span class="comment">//        if(a==1)&#123;</span></span><br><span class="line"><span class="comment">//          1</span></span><br><span class="line"><span class="comment">//        &#125;else&#123;</span></span><br><span class="line"><span class="comment">//          a*fun1(a-1)</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//      &#125;</span></span><br><span class="line"><span class="comment">//      fun1(num)</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    println(fun(5))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 6.ååº”ç”¨å‡½æ•°</span></span><br><span class="line"><span class="comment">   *  æŸäº›æƒ…å†µä¸‹ï¼Œæ–¹æ³•ä¸­å‚æ•°éå¸¸å¤šï¼Œè°ƒç”¨è¿™ä¸ªæ–¹æ³•éå¸¸é¢‘ç¹ï¼Œæ¯æ¬¡æ¡ç”¨åªæœ‰å›ºå®šçš„æŸä¸ªå˜åŒ–ï¼Œå¯ä»¥å®šä¹‰ååº”ç”¨æ¥å®ç°</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="comment">//    def showLog(date:Date,log:String)=&#123;</span></span><br><span class="line"><span class="comment">//      println(s&quot;date is $date   , log is $log&quot;)</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    val date = new Date()</span></span><br><span class="line"><span class="comment">//    showLog(date, &quot;a&quot;)</span></span><br><span class="line"><span class="comment">//    showLog(date, &quot;b&quot;)</span></span><br><span class="line"><span class="comment">//    showLog(date, &quot;c&quot;)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    def fun = showLog(date,_:String)</span></span><br><span class="line"><span class="comment">//    fun(&quot;aaa&quot;)</span></span><br><span class="line"><span class="comment">//    fun(&quot;bbb&quot;)</span></span><br><span class="line"><span class="comment">//    fun(&quot;ccc&quot;)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 7.é«˜é˜¶å‡½æ•°</span></span><br><span class="line"><span class="comment">     *  1).æ–¹æ³•çš„å‚æ•°æ˜¯å‡½æ•°</span></span><br><span class="line"><span class="comment">     *  2).æ–¹æ³•çš„è¿”å›æ˜¯å‡½æ•°  &lt;å¿…é¡»è¦æ˜¾ç¤ºçš„å†™å‡ºæ–¹æ³•çš„è¿”å›å€¼ç±»å‹&gt;,åŠ  _ å°±å¯ä»¥ä¸æ˜¾ç¤ºçš„å£°æ˜æ–¹æ³•çš„è¿”å›å€¼ç±»å‹</span></span><br><span class="line"><span class="comment">     *  3).æ–¹æ³•çš„å‚æ•°å’Œè¿”å›éƒ½æ˜¯å‡½æ•°</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.æ–¹æ³•çš„å‚æ•°æ˜¯å‡½æ•°</span></span><br><span class="line"><span class="comment">//    def fun(a:Int,b:Int):Int=&#123;</span></span><br><span class="line"><span class="comment">//      a+b</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    def fun1(f:(Int,Int)=&gt;Int,s:String)=&#123;</span></span><br><span class="line"><span class="comment">//      val i: Int = f(100,200)</span></span><br><span class="line"><span class="comment">//      i+&quot;#&quot;+s</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    val result = fun1(fun,&quot;scala&quot;)</span></span><br><span class="line"><span class="comment">//    println(result)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//    def fun1(f:(Int,Int)=&gt;Int,s:String)=&#123;</span></span><br><span class="line"><span class="comment">//      val i: Int = f(100,200)</span></span><br><span class="line"><span class="comment">//      i+&quot;#&quot;+s</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    val result = fun1((a:Int,b:Int)=&gt;&#123;a*b&#125;,&quot;scala&quot;)</span></span><br><span class="line"><span class="comment">//    println(result)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2.æ–¹æ³•çš„è¿”å›æ˜¯å‡½æ•°</span></span><br><span class="line"><span class="comment">//    def fun(s:String):(String,String)=&gt;String = &#123;</span></span><br><span class="line"><span class="comment">//      def fun1(s1:String, s2:String): String= &#123;</span></span><br><span class="line"><span class="comment">//        s1 + &quot;&amp;&quot;+s2+&quot;#&quot;+s</span></span><br><span class="line"><span class="comment">//      &#125;</span></span><br><span class="line"><span class="comment">//      fun1</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    println(fun(&quot;a&quot;)(&quot;b&quot;,&quot;c&quot;))</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//3.æ–¹æ³•çš„å‚æ•°å’Œè¿”å›å€¼éƒ½æ˜¯å‡½æ•°</span></span><br><span class="line"><span class="comment">//    def fun(f:(Int,Int)=&gt;Int):(String,String)=&gt;String = &#123;</span></span><br><span class="line"><span class="comment">//      val i: Int = f(1,2)</span></span><br><span class="line"><span class="comment">//      def fun1(s1:String,s2:String):String = &#123;</span></span><br><span class="line"><span class="comment">//        s1+&quot;@&quot;+s2+&quot;*&quot;+i</span></span><br><span class="line"><span class="comment">//      &#125;</span></span><br><span class="line"><span class="comment">//      fun1</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    println(fun((a,b)=&gt;&#123;a+b&#125;)(&quot;hello&quot;,&quot;world&quot;))</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 8.æŸ¯é‡ŒåŒ–å‡½æ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="comment">//    def fun(a:Int,b:Int)(c:Int,d:Int)=&#123;</span></span><br><span class="line"><span class="comment">//      a+b+c+d</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    println(fun(1,2)(3,4))</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="ä¸ƒã€å­—ç¬¦ä¸²-é›†åˆ"><a href="#ä¸ƒã€å­—ç¬¦ä¸²-é›†åˆ" class="headerlink" title="ä¸ƒã€å­—ç¬¦ä¸²&amp;é›†åˆ"></a>ä¸ƒã€å­—ç¬¦ä¸²&amp;é›†åˆ</h4><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">scala_å­—ç¬¦ä¸²å’Œé›†åˆ01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(array:<span class="type">Array</span>[<span class="type">String</span>]):<span class="type">Unit</span>=&#123;</span><br><span class="line">    <span class="keyword">val</span> s = <span class="string">&quot;bjsxt&quot;</span></span><br><span class="line">    <span class="keyword">val</span> s1 = <span class="string">&quot;BJSXT&quot;</span></span><br><span class="line"></span><br><span class="line">    println(s.indexOf(<span class="number">98</span>))    <span class="comment">// 97:a  65:A  è¿”å›ä¸‹æ ‡ æ²¡æœ‰ä¸º-1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    println(s.equals(s1))</span></span><br><span class="line"><span class="comment">//    println(s.equalsIgnoreCase(s1))</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">scala_å­—ç¬¦ä¸²å’Œé›†åˆ02</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> arr = <span class="type">Array</span>[<span class="type">String</span>]( <span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span>)</span><br><span class="line"><span class="comment">//    arr.foreach(println)  //1.</span></span><br><span class="line"><span class="comment">//    arr.foreach(s=&gt;println(s))  //2.</span></span><br><span class="line"><span class="comment">//    for (i&lt;-arr)&#123;   //3.</span></span><br><span class="line"><span class="comment">//      println(i)</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val arr1 = new Array[Int](3)</span></span><br><span class="line"><span class="comment">//    arr1(0) = 100</span></span><br><span class="line"><span class="comment">//    arr1(1) = 200</span></span><br><span class="line"><span class="comment">//    arr1(2) = 300</span></span><br><span class="line"><span class="comment">//    arr1.foreach(println)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val array = new Array[Array[Int]](3)</span></span><br><span class="line"><span class="comment">//    array(0) = Array[Int](1,2,3)</span></span><br><span class="line"><span class="comment">//    array(1) = Array[Int](4,5,6)</span></span><br><span class="line"><span class="comment">//    array(2) = Array[Int](7,8,9)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.</span></span><br><span class="line"><span class="comment">//    for(i&lt;-array)&#123;</span></span><br><span class="line"><span class="comment">//      for(j&lt;-i)&#123;</span></span><br><span class="line"><span class="comment">//        println(j)</span></span><br><span class="line"><span class="comment">//      &#125;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.</span></span><br><span class="line"><span class="comment">//    for (i&lt;-array; j&lt;-i)&#123;</span></span><br><span class="line"><span class="comment">//        println(j)</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.</span></span><br><span class="line"><span class="comment">//    array.foreach(arr=&gt;&#123;arr.foreach(println)&#125;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val arr3 = Array[String](&quot;q&quot;,&quot;w&quot;,&quot;e&quot;,&quot;r&quot;)</span></span><br><span class="line"><span class="comment">//    val arr4 = Array[String](&quot;t&quot;,&quot;y&quot;,&quot;u&quot;)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    val arrays: Array[String] = Array.concat(arr3,arr4)</span></span><br><span class="line"><span class="comment">//    arrays.foreach(println)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val array: Array[String] = Array.fill(5)(&quot;hello&quot;)</span></span><br><span class="line"><span class="comment">//    array.foreach(println)</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">scala_å­—ç¬¦ä¸²å’Œé›†åˆ03</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> arr =<span class="type">ArrayBuffer</span>[<span class="type">Int</span>](<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">    arr.+=(<span class="number">4</span>)</span><br><span class="line">    arr.+=:(<span class="number">100</span>)</span><br><span class="line">    arr.append(<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>)</span><br><span class="line">    arr.foreach(println)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//    import scala.collection.mutable.ArrayBuffer</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>List</strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ListBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">scala_List</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"><span class="comment">//    val list = List[Int](1,2,3)</span></span><br><span class="line"><span class="comment">//    list.foreach(println)  //1.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    for(i &lt;- list)&#123;    //2.</span></span><br><span class="line"><span class="comment">//      println(i)</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val list = List[String](&quot;hello scala&quot;, &quot;hello java&quot;, &quot;hello python&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val result: List[Array[String]] = list.map(s =&gt; &#123;</span></span><br><span class="line"><span class="comment">//      s.split(&quot; &quot;)</span></span><br><span class="line"><span class="comment">//    &#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val i: Int = list.count(s=&gt; &#123;</span></span><br><span class="line"><span class="comment">//      s.length &lt; 4</span></span><br><span class="line"><span class="comment">//    &#125;)</span></span><br><span class="line"><span class="comment">//    println(i)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val result: List[String] = list.flatMap(s=&gt;(s.split(&quot;  &quot;)))</span></span><br><span class="line"><span class="comment">//    result.foreach(println)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    result.foreach(arr =&gt; &#123;</span></span><br><span class="line"><span class="comment">//      println(&quot;æ–°çš„æ•°ç»„&quot;)</span></span><br><span class="line"><span class="comment">//      arr.foreach(println)</span></span><br><span class="line"><span class="comment">//    &#125;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> list = <span class="type">ListBuffer</span>[<span class="type">Int</span>](<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">    list.append(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)  <span class="comment">// è¿½åŠ </span></span><br><span class="line">    list.+=:(<span class="number">100</span>)   <span class="comment">// åŠ åˆ°å¤´éƒ¨</span></span><br><span class="line">    list.foreach(println)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>Set</strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">Set</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">scala_Set</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"><span class="comment">//    val set = Set[Int](1,2,3,4)</span></span><br><span class="line"><span class="comment">//    val set1 = Set[Int](3,4,5,6,7)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val result: Set[Int] = set.intersect(set1)  // å–ç›¸äº¤çš„</span></span><br><span class="line"><span class="comment">//    result.foreach(println)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val result: Set[Int] = set1.diff(set)   // å–ç›¸å·®çš„</span></span><br><span class="line"><span class="comment">//    result.foreach(println)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val result = set &amp; set1</span></span><br><span class="line"><span class="comment">//    result.foreach(println)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val result = set &amp; set1</span></span><br><span class="line"><span class="comment">//    result.foreach(println)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val ints: Set[Int] = set.filter(i =&gt; &#123;</span></span><br><span class="line"><span class="comment">//      i &gt;= 2</span></span><br><span class="line"><span class="comment">//    &#125;)</span></span><br><span class="line"><span class="comment">//    ints.foreach(println)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// éå†1</span></span><br><span class="line"><span class="comment">//    for(i&lt;-set)&#123;</span></span><br><span class="line"><span class="comment">//      println(i)</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">    <span class="comment">// éå†2</span></span><br><span class="line"><span class="comment">//    set.foreach(println)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯å˜é•¿çš„set</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> set = <span class="type">Set</span>[<span class="type">Int</span>](<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="comment">//    val ints: mutable.Set[Int] = set.+=(100)</span></span><br><span class="line">    set.+=(<span class="number">100</span>)</span><br><span class="line">    set.foreach(println)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">import</span> scala.collection.immutable</span><br><span class="line">    <span class="keyword">val</span> set1 = <span class="type">Set</span>[<span class="type">String</span>](<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>Map</strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">scala_Map</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¸å¯å˜map</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line"><span class="comment">//    val map = Map[String,Int](&quot;a&quot;-&gt;100,&quot;b&quot;-&gt;200,(&quot;c&quot;,300),(&quot;c&quot;,400))  // ä¼šå»é‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val x: Option[Int] = map.get(&quot;a&quot;)</span></span><br><span class="line"><span class="comment">//    println(x)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    val y: Int = map.get(&quot;b&quot;).get</span></span><br><span class="line"><span class="comment">//    println(y)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    val z = map.get(&quot;aa&quot;).getOrElse(&quot;æ²¡æœ‰å¯¹åº”çš„å€¼&quot;)</span></span><br><span class="line"><span class="comment">//    println(z)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val keys: Iterable[String] = map.keys</span></span><br><span class="line"><span class="comment">//    keys.foreach(key=&gt;&#123;</span></span><br><span class="line"><span class="comment">//      val value = map.get(key).get</span></span><br><span class="line"><span class="comment">//      println(s&quot;key= $key, value = $value&quot;)</span></span><br><span class="line"><span class="comment">//    &#125;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val values: Iterable[Int] = map.values</span></span><br><span class="line"><span class="comment">//    values.foreach(println)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//    println(map)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// éå†1</span></span><br><span class="line"><span class="comment">//    map.foreach(println)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// éå†2</span></span><br><span class="line"><span class="comment">//    for (i &lt;- map)&#123;</span></span><br><span class="line"><span class="comment">//      println(i)</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val map1 = Map[String,Int]((&quot;a&quot;,1),(&quot;b&quot;,2),(&quot;c&quot;,3),(&quot;d&quot;,4))</span></span><br><span class="line"><span class="comment">//    val map2= Map[String,Int]((&quot;a&quot;,100),(&quot;b&quot;,2),(&quot;c&quot;,300),(&quot;e&quot;,500))</span></span><br><span class="line"><span class="comment">//    val x: Map[String, Int] = map1.++(map2)  //map2æ›¿æ¢map1</span></span><br><span class="line"><span class="comment">//    x.foreach(println)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    println(&quot;==================&quot;)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    val y: Map[String, Int] = map1.++:(map2)  //map1æ›¿æ¢map2</span></span><br><span class="line"><span class="comment">//    y.foreach(println)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯å˜map</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="keyword">import</span> scala.collection.mutable.<span class="type">Map</span></span><br><span class="line">    <span class="keyword">val</span> map = <span class="type">Map</span>[<span class="type">String</span>,<span class="type">Int</span>]()</span><br><span class="line">    map.put(<span class="string">&quot;a&quot;</span>,<span class="number">100</span>)</span><br><span class="line">    map.put(<span class="string">&quot;b&quot;</span>,<span class="number">200</span>)</span><br><span class="line"><span class="comment">//    map.foreach(println)</span></span><br><span class="line">    <span class="keyword">val</span> result: mutable.<span class="type">Map</span>[<span class="type">String</span>, <span class="type">Int</span>] = map.filter(tp=&gt;&#123;</span><br><span class="line">      <span class="keyword">val</span> key = tp._1</span><br><span class="line">      <span class="keyword">val</span> value = tp._2</span><br><span class="line">      value == <span class="number">200</span></span><br><span class="line">    &#125;)</span><br><span class="line">    result.foreach(println)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>Tuple_å…ƒç»„</strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å…ƒç»„æœ€å¤šæ”¯æŒ22ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">scala_Tuple_å…ƒç»„</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> tuple1: <span class="type">Tuple1</span>[<span class="type">String</span>] = <span class="keyword">new</span> <span class="type">Tuple1</span>(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> tuple2: (<span class="type">String</span>, <span class="type">Int</span>) = <span class="keyword">new</span> <span class="type">Tuple2</span>(<span class="string">&quot;a&quot;</span>,<span class="number">100</span>)</span><br><span class="line">    <span class="keyword">val</span> tuple3: (<span class="type">Int</span>, <span class="type">Boolean</span>, <span class="type">Char</span>) = <span class="keyword">new</span> <span class="type">Tuple3</span>(<span class="number">1</span>,<span class="literal">true</span>,&#x27;<span class="type">C</span>&#x27;)</span><br><span class="line">    <span class="keyword">val</span> tuple4: (<span class="type">Int</span>, <span class="type">Double</span>, <span class="type">String</span>, <span class="type">Boolean</span>) = <span class="keyword">new</span> <span class="type">Tuple4</span>(<span class="number">1</span>,<span class="number">3.4</span>,<span class="string">&quot;abc&quot;</span>,<span class="literal">false</span>)</span><br><span class="line">    <span class="keyword">val</span> tuple6: (<span class="type">Int</span>,<span class="type">Int</span>,<span class="type">Int</span>,<span class="type">Int</span>,<span class="type">Int</span>,<span class="type">String</span>) = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="string">&quot;abc&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> tuple22 = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">12</span>,<span class="string">&quot;abc&quot;</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>,<span class="number">17</span>,<span class="number">18</span>,<span class="number">19</span>,<span class="number">20</span>,<span class="number">21</span>,<span class="number">22</span>)</span><br><span class="line">    <span class="keyword">val</span> x: <span class="type">String</span> = tuple22._13</span><br><span class="line"><span class="comment">//    println(x)</span></span><br><span class="line"></span><br><span class="line">    println(tuple2.swap)  <span class="comment">//åè½¬ åªæœ‰tuple2æœ‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    println(tuple4)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val iter: Iterator[Any] = tuple6.productIterator</span></span><br><span class="line"><span class="comment">////    iter.foreach(println)  // 1</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">////    while (iter.hasNext)&#123;  // 2</span></span><br><span class="line"><span class="comment">////      println(iter.next())</span></span><br><span class="line"><span class="comment">////    &#125;</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>Trait</strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¸€ä¸ªç»§æ‰¿å¤šä¸ªtraitæ—¶ï¼Œç¬¬ä¸€ä¸ªå…³é”®å­—ä½¿ç”¨extendsï¼Œä¹‹åä½¿ç”¨with</span></span><br><span class="line"><span class="comment"> * trait ä¸å¯ä»¥ä¼ å‚</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Read</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">read</span></span>(name:<span class="type">String</span>)=&#123;</span><br><span class="line">    println(<span class="string">s&quot;<span class="subst">$name</span> is reading...&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Listen</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">listen</span></span>(name:<span class="type">String</span>) =&#123;</span><br><span class="line">    println(<span class="string">s&quot;<span class="subst">$name</span> is listening...&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»§æ‰¿ ç¬¬ä¸€ä¸ªç”¨extendsï¼Œåé¢çš„éƒ½ç”¨with</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Human</span>(<span class="params"></span>) <span class="keyword">extends</span> <span class="title">Read</span> <span class="keyword">with</span> <span class="title">Listen</span></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">scala_Trait1</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> h = <span class="keyword">new</span> <span class="type">Human</span>()</span><br><span class="line">    h.read(<span class="string">&quot;å¼ ä¸‰&quot;</span>)</span><br><span class="line">    h.listen(<span class="string">&quot;æå››&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Traitä¸­å¯ä»¥æœ‰æ–¹æ³•ä½“çš„å®ç°æˆ–è€…æ–¹æ³•ä½“çš„ä¸å®ç°ï¼Œç±»ç»§æ‰¿äº†Traitè¦å®ç°Traitä¸­æ²¡æœ‰å®ç°çš„å‘æ”¾</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">IsEquale</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">isEqu</span></span>(o:<span class="type">Any</span>):<span class="type">Boolean</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">isNotEqu</span></span>(o:<span class="type">Any</span>):<span class="type">Boolean</span> = !isEqu(o)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span>(<span class="params">xx:<span class="type">Int</span>,xy:<span class="type">Int</span></span>) <span class="keyword">extends</span> <span class="title">IsEquale</span> </span>&#123;</span><br><span class="line">  <span class="keyword">val</span> x = xx</span><br><span class="line">  <span class="keyword">val</span> y = xy</span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">isEqu</span></span>(o: <span class="type">Any</span>): <span class="type">Boolean</span> = &#123;</span><br><span class="line">    o.isInstanceOf[<span class="type">Point</span>] &amp;&amp; o.asInstanceOf[<span class="type">Point</span>].x==<span class="keyword">this</span>.x</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">scala_Trait2</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> p1 = <span class="keyword">new</span> <span class="type">Point</span>(xx = <span class="number">1</span>, xy = <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">val</span> p2 = <span class="keyword">new</span> <span class="type">Point</span>(xx = <span class="number">1</span>, xy = <span class="number">3</span>)</span><br><span class="line"><span class="comment">//    println(p1.isEqu(p2))</span></span><br><span class="line">    println(p1.isNotEqu(p2))</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>Matchæ¨¡å¼åŒ¹é…</strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Match æ¨¡å¼åŒ¹é…</span></span><br><span class="line"><span class="comment"> *  1. case _ ä»€ä¹ˆéƒ½åŒ¹é…ä¸ä¸ŠåŒ¹é…ï¼Œæ”¾åœ¨æœ€å</span></span><br><span class="line"><span class="comment"> *  2. match å¯ä»¥åŒ¹é…å€¼è¿˜å¯ä»¥æ‰¹åˆ¤ç±»å‹</span></span><br><span class="line"><span class="comment"> *  3. åŒ¹é…è¿‡ç¨‹ä¸­ä¼šæœ‰æ•°å€¼çš„è½¬æ¢</span></span><br><span class="line"><span class="comment"> *  4. ä»ä¸Šå¾€ä¸‹åŒ¹é…ï¼ŒåŒ¹é…ä¹‹åä¼šè‡ªåŠ¨ç»ˆæ­¢</span></span><br><span class="line"><span class="comment"> *  5.æ¨¡å¼åŒ¹é…å¤–éƒ¨çš„â€œ&#123;...&#125;â€å¯ä»¥çœç•¥</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">scala_Matchæ¨¡å¼åŒ¹é…</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">   <span class="keyword">val</span> tp = (<span class="number">1</span>,<span class="number">1.2</span>,<span class="string">&quot;abc&quot;</span>,&#x27;a&#x27;,<span class="literal">true</span>)</span><br><span class="line">    <span class="keyword">val</span> iter: <span class="type">Iterator</span>[<span class="type">Any</span>] = tp.productIterator</span><br><span class="line">    iter.foreach(<span class="type">MatchTest</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">MatchTest</span></span>(o:<span class="type">Any</span>) =&#123;</span><br><span class="line">      o <span class="keyword">match</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>=&gt; println(<span class="string">&quot;value is 1&quot;</span>)</span><br><span class="line">        <span class="keyword">case</span> i:<span class="type">Int</span> =&gt; println(<span class="string">s&quot;type is Int, value = <span class="subst">$i</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">case</span> d:<span class="type">Double</span> =&gt; println(<span class="string">s&quot;type is Int, value = <span class="subst">$d</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">case</span> s:<span class="type">String</span>=&gt; println(<span class="string">s&quot;type is Int, value = <span class="subst">$s</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">case</span> &#x27;a&#x27; =&gt; println(<span class="string">&quot;value is c&quot;</span>)</span><br><span class="line">        <span class="keyword">case</span> _=&gt; &#123;println(<span class="string">&quot;no match...&quot;</span>)&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>PartiaFunæ¨¡å¼åŒ¹é…_åå‡½æ•°</strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åå‡½æ•°ï¼Œåªèƒ½åŒ¹é…ä¸€ä¸ªå€¼ï¼ŒåŒ¹é…ä¸Šäº†æ”¾å›æŸä¸ªå€¼</span></span><br><span class="line"><span class="comment"> * PartialFunction[A,B] Aæ˜¯åŒ¹é…çš„ç±»å‹ï¼ŒBæ˜¯åŒ¹é…ä¸Šè¿”å›çš„ç±»å‹</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">scala_PartiaFunæ¨¡å¼åŒ¹é…_åå‡½æ•°</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">MyTest</span></span>: <span class="type">PartialFunction</span>[<span class="type">String</span>,<span class="type">Int</span>] =&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;abc&quot;</span>=&gt;<span class="number">2</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;a&quot;</span>=&gt;<span class="number">1</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;b&quot;</span>=&gt;<span class="number">2</span></span><br><span class="line">    <span class="keyword">case</span> _=&gt;<span class="number">200</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"><span class="comment">//    val result: Int = MyTest(&quot;abc&quot;)</span></span><br><span class="line"><span class="comment">//    println(result)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> result: <span class="type">Int</span> = <span class="type">MyTest</span>(<span class="string">&quot;abcb&quot;</span>)</span><br><span class="line">    println(result)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>CaseClass_æ ·ä¾‹ç±»</strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">Personl</span>(<span class="params">var name:<span class="type">String</span>, age:<span class="type">Int</span></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">scala_CaseClass_æ ·ä¾‹ç±»</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> p1 = <span class="keyword">new</span> <span class="type">Personl</span>(<span class="string">&quot;å¼ ä¸‰&quot;</span>,<span class="number">18</span>)</span><br><span class="line">    <span class="keyword">val</span> p2 = <span class="keyword">new</span> <span class="type">Personl</span>(<span class="string">&quot;å¼ ä¸‰&quot;</span>,<span class="number">18</span>)</span><br><span class="line">    println(p1.equals(p2))</span><br><span class="line">    println(p1)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å…«ã€éšå¼è½¬æ¢"><a href="#å…«ã€éšå¼è½¬æ¢" class="headerlink" title="å…«ã€éšå¼è½¬æ¢"></a>å…«ã€éšå¼è½¬æ¢</h4><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">scala_ImlicitTrans_éšå¼å‡½æ•°</span> </span>&#123;</span><br><span class="line"><span class="comment">//  def sayName(implicit name:String)=&#123;</span></span><br><span class="line"><span class="comment">//    println(s&quot;$name is a student....&quot;)</span></span><br><span class="line"><span class="comment">//  &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sayName</span></span>(age:<span class="type">Int</span>)(<span class="keyword">implicit</span> name:<span class="type">String</span>)=&#123;</span><br><span class="line">      println(<span class="string">s&quot;<span class="subst">$name</span> is a student, age = <span class="subst">$age</span>....&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">implicit</span> <span class="keyword">val</span> name:<span class="type">String</span> = <span class="string">&quot;å¼ ä¸‰&quot;</span></span><br><span class="line"><span class="comment">//    sayName(&quot;æå››&quot;)</span></span><br><span class="line"><span class="comment">//    sayName</span></span><br><span class="line"></span><br><span class="line">    sayName(<span class="number">18</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>(<span class="params">name:<span class="type">String</span></span>)</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">canFiy</span></span>()=&#123;</span><br><span class="line">    println(<span class="string">s&quot;<span class="subst">$name</span> can fly...&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rabbit</span>(<span class="params">xname:<span class="type">String</span></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">val</span> name = xname</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">scala_ImlicitTrans_éšå¼å‡½æ•°1</span> </span>&#123;</span><br><span class="line">  <span class="keyword">implicit</span> <span class="function"><span class="keyword">def</span> <span class="title">RabbitToAnimal</span></span>(r:<span class="type">Rabbit</span>):<span class="type">Animal</span> =&#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="type">Animal</span>(r.name)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//  implicit def RTOA(r:Rabbit):Animal =&#123;  // ä¸èƒ½å‡ºç°ç›¸åŒç±»å‹</span></span><br><span class="line">  <span class="comment">//    new Animal(r.name)</span></span><br><span class="line">  <span class="comment">//  &#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> rabbit = <span class="keyword">new</span> <span class="type">Rabbit</span>(<span class="string">&quot;rabbit&quot;</span>)</span><br><span class="line">    rabbit.canFly()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.scala</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rabbit1</span>(<span class="params">xname:<span class="type">String</span></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">val</span> name = xname</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">scala_ImlicitTrans_éšå¼å‡½æ•°2</span> </span>&#123;</span><br><span class="line">  <span class="keyword">implicit</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal1</span>(<span class="params">r:<span class="type">Rabbit1</span></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">showName</span></span>()=&#123;</span><br><span class="line">      println(<span class="string">s&quot;<span class="subst">$&#123;r.name&#125;</span> is Rabbit ...&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> rabbit = <span class="keyword">new</span> <span class="type">Rabbit1</span>(<span class="string">&quot;RABBIT&quot;</span>)</span><br><span class="line">    rabbit.showName()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="ä¹ã€å¤ä¹ "><a href="#ä¹ã€å¤ä¹ " class="headerlink" title="ä¹ã€å¤ä¹ "></a>ä¹ã€å¤ä¹ </h4><p><strong>Scalaæ˜¯åŸºäºJVMçš„è¯­è¨€ã€‚</strong></p>
<p><strong>å…­å¤§ç‰¹å¾ï¼š</strong></p>
<ol>
<li>ä¸javaæ— ç¼æ•´åˆ</li>
<li>ç±»å‹æ¨æ–­</li>
<li>æ”¯æŒåˆ†åˆ«æ˜¯å’Œå¹¶å‘Actor</li>
<li>Traitç‰¹è´¨ç‰¹æ€§</li>
<li>æ¨¡å¼åŒ¹é…match</li>
<li>é«˜é˜¶å‡½æ•°</li>
</ol>
<p><strong>ç±»å’Œå¯¹è±¡</strong></p>
<ul>
<li>å½“newç±»æ—¶ï¼Œç±»ä¸­é™¤äº†æ–¹æ³•ä¸æ‰§è¡Œå…¶å®ƒéƒ½æ‰§è¡Œ</li>
<li>objectç›¸å½“äºjavaä¸­çš„å•åˆ—ï¼Œå®šä¹‰çš„éƒ½æ˜¯é™æ€çš„</li>
<li>classå¯ä»¥ä¼ å‚ï¼Œä¼ å‚å°±æœ‰é»˜è®¤çš„æ„é€ </li>
<li>é‡å†™æ„é€ æ—¶ï¼Œç¬¬ä¸€è¡Œè¦å…ˆè°ƒç”¨é»˜è®¤çš„æ„é€ </li>
<li>object ä¸å¯ä»¥ä¼ å‚ï¼Œapply()æ–¹æ³•</li>
<li>ä¼´ç”Ÿç±»å’Œä¼´ç”Ÿå¯¹è±¡</li>
<li>forâ€¦â€¦<ol>
<li>1 to 10</li>
<li>1 until 10</li>
<li>for(i&lt;- 1 to 10)</li>
</ol>
</li>
<li>whileâ€¦..    do â€¦ whileâ€¦<ol>
<li>i +&#x3D;1    i -&#x3D; 1</li>
</ol>
</li>
<li>ifâ€¦elseâ€¦..</li>
</ul>
<p><strong>æ–¹æ³•å’Œå‡½æ•°</strong></p>
<ol>
<li>æ–¹æ³•çš„å®šä¹‰<ul>
<li>defæ–¹æ³•å®šä¹‰</li>
<li>æ–¹æ³•ä¸­ä¼ å‚è¦æŒ‡å®šç±»å‹</li>
<li>æ–¹æ³•è‡ªå·±å¯ä»¥æ¨æ–­è¿”å›ç±»å‹ï¼Œé»˜è®¤å°†æ–¹æ³•ä½“ä¸­æœ€åä¸€è¡Œè®¡ç®—çš„ç»“æœå½“ä½œè¿”å›å€¼è¿”å›</li>
<li>å¦‚æœè¦å†™returnè¿”å›å€¼ï¼Œè¦æ˜¾ç¤ºçš„è¯´æ˜æ–¹æ³•ä½“çš„è¿”å›å€¼ç±»å‹</li>
<li>å¦‚ä½•æ–¹æ³•ä½“å¯ä»¥ä¸€è¡Œæå®šï¼Œå¯ä»¥å°†æ–¹æ³•ä½“â€œ{}â€å»æ‰</li>
<li>å¦‚æœæ–¹æ³•åç§°å’Œæ–¹æ³•ä½“ä¹‹é—´æ²¡æœ‰â€œ&#x3D;â€æ— è®ºæ–¹æ³•ä½“è¿”å›è¯´æ˜å€¼éƒ½ä¼šè¢«ä¸¢å¼ƒï¼Œè¿”å›Uit</li>
</ul>
</li>
<li>é€’å½’æ–¹æ³•<ul>
<li>è¦æ˜¾ç¤ºå†™å‡ºè¿”å›å€¼ç±»å‹</li>
</ul>
</li>
<li>å‚æ•°æœ‰é»˜è®¤å€¼çš„æ–¹æ³•<ul>
<li>def fun(x:Int&#x3D;100)</li>
</ul>
</li>
<li>å¯å˜é•¿å‚æ•°çš„æ–¹æ³•<ul>
<li>def fun(x:String*)</li>
</ul>
</li>
<li>åŒ¿åå‡½æ•°<ul>
<li>()&#x3D;&gt;{â€¦}</li>
<li>å¯ä»¥èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œä¸‹æ¬¡è°ƒç”¨å˜é‡å°±æ˜¯ä½¿ç”¨çš„è¿™ä¸ªåŒ¿åå‡½æ•°</li>
</ul>
</li>
<li>ååº”ç”¨å‡½æ•°</li>
<li>åµŒå¥—æ–¹æ³•</li>
<li>é«˜é˜¶å‡½æ•°<ul>
<li>å‡½æ•°çš„å‚æ•°æ˜¯å‡½æ•°</li>
<li>å‡½æ•°çš„è¿”å›æ—¶å‡½æ•°</li>
<li>å‡½æ•°çš„å‚æ•°å’Œè¿”å›éƒ½æ˜¯å‡½æ•°</li>
</ul>
</li>
<li>æŸ¯é‡ŒåŒ–å‡½æ•°<ul>
<li>é«˜é˜¶å‡½æ•°çš„ç®€åŒ–</li>
</ul>
</li>
</ol>
<p><strong>String</strong>	</p>
<p>å°±æ˜¯javaä¸­çš„String</p>
<p><strong>é›†åˆ</strong></p>
<ol>
<li>Array</li>
<li>ArrayBuffer</li>
<li>List<ul>
<li>val list &#x3D; List[String]ï¼ˆâ€¦..)</li>
</ul>
</li>
<li>ListBuffer</li>
<li>Set<ul>
<li>å¯å˜ï¼Œä¸å¯å˜</li>
</ul>
</li>
<li>Map<ul>
<li>å¯å˜ï¼Œä¸å¯å˜</li>
<li>mapä¸­çš„å…ƒç´ å°±æ˜¯ä¸€ä¸ªä¸ªçš„äºŒå…ƒç»„</li>
<li>val value &#x3D; map.get(key)</li>
<li>val value &#x3D; map.get(key).getOrElse(â€¦)</li>
<li>map.keys</li>
<li>map.values</li>
</ul>
</li>
<li>Tuple<ul>
<li>å…ƒç»„</li>
<li>å…ƒç»„å–å€¼ tuple._xx</li>
<li>æœ€å¤šæ”¯æŒ22ä¸ªå…ƒç´ </li>
<li>val iter &#x3D; tuple.prducelterator</li>
<li>äºŒå…ƒç»„ä¸­æœ‰ä¸ªswapç¿»è½¬</li>
</ul>
</li>
</ol>
<p><strong>Trait</strong></p>
<ol>
<li>ç›¸å½“äºjavaä¸­çš„æ¥å£å’ŒæŠ½è±¡ç±»ç»“åˆ</li>
<li>å¯ä»¥åœ¨Traitä¸­å®šä¹‰æ–¹æ³•å®ç°ä¸ä¸ å®ç°ï¼Œå˜é‡å’Œå¸¸é‡éƒ½å¯ä»¥</li>
<li>Trait ä¸å¯ä»¥ä¼ å‚</li>
<li>ç±»ç»§æ‰¿traitç¬¬ä¸€ä¸ªå…³é”®å­—ä½¿ç”¨extendsï¼Œä¹‹åä½¿ç”¨with</li>
</ol>
<p><strong>æ¨¡å¼åŒ¹é…</strong></p>
<ol>
<li>mathâ€¦.caseâ€¦.</li>
<li>æ¨¡å¼åŒ¹é…ä¸­æ—¢å¯ä»¥åŒ¹é…å€¼ï¼Œä¹Ÿå¯ä»¥åŒ¹é…ç±»å‹<ul>
<li>case 123&#x3D;&gt;{â€¦}</li>
<li>case i:Int&#x3D;&gt;{â€¦}</li>
</ul>
</li>
<li>æ¨¡å¼åŒ¹é…ä¸­ï¼Œä»ä¸Šå¾€ä¸‹åŒ¹é…ï¼ŒåŒ¹é…ä¸Šäº†å°±è‡ªåŠ¨ç»ˆæ­¢</li>
<li>æ¨¡å¼åŒ¹é…è¿‡ç¨‹ä¸­ä¼šæœ‰å€¼è½¬æ¢</li>
<li>case _&#x3D;{â€¦} ä»€ä¹ˆéƒ½åŒ¹é…ä¸ä¸Šæœ€ååŒ¹é…ï¼Œè¦å†™åˆ°æœ€å</li>
<li>æ¨¡å¼åŒ¹é… match â€¦caseâ€¦ ç›¸å½“äºä¸€å¤§è¡Œ</li>
</ol>
<p><strong>æ ·ä¾‹ç±»</strong></p>
<ol>
<li>case class</li>
<li>æ ·ä¾‹ç±»å¯ä»¥new ä¹Ÿå¯ä»¥ä¸new </li>
<li>æ ·æç±»ä¸­å‚æ•°ï¼Œé»˜è®¤æœ‰getter setteræ–¹æ³•ï¼Œå¯¹å¤–å¯è§</li>
</ol>
<p><strong>åå‡½æ•°</strong></p>
<ol>
<li>PartialFunction[åŒ¹é…çš„ç±»å‹ï¼ŒåŒ¹é…ä¸Šä¼ å‡ºçš„ç±»å‹]</li>
<li>åå‡½æ•°ç›¸å½“äºjavaä¸­çš„switchâ€¦caseâ€¦,åªèƒ½åŒ¹é…ç›¸åŒç±»å‹</li>
</ol>
<p><strong>éšå¼è½¬æ¢</strong></p>
<p><strong>Actoræ¨¡å¼</strong></p>
<h3 id="HiveåŸºæœ¬æ¦‚å¿µ"><a href="#HiveåŸºæœ¬æ¦‚å¿µ" class="headerlink" title="HiveåŸºæœ¬æ¦‚å¿µ"></a>HiveåŸºæœ¬æ¦‚å¿µ</h3><h4 id="ä¸€ã€ä»€ä¹ˆæ˜¯Hive"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯Hive" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯Hive"></a>ä¸€ã€ä»€ä¹ˆæ˜¯Hive</h4><ul>
<li>Hiveç®€ä»‹</li>
</ul>
<p>Hiveï¼šç”±FaceBookå¼€æºç”¨äºè§£å†³æµ·é‡ç»“æ„åŒ–æ—¥å¿—çš„æ•°æ®ç»Ÿè®¡å·¥å…·</p>
<p>Hiveï¼šåŸºäºHadoopçš„ä¸€ä¸ªæ•°æ®ä»“åº“å·¥å…·ï¼Œå¯ä»¥å°†ç»“æ„åŒ–çš„æ•°æ®æ–‡ä»¶æ˜ å°„ä¸ºä¸€å¼ è¡¨ï¼Œå¹¶æä¾›ç±»SQLçš„æŸ¥è¯¢åŠŸèƒ½ã€‚</p>
<ul>
<li>Hiveæœ¬è´¨</li>
</ul>
<p>å°†HSQLè½¬åŒ–æˆMapReduceç¨‹åº</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">Hiveå¤„ç†çš„æ•°æ®å­˜å‚¨åœ¨HDFS</span><br><span class="line">Hiveåˆ†ææ•°æ®åº•å±‚å®ç°çš„æ˜¯MR</span><br><span class="line">æ‰§è¡Œç¨‹åºè¿è¡Œåœ¨Yarnä¸Š</span><br></pre></td></tr></table></figure>



<h4 id="äºŒã€Hiveçš„ä¼˜ç¼ºç‚¹"><a href="#äºŒã€Hiveçš„ä¼˜ç¼ºç‚¹" class="headerlink" title="äºŒã€Hiveçš„ä¼˜ç¼ºç‚¹"></a>äºŒã€Hiveçš„ä¼˜ç¼ºç‚¹</h4><p>ï¼ˆ1ï¼‰ä¼˜ç‚¹</p>
<ul>
<li>æ¥å£é‡‡ç”¨ç±»SQLè¯­æ³•ï¼Œæä¾›å¿«é€Ÿå¼€å‘çš„èƒ½åŠ›</li>
<li>é¿å…äº†å»å†™MRç¨‹åºï¼Œå‡å°‘å¼€å‘äººå‘˜çš„å­¦ä¹ æˆæœ¬</li>
<li>Hiveçš„æ‰§è¡Œå»¶è¿Ÿæ¯”è¾ƒé«˜ï¼Œå› æ­¤Hiveå¸¸ç”¨äºæ•°æ®åˆ†æï¼Œå¯¹å®æ—¶æ€§è¦æ±‚ä¸é«˜çš„åœºåˆ</li>
<li>Hiveçš„ä¼˜åŠ¿åœ¨äºå¤„ç†å¤§æ•°æ®ï¼Œå¯¹äºå¤„ç†å°æ•°æ®æ²¡æœ‰ä¼˜åŠ¿ï¼Œå› ä¸ºHiveçš„æ‰§è¡Œå»¶è¿Ÿæ¯”è¾ƒé«˜</li>
<li>Hiveæ”¯æŒè‡ªå®šä¹‰å‡½æ•°ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥å®ç°è‡ªå·±çš„å‡½æ•°</li>
</ul>
<p>ï¼ˆ2ï¼‰ç¼ºç‚¹</p>
<ul>
<li>Hiveçš„HSQLè¡¨è¾¾èƒ½åŠ›æœ‰é™ <ul>
<li>è¿­ä»£ç®—æ³•æ— æ³•è¡¨è¾¾ </li>
<li>æ•°æ®æŒ–æ˜æ–¹é¢ä¸æ“…é•¿ï¼Œç”±äºMRæ•°æ®å¤„ç†æµç¨‹çš„é™åˆ¶ï¼Œæ•ˆç‡æ›´é«˜çš„ç®—æ³•å´æ— æ³•å®ç°</li>
</ul>
</li>
<li>Hiveçš„æ•ˆç‡ æ¯”è¾ƒä½ <ul>
<li>Hiveè‡ªåŠ¨ç”Ÿæˆçš„MRä½œä¸šï¼Œé€šå¸¸æƒ…å†µä¸‹ä¸å¤Ÿæ™ºèƒ½åŒ– </li>
<li>Hiveè°ƒä¼˜æ¯”è¾ƒå›°éš¾ï¼Œç²’åº¦è¾ƒç²—</li>
</ul>
</li>
</ul>
<p>ï¼ˆ3ï¼‰Hiveè¿è¡Œæœºåˆ¶</p>
<p>Hiveé€šè¿‡ç”¨æˆ·æä¾›çš„ä¸€ç³»åˆ—äº¤äº’æ¥å£ï¼Œæ¥æ”¶åˆ°ç”¨æˆ·çš„æŒ‡ä»¤ï¼ˆSQLï¼‰ï¼Œä½¿ç”¨è‡ªå·±çš„Driverï¼Œç»“åˆå…ƒæ•°æ®ï¼ˆMetastoreï¼‰ï¼Œå°†è¿™äº›æŒ‡ä»¤ç¿»è¯‘ æˆMRï¼Œæäº¤åˆ°Hadoopä¸­æ‰§è¡Œï¼Œæœ€åï¼Œå°†æ‰§è¡Œè¿”å›çš„ç»“æœè¾“å‡ºåˆ°ç”¨æˆ·äº¤äº’æ¥å£ã€‚</p>
<p>ï¼ˆ4ï¼‰Hiveå’Œæ•°æ®åº“æ¯”è¾ƒ</p>
<p>ç”±äºHiveé‡‡ç”¨ç±»ä¼¼SQLçš„æŸ¥è¯¢è¯­è¨€HQLï¼Œå› æ­¤å¾ˆå®¹æ˜“å°†Hiveç†è§£ä¸ºæ•°æ®åº“ã€‚å…¶å®ä»ç»“æ„æ¥çœ‹ï¼ŒHive å’Œæ•°æ®åº“é™¤äº†ç”¨äºç±»ä¼¼çš„æŸ¥è¯¢è¯­è¨€ï¼Œ å†æ— ç±»ä¼¼ä¹‹å¤„ã€‚</p>
<p>ï¼ˆ5ï¼‰æ•°æ®æ›´æ–°</p>
<p>ç”±äºHiveæ˜¯é’ˆå¯¹æ•°æ®ä»“åº“åº”ç”¨è®¾è®¡çš„ï¼Œè€Œæ•°æ®ä»“åº“çš„å†…å®¹æ˜¯è¯»å¤šå†™å°‘ã€‚å› æ­¤ï¼ŒHiveä¸­ä¸å»ºè®®å¯¹æ•°æ®çš„æ”¹å†™ï¼Œæ‰€æœ‰æ•°æ®éƒ½æ˜¯åœ¨åŠ è½½çš„æ—¶å€™<br>ç¡®å®šå¥½çš„ã€‚è€Œæ•°æ®åº“ä¸­çš„æ•°æ®é€šå¸¸æ˜¯éœ€è¦è¿›è¡Œä¿®æ”¹çš„ï¼Œå› æ­¤å¯ä»¥é‡‡ç”¨insert into â€¦ valuesæ·»åŠ æ•°æ®ï¼Œä½¿ç”¨update â€¦ setä¿®æ”¹æ•°æ®</p>
<p>ï¼ˆ6ï¼‰æ‰§è¡Œå»¶è¿Ÿ</p>
<p>Hiveåœ¨æŸ¥è¯¢æ•°æ®çš„æ—¶å€™ï¼Œç”±äºæ²¡æœ‰ç´¢å¼•ï¼Œéœ€è¦æ‰«ææ•´ä¸ªè¡¨ã€‚å› æ­¤å»¶è¿Ÿè¾ƒé«˜ã€‚ç”±äºHiveåº•å±‚ä½¿ç”¨çš„MRæ¡†æ¶ï¼Œè€ŒMRæœ¬èº«å…·æœ‰è¾ƒé«˜çš„å»¶è¿Ÿï¼Œå› æ­¤ åœ¨åˆ©ç”¨MRæ‰§è¡ŒHiveæŸ¥è¯¢çš„æ—¶å€™ï¼Œä¹Ÿæœ‰è¾ƒé«˜çš„å»¶è¿Ÿã€‚</p>
<p>ï¼ˆ7ï¼‰æ•°æ®è§„æ¨¡</p>
<p>ç”±äºHiveç®€å†åœ¨é›†ç¾¤ä¸Šå¯ä»¥åˆ©ç”¨MRè¿›è¡Œå¹¶è¡Œè®¡ç®—ï¼Œå› æ­¤å¯ä»¥æ”¯æŒå¾ˆå¤§è§„æ¨¡çš„æ•°æ®ã€‚å¯¹åº”çš„ï¼Œæ•°æ®åº“å¯ä»¥æ”¯æŒçš„æ•°æ®è§„æ¨¡è¾ƒå°ã€‚</p>
<h4 id="ä¸‰ã€Hiveæ¶æ„"><a href="#ä¸‰ã€Hiveæ¶æ„" class="headerlink" title="ä¸‰ã€Hiveæ¶æ„"></a>ä¸‰ã€Hiveæ¶æ„</h4><p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601271704024.png" alt="image-20231207093230761"></p>
<h4 id="å››ã€Hiveå®‰è£…-å¯åŠ¨"><a href="#å››ã€Hiveå®‰è£…-å¯åŠ¨" class="headerlink" title="å››ã€Hiveå®‰è£…&amp;å¯åŠ¨"></a>å››ã€Hiveå®‰è£…&amp;å¯åŠ¨</h4><p>ï¼ˆ1ï¼‰ä¸Šä¼ å‹ç¼©åŒ…ï¼Œè§£å‹</p>
<p>â€¦â€¦â€¦..</p>
<p>ï¼ˆ2ï¼‰é…ç½®ç¯å¢ƒå˜é‡</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop101 hive]# <span class="built_in">pwd</span></span><br><span class="line">/opt/module/hive</span><br><span class="line">[root@hadoop101 hive]# vim /etc/profile</span><br></pre></td></tr></table></figure>

<p>é…ç½®å†…å®¹ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># hiveç¯å¢ƒé…ç½®</span></span><br><span class="line"><span class="built_in">export</span> HIVE_HOME=/opt/module/hive</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$HIVE_HOME</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>

<p>ä½¿å…¶ç”Ÿæ•ˆï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop101 hive]# <span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></table></figure>



<p>ï¼ˆ3ï¼‰è§£å†³æ—¥å¿—JaråŒ…å†²çª</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 lib]# <span class="built_in">mv</span> log4j-slf4j-impl-2.10.0.jar log4j-slf4j-impl-2.10.0.bak</span><br></pre></td></tr></table></figure>



<p>ï¼ˆ4ï¼‰åˆå§‹åŒ–å…ƒæ•°æ®åº“</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# bin/schematool -dbType derby -initSchema </span><br></pre></td></tr></table></figure>



<p><strong>[æ³¨æ„]</strong></p>
<p>é—®é¢˜1ï¼šhiveåˆå§‹åŒ–æŠ¥é”™</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">ã€bigdata@master hiveã€‘bin/schematool -dbType derby -initSchema</span><br><span class="line">Exception <span class="keyword">in</span> thread <span class="string">&quot;main&quot;</span> java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument(ZLjava/lang/String;Ljava/lang/Object;)</span><br></pre></td></tr></table></figure>

<p>å¤„ç†åŠæ³•ï¼š<br>åŸå› ï¼šhadoopå’Œhiveçš„ä¸¤ä¸ªguava.jarç‰ˆæœ¬ä¸ä¸€è‡´<br>ä¸¤ä¸ªä½ç½®åˆ†åˆ«ä½äºä¸‹é¢ä¸¤ä¸ªç›®å½•ï¼š<br>- &#x2F;opt&#x2F;module&#x2F;hive&#x2F;lib&#x2F;<br>- &#x2F;opt&#x2F;module&#x2F;hadoop-3.1.3&#x2F;share&#x2F;hadoop&#x2F;common&#x2F;lib<br>åˆ é™¤ä½ç‰ˆæœ¬çš„é‚£ä¸ªï¼Œå°†é«˜ç‰ˆæœ¬çš„å¤åˆ¶åˆ°ä½ç‰ˆæœ¬ç›®å½•ä¸‹	</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">ã€bigdata@master hiveã€‘ <span class="built_in">ls</span> -l /opt/module/hadoop/share/hadoop/common/lib | grep guava*</span><br><span class="line">ã€bigdata@master hiveã€‘ <span class="built_in">ls</span> -l /opt/module/hive/lib/ | grep guava*</span><br><span class="line">ã€bigdata@master hiveã€‘ <span class="built_in">mv</span> /opt/module/hive/lib/guava-19.0.jar /opt/module/hive/lib/guava-19.0.bak</span><br><span class="line">ã€bigdata@master hiveã€‘ <span class="built_in">cp</span> /opt/module/hadoop/share/hadoop/common/lib/guava-27.0-jre.jar /opt/module/hive/lib/guava-27.0-jre.jar</span><br></pre></td></tr></table></figure>



<p>é‡æ–°åˆå§‹åŒ–</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# bin/schematool -dbType derby -initSchema                 SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">Metastore connection URL:        jdbc:derby:;databaseName=metastore_db;create=<span class="literal">true</span></span><br><span class="line">Metastore Connection Driver :    org.apache.derby.jdbc.EmbeddedDriver</span><br><span class="line">Metastore connection User:       APP</span><br><span class="line">Starting metastore schema initialization to 3.1.0</span><br><span class="line">Initialization script hive-schema-3.1.0.derby.sql</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Initialization script completed</span><br><span class="line">schemaTool completed</span><br></pre></td></tr></table></figure>



<p>ï¼ˆ5ï¼‰å¯åŠ¨hadoop</p>
<p>ç­‰å¾…é€€å‡ºå®‰å…¨æ¨¡å¼</p>
<p>ï¼ˆ6ï¼‰ä½¿ç”¨hive</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# bin/hive</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line"><span class="built_in">which</span>: no hbase <span class="keyword">in</span> (/opt/module/hive/bin:.:/opt/module/mysql/bin:.:/opt/module/hadoop/bin:/opt/module/hadoop/sbin:/opt/module/hive/bin:.:/opt/module/mysql/bin:.:/opt/module/hadoop/bin:/opt/module/hadoop/sbin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/opt/module/jdk/bin:/root/bin:/opt/module/jdk/bin)</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">Hive Session ID = 3851be03-5678-4023-bd3f-fd2401ffd5b0</span><br><span class="line"></span><br><span class="line">Logging initialized using configuration <span class="keyword">in</span> jar:file:/opt/module/hive/lib/hive-common-3.1.2.jar!/hive-log4j2.properties Async: <span class="literal">true</span></span><br><span class="line">Hive-on-MR is deprecated <span class="keyword">in</span> Hive 2 and may not be available <span class="keyword">in</span> the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.</span><br><span class="line">Hive Session ID = 448043f3-3f9a-466b-9eb9-90da56da6924</span><br><span class="line">hive&gt; show databases;</span><br><span class="line">OK</span><br><span class="line">default</span><br><span class="line">Time taken: 1.256 seconds, Fetched: 1 row(s)</span><br><span class="line">hive&gt; show tables;</span><br><span class="line">OK</span><br><span class="line">Time taken: 0.077 seconds</span><br><span class="line">hive&gt;</span><br></pre></td></tr></table></figure>



<h4 id="äº”ã€Hiveå…ƒæ•°æ®é…ç½®MySQL"><a href="#äº”ã€Hiveå…ƒæ•°æ®é…ç½®MySQL" class="headerlink" title="äº”ã€Hiveå…ƒæ•°æ®é…ç½®MySQL"></a>äº”ã€Hiveå…ƒæ•°æ®é…ç½®MySQL</h4><p>ï¼ˆ1ï¼‰æ‹·è´é©±åŠ¨</p>
<p>å°†MySQLçš„JDBCé©±åŠ¨æ‹·è´åˆ°Hiveçš„libç›®å½•ä¸‹</p>
<p>Ctrl + C é€€å‡ºhive</p>
<p>ï¼ˆ2ï¼‰é…ç½®æ–‡ä»¶</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# <span class="built_in">cd</span> conf/</span><br><span class="line">[root@hadoop301 conf]# ll</span><br><span class="line">æ€»ç”¨é‡ 332</span><br><span class="line">-rw-r--r--. 1 root root   1596 8æœˆ  23 2019 beeline-log4j2.properties.template</span><br><span class="line">-rw-r--r--. 1 root root 300482 8æœˆ  23 2019 hive-default.xml.template</span><br><span class="line">-rw-r--r--. 1 root root   2365 8æœˆ  23 2019 hive-env.sh.template</span><br><span class="line">-rw-r--r--. 1 root root   2274 8æœˆ  23 2019 hive-exec-log4j2.properties.template</span><br><span class="line">-rw-r--r--. 1 root root   3086 8æœˆ  23 2019 hive-log4j2.properties.template</span><br><span class="line">-rw-r--r--. 1 root root   2060 8æœˆ  23 2019 ivysettings.xml</span><br><span class="line">-rw-r--r--. 1 root root   3558 8æœˆ  23 2019 llap-cli-log4j2.properties.template</span><br><span class="line">-rw-r--r--. 1 root root   7163 8æœˆ  23 2019 llap-daemon-log4j2.properties.templa        te</span><br><span class="line">-rw-r--r--. 1 root root   2662 8æœˆ  23 2019 parquet-logging.properties</span><br><span class="line">[root@hadoop301 conf]# vim hive-site.xml</span><br></pre></td></tr></table></figure>

<p>é…ç½®å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> standalone=<span class="string">&quot;no&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;?xml-stylesheet type=<span class="string">&quot;text/xsl&quot;</span> href=<span class="string">&quot;configuration.xsl&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- jdbcè¿æ¥çš„URL --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionURL<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>jdbc:mysql://hadoop301:3306/metastore?useSSL=false<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- jdbcè¿æ¥çš„Driver --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionDriverName<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>com.mysql.jdbc.Driver<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- jdbcè¿æ¥çš„username --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionUserName<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>root<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- jdbcè¿æ¥çš„password --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>javax.jdo.option.ConnectionPassword<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>root<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- hive å…ƒæ•°æ®å­˜å‚¨ç‰ˆæœ¬çš„éªŒè¯ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.metastore.schema.verification<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>false<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- å…ƒæ•°æ®å­˜å‚¨æˆæƒ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.metastore.event.db.notification.api.auth<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>false<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- hive é»˜è®¤åœ¨HDFSçš„å·¥ä½œç›®å½• --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.metastore.warehouse.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>/user/hive/warehouse<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ3ï¼‰å®‰è£…é…ç½®MySQL</p>
<p>å‚è€ƒï¼š<a href="https://blog.csdn.net/li1325169021/article/details/121515102#SnippetTab">https://blog.csdn.net/li1325169021/article/details/121515102#SnippetTab</a></p>
<p>æˆ–Bç«™ï¼š<a href="https://www.bilibili.com/video/BV1EZ4y1G7iL?p=17&vd_source=f0e29db1fb2c27102c4aaaab8ed9c6a7">https://www.bilibili.com/video/BV1EZ4y1G7iL?p=17&amp;vd_source=f0e29db1fb2c27102c4aaaab8ed9c6a7</a></p>
<p>çœç•¥â€¦.</p>
<p>ï¼ˆ4ï¼‰ç™»å½•MySQL</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 conf]# mysql -uroot -p123456</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 75</span><br><span class="line">Server version: 5.7.33 MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2021, Oracle and/or its affiliates.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| test_mata          |</span><br><span class="line">+--------------------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>



<p>ï¼ˆ5ï¼‰æ–°å»ºHiveå…ƒæ•°æ®</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mysql&gt; create database metastore;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| metastore          |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sys                |</span><br><span class="line">| test_mata          |</span><br><span class="line">+--------------------+</span><br><span class="line">6 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; exit;</span><br></pre></td></tr></table></figure>



<p>ï¼ˆ6ï¼‰åˆå§‹åŒ–Hiveå…ƒæ•°æ®</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# schematool -initSchema -dbType mysql -verbose</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">Metastore connection URL:        jdbc:mysql://hadoop301:3306/metastore?useSSL=<span class="literal">false</span></span><br><span class="line">Metastore Connection Driver :    com.mysql.jdbc.Driver</span><br><span class="line">Metastore connection User:       root</span><br><span class="line">Starting metastore schema initialization to 3.1.0</span><br><span class="line">Initialization script hive-schema-3.1.0.mysql.sql</span><br><span class="line">Connecting to jdbc:mysql://hadoop301:3306/metastore?useSSL=<span class="literal">false</span></span><br><span class="line">Connected to: MySQL (version 5.7.33)</span><br><span class="line">Driver: MySQL Connector Java (version mysql-connector-java-5.1.38 ( Revision: fe541c166cec739c74cc727c5da96c1028b4834a ))</span><br><span class="line"></span><br><span class="line">.......</span><br><span class="line"></span><br><span class="line">No rows affected (0.002 seconds)</span><br><span class="line">0: jdbc:mysql://hadoop301:3306/metastore&gt; /*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */</span><br><span class="line">No rows affected (0.001 seconds)</span><br><span class="line">0: jdbc:mysql://hadoop301:3306/metastore&gt; /*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */</span><br><span class="line">No rows affected (0.001 seconds)</span><br><span class="line">0: jdbc:mysql://hadoop301:3306/metastore&gt; /*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */</span><br><span class="line">No rows affected (0.001 seconds)</span><br><span class="line">0: jdbc:mysql://hadoop301:3306/metastore&gt; /*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */</span><br><span class="line">No rows affected (0.001 seconds)</span><br><span class="line">0: jdbc:mysql://hadoop301:3306/metastore&gt; /*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */</span><br><span class="line">No rows affected (0.001 seconds)</span><br><span class="line">0: jdbc:mysql://hadoop301:3306/metastore&gt; !closeall</span><br><span class="line">Closing: 0: jdbc:mysql://hadoop301:3306/metastore?useSSL=<span class="literal">false</span></span><br><span class="line">beeline&gt;</span><br><span class="line">beeline&gt; Initialization script completed</span><br><span class="line">schemaTool completed</span><br></pre></td></tr></table></figure>



<p>ï¼ˆ7ï¼‰è¿›å…¥Hive</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# bin/hive</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line"><span class="built_in">which</span>: no hbase <span class="keyword">in</span> (/opt/module/hive/bin:.:/opt/module/mysql/bin:.:/opt/module/hadoop/bin:/opt/module/hadoop/sbin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/opt/module/jdk/bin:/root/bin)</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">Hive Session ID = 669e2e36-4d63-43e3-ad90-f33bbba9bbb1</span><br><span class="line"></span><br><span class="line">Logging initialized using configuration <span class="keyword">in</span> jar:file:/opt/module/hive/lib/hive-common-3.1.2.jar!/hive-log4j2.properties Async: <span class="literal">true</span></span><br><span class="line">Hive-on-MR is deprecated <span class="keyword">in</span> Hive 2 and may not be available <span class="keyword">in</span> the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.</span><br><span class="line">Hive Session ID = 2f6c4cb6-3df7-437a-94e8-195585806755</span><br><span class="line">hive&gt;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•ä¸€ä¸‹ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">hive&gt; show tables;</span><br><span class="line">OK</span><br><span class="line">Time taken: 0.365 seconetds</span><br><span class="line">hive&gt; create table <span class="built_in">test</span>(<span class="built_in">id</span> string);</span><br><span class="line">OK</span><br><span class="line">Time taken: 0.733 seconds</span><br><span class="line">hive&gt; <span class="keyword">select</span> * from <span class="built_in">test</span>;</span><br><span class="line">OK</span><br><span class="line">Time taken: 2.034 seconds</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# vim id.txt</span><br><span class="line">[root@hadoop301 hive]# hdfs dfs -put id.txt /user/hive/warehouse/test</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">hive&gt; <span class="keyword">select</span> * from <span class="built_in">test</span>;</span><br><span class="line">OK</span><br><span class="line">11111</span><br><span class="line">22222</span><br><span class="line">Time taken: 0.269 seconds, Fetched: 2 row(s)</span><br></pre></td></tr></table></figure>



<p>ï¼ˆ8ï¼‰ä½¿ç”¨å…ƒæ•°æ®æœåŠ¡çš„æ–¹å¼è®¿é—®Hive</p>
<ol>
<li>åœ¨hive-site.xmlæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ä¿¡æ¯</li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æŒ‡å®šå­˜å‚¨å…ƒæ•°æ®è¦è¿æ¥çš„åœ°å€ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.metastore.uris<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">value</span>&gt;</span>thrift://hadoop301:9083<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure>



<ol start="2">
<li>å¯åŠ¨metastore</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# bin/hive --service metastore</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">2023-12-18 15:15:38: Starting Hive Metastore Server</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ä¼šä¸€ç›´è¢«å ç”¨ï¼Œé‡æ–°å¯ä¸€ä¸ªæœåŠ¡ï¼ˆå…³ä¸äº†ï¼‰</strong></p>
<ol start="3">
<li>å¯åŠ¨hive</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# bin/hive</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line"><span class="built_in">which</span>: no hbase <span class="keyword">in</span> (/opt/module/hive/bin:.:/opt/module/mysql/bin:.:/opt/module/hadoop/bin:/opt/module/hadoop/sbin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/opt/module/jdk/bin:/root/bin)</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">Hive Session ID = d0213e7d-8440-4529-b3ba-205f134b1b4a</span><br><span class="line"></span><br><span class="line">Logging initialized using configuration <span class="keyword">in</span> jar:file:/opt/module/hive/lib/hive-common-3.1.2.jar!/hive-log4j2.properties Async: <span class="literal">true</span></span><br><span class="line">Hive-on-MR is deprecated <span class="keyword">in</span> Hive 2 and may not be available <span class="keyword">in</span> the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.</span><br><span class="line">Hive Session ID = 481bcaf4-8c0b-4987-a06d-e712c13a5806</span><br><span class="line">hive&gt; show tables;</span><br><span class="line">OK</span><br><span class="line"><span class="built_in">test</span></span><br><span class="line">Time taken: 0.756 seconds, Fetched: 1 row(s)</span><br><span class="line">hive&gt; <span class="keyword">select</span> * from <span class="built_in">test</span>;</span><br><span class="line">OK</span><br><span class="line">11111</span><br><span class="line">22222</span><br><span class="line">Time taken: 2.806 seconds, Fetched: 2 row(s)</span><br><span class="line">hive&gt;</span><br></pre></td></tr></table></figure>



<p>ï¼ˆ9ï¼‰ä½¿ç”¨JDBCæ–¹å¼è®¿é—®Hive</p>
<ol>
<li>åœ¨hive-site.xmlæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ä¿¡æ¯</li>
</ol>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æŒ‡å®šhiveserver2è¿æ¥çš„host --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.server2.thrift.bind.host<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">value</span>&gt;</span>hadoop301<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®šhiveserver2è¿æ¥çš„ç«¯å£å· --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.server2.thrift.port<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">value</span>&gt;</span>10000<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¹¶å¯åŠ¨å…ƒæ•°æ®è®¿é—®</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# bin/hive --service metastore</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">2023-12-18 15:31:24: Starting Hive Metastore Server</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<ol start="2">
<li>å¯åŠ¨hiveserver2</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# bin/hive --service hiveserver2</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line"><span class="built_in">which</span>: no hbase <span class="keyword">in</span> (/opt/module/hive/bin:.:/opt/module/mysql/bin:.:/opt/module/hadoop/bin:/opt/module/hadoop/sbin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/opt/module/jdk/bin:/root/bin)</span><br><span class="line">2023-12-18 15:34:32: Starting HiveServer2</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">Hive Session ID = 1d56762d-4a28-47e4-9670-3683eb9c6d36</span><br><span class="line">Hive Session ID = 62b32922-487b-4668-9d0e-6a59ff053a51</span><br><span class="line">Hive Session ID = cb9695dd-0015-4128-8308-50e1a05706f4</span><br><span class="line">Hive Session ID = f2a8784b-1f9b-444d-919a-dac2bda3d454</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ä¼šä¸€ç›´è¢«å ç”¨ï¼Œé‡æ–°å¯ä¸€ä¸ªæœåŠ¡ï¼ˆå…³ä¸äº†ï¼‰</strong></p>
<ol start="3">
<li>å¯åŠ¨beelineå®¢æˆ·ç«¯ï¼ˆéœ€è¦å¤šç­‰å¾…ä¸€ä¼šï¼‰</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# bin/beeline -u jdbc:hive2://hadoop301:10000 -n atguigu</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">Connecting to jdbc:hive2://hadoop301:10000</span><br><span class="line">Connected to: Apache Hive (version 3.1.2)</span><br><span class="line">Driver: Hive JDBC (version 3.1.2)</span><br><span class="line">Transaction isolation: TRANSACTION_REPEATABLE_READ</span><br><span class="line">Beeline version 3.1.2 by Apache Hive</span><br><span class="line">0: jdbc:hive2://hadoop301:10000&gt; show tables;</span><br><span class="line">+-----------+</span><br><span class="line">| tab_name  |</span><br><span class="line">+-----------+</span><br><span class="line">| <span class="built_in">test</span>      |</span><br><span class="line">+-----------+</span><br><span class="line">1 row selected (1.815 seconds)</span><br><span class="line">0: jdbc:hive2://hadoop301:10000&gt; Closing: 0: jdbc:hive2://hadoop301:10000</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„å¦‚æœæŠ¥é”™å‚è€ƒï¼š<a href="https://blog.csdn.net/u011495642/article/details/84305944">https://blog.csdn.net/u011495642/article/details/84305944</a></strong></p>
<p>å¯ä»¥ä½¿ç”¨nohup hive â€“service metastore 2&gt;&amp;1 &amp;ä½†ä¸å»ºè®®</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# <span class="built_in">nohup</span> hive --service metastore 2&gt;&amp;1 &amp;</span><br><span class="line">[1] 5532</span><br><span class="line">[root@hadoop301 hive]# <span class="built_in">nohup</span>: å¿½ç•¥è¾“å…¥å¹¶æŠŠè¾“å‡ºè¿½åŠ åˆ°<span class="string">&quot;nohup.out&quot;</span></span><br><span class="line"></span><br><span class="line">[root@hadoop301 hive]# jps</span><br><span class="line">2643 DataNode</span><br><span class="line">2485 NameNode</span><br><span class="line">5654 Jps</span><br><span class="line">5111 RunJar</span><br><span class="line">5532 RunJar</span><br><span class="line">2991 NodeManager</span><br><span class="line">[root@hadoop301 hive]# <span class="built_in">kill</span> -9 5111</span><br><span class="line">[root@hadoop301 hive]# <span class="built_in">kill</span> -9 5532</span><br><span class="line">[root@hadoop301 hive]# jps</span><br><span class="line">2643 DataNode</span><br><span class="line">2485 NameNode</span><br><span class="line">5673 Jps</span><br><span class="line">2991 NodeManager</span><br><span class="line">[1]+  å·²æ€æ­»               <span class="built_in">nohup</span> hive --service metastore 2&gt;&amp;1</span><br></pre></td></tr></table></figure>





<p>ï¼ˆ10ï¼‰å…ƒæ•°æ®æœåŠ¡(è„šæœ¬å°è£…)</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">HIVE_LOG_DIR=<span class="variable">$HIVE_HOME</span>/logs</span><br><span class="line"></span><br><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$HIVE_LOG_DIR</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ£€æŸ¥è¿›ç¨‹æ˜¯å¦è¿è¡Œæ­£å¸¸ï¼Œå‚æ•°1ä¸ºè¿›ç¨‹åï¼Œå‚æ•°2ä¸ºè¿›ç¨‹ç«¯å£</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">check_process</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">    pid=$(ps -ef 2&gt;/dev/null | grep -v grep | grep -i <span class="variable">$1</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>)</span><br><span class="line">    ppid=$(netstat -nltp 2&gt;/dev/null | grep <span class="variable">$2</span> | awk <span class="string">&#x27;&#123;print $7&#125;&#x27;</span> | <span class="built_in">cut</span> -d <span class="string">&#x27;/&#x27;</span> -f 1)</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$pid</span></span><br><span class="line">    [[ <span class="string">&quot;<span class="variable">$pid</span>&quot;</span> =~ <span class="string">&quot;<span class="variable">$ppid</span>&quot;</span> ]] &amp;&amp; [ <span class="string">&quot;<span class="variable">$ppid</span>&quot;</span> ] &amp;&amp; <span class="built_in">return</span> 0 || <span class="built_in">return</span> 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">hive_start</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">    metapid=$(check_process HiveMetastore 9083)</span><br><span class="line">    cmd=<span class="string">&quot;nohup hive --service metastore &gt;<span class="variable">$HIVE_LOG_DIR</span>/metastore.log 2&gt;&amp;1 &amp;&quot;</span></span><br><span class="line">    cmd=<span class="variable">$cmd</span><span class="string">&quot; sleep 4; hdfs dfsadmin -safemode wait &gt;/dev/null 2&gt;&amp;1&quot;</span></span><br><span class="line">    [ -z <span class="string">&quot;<span class="variable">$metapid</span>&quot;</span> ] &amp;&amp; <span class="built_in">eval</span> <span class="variable">$cmd</span> || <span class="built_in">echo</span> <span class="string">&quot;MetastroeæœåŠ¡å·²å¯åŠ¨&quot;</span></span><br><span class="line">    server2pid=$(check_process HiveServer2 10000)</span><br><span class="line">    cmd=<span class="string">&quot;nohup hive --service hiveserver2 &gt;<span class="variable">$HIVE_LOG_DIR</span>/hiveServer2.log 2&gt;&amp;1 &amp;&quot;</span></span><br><span class="line">    [ -z <span class="string">&quot;<span class="variable">$server2pid</span>&quot;</span> ] &amp;&amp; <span class="built_in">eval</span> <span class="variable">$cmd</span> || <span class="built_in">echo</span> <span class="string">&quot;HiveServer2æœåŠ¡å·²å¯åŠ¨&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">hive_stop</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">    metapid=$(check_process HiveMetastore 9083)</span><br><span class="line">    [ <span class="string">&quot;<span class="variable">$metapid</span>&quot;</span> ] &amp;&amp; <span class="built_in">kill</span> <span class="variable">$metapid</span> || <span class="built_in">echo</span> <span class="string">&quot;MetastoreæœåŠ¡æœªå¯åŠ¨&quot;</span></span><br><span class="line">    server2pid=$(check_process HiveServer2 10000)</span><br><span class="line">    [ <span class="string">&quot;<span class="variable">$server2pid</span>&quot;</span> ] &amp;&amp; <span class="built_in">kill</span> <span class="variable">$server2pid</span> || <span class="built_in">echo</span> <span class="string">&quot;HiveServer2æœåŠ¡æœªå¯åŠ¨&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$1</span> <span class="keyword">in</span></span><br><span class="line"><span class="string">&quot;start&quot;</span>)</span><br><span class="line">    hive_start</span><br><span class="line">    ;;</span><br><span class="line"><span class="string">&quot;stop&quot;</span>)</span><br><span class="line">    hive_stop</span><br><span class="line">    ;;</span><br><span class="line"><span class="string">&quot;restart&quot;</span>)</span><br><span class="line">    hive_stop</span><br><span class="line">    <span class="built_in">sleep</span> 2</span><br><span class="line">    hive_start</span><br><span class="line">    ;;</span><br><span class="line"><span class="string">&quot;status&quot;</span>)</span><br><span class="line">    check_process HiveMetastore 9083 &gt;/dev/null &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;MetastoreæœåŠ¡è¿è¡Œæ­£å¸¸&quot;</span> || <span class="built_in">echo</span> <span class="string">&quot;MetastoreæœåŠ¡è¿è¡Œå¼‚å¸¸&quot;</span></span><br><span class="line">    check_process HiveServer2 10000 &gt;/dev/null &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;HiveServer2æœåŠ¡è¿è¡Œæ­£å¸¸&quot;</span> || <span class="built_in">echo</span> <span class="string">&quot;HiveServer2æœåŠ¡è¿è¡Œå¼‚å¸¸&quot;</span></span><br><span class="line">    ;;</span><br><span class="line">*)</span><br><span class="line">    <span class="built_in">echo</span> Invalid Args!</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;Usage: &#x27;</span>$(<span class="built_in">basename</span> <span class="variable">$0</span>)<span class="string">&#x27; start|stop|restart|status&#x27;</span></span><br><span class="line">    ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ11ï¼‰<strong>å¯åŠ¨è„šæœ¬(å¯åŠ¨å…ƒæ•°æ®æœåŠ¡)</strong></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# bin/hiveservice.sh start</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# bin/hiveservice.sh start</span><br><span class="line">[root@hadoop301 hive]# bin/hiveservice.sh status</span><br><span class="line">MetastoreæœåŠ¡è¿è¡Œæ­£å¸¸</span><br><span class="line">HiveServer2æœåŠ¡è¿è¡Œå¼‚å¸¸</span><br><span class="line"><span class="comment"># éœ€è¦ç­‰ä¸€ä¸‹</span></span><br><span class="line">[root@hadoop301 hive]# bin/hiveservice.sh status</span><br><span class="line">MetastoreæœåŠ¡è¿è¡Œæ­£å¸¸</span><br><span class="line">HiveServer2æœåŠ¡è¿è¡Œæ­£å¸¸</span><br></pre></td></tr></table></figure>



<p>å…³é—­æœåŠ¡å‘½ä»¤</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# bin/hiveservice.sh stop</span><br><span class="line">[root@hadoop301 hive]# bin/hiveservice.sh status</span><br><span class="line">MetastoreæœåŠ¡è¿è¡Œå¼‚å¸¸</span><br><span class="line">HiveServer2æœåŠ¡è¿è¡Œå¼‚å¸¸</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ12ï¼‰å¯åŠ¨beelineå®¢æˆ·ç«¯</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# bin/beeline -u jdbc:hive2://hadoop301:10000 -n atguigu</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">Connecting to jdbc:hive2://hadoop301:10000</span><br><span class="line">Connected to: Apache Hive (version 3.1.2)</span><br><span class="line">Driver: Hive JDBC (version 3.1.2)</span><br><span class="line">Transaction isolation: TRANSACTION_REPEATABLE_READ</span><br><span class="line">Beeline version 3.1.2 by Apache Hive</span><br><span class="line">0: jdbc:hive2://hadoop301:10000&gt;</span><br></pre></td></tr></table></figure>



<p>ï¼ˆ13ï¼‰å…¶å®ƒäº¤äº’æ–¹å¼</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# bin/hive -<span class="built_in">help</span></span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line"><span class="built_in">which</span>: no hbase <span class="keyword">in</span> (/opt/module/hive/bin:.:/opt/module/mysql/bin:.:/opt/module/hadoop/bin:/opt/module/hadoop/sbin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/opt/module/jdk/bin:/root/bin)</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">Hive Session ID = 44da0620-5c90-4a71-be68-bfdcf1f45544</span><br><span class="line">usage: hive</span><br><span class="line"> -d,--define &lt;key=value&gt;          Variable substitution to apply to Hive</span><br><span class="line">                                  commands. e.g. -d A=B or --define A=B</span><br><span class="line">    --database &lt;databasename&gt;     Specify the database to use</span><br><span class="line"> -e &lt;quoted-query-string&gt;         SQL from <span class="built_in">command</span> line</span><br><span class="line"> -f &lt;filename&gt;                    SQL from files</span><br><span class="line"> -H,--<span class="built_in">help</span>                        Print <span class="built_in">help</span> information</span><br><span class="line">    --hiveconf &lt;property=value&gt;   Use value <span class="keyword">for</span> given property</span><br><span class="line">    --hivevar &lt;key=value&gt;         Variable substitution to apply to Hive</span><br><span class="line">                                  commands. e.g. --hivevar A=B</span><br><span class="line"> -i &lt;filename&gt;                    Initialization SQL file</span><br><span class="line"> -S,--silent                      Silent mode <span class="keyword">in</span> interactive shell</span><br><span class="line"> -v,--verbose                     Verbose mode (<span class="built_in">echo</span> executed SQL to the</span><br><span class="line">                                  console)</span><br></pre></td></tr></table></figure>

<ol>
<li>ç›´æ¥è¿è¡Œsqlè¯­å¥</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# bin/hive -e <span class="string">&quot;select * from test;&quot;</span></span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line"><span class="built_in">which</span>: no hbase <span class="keyword">in</span> (/opt/module/hive/bin:.:/opt/module/mysql/bin:.:/opt/module/hadoop/bin:/opt/module/hadoop/sbin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/opt/module/jdk/bin:/root/bin)</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">Hive Session ID = 11a55c47-83d9-4809-bc09-d81c721bbdfb</span><br><span class="line"></span><br><span class="line">Logging initialized using configuration <span class="keyword">in</span> jar:file:/opt/module/hive/lib/hive-common-3.1.2.jar!/hive-log4j2.properties Async: <span class="literal">true</span></span><br><span class="line">Hive Session ID = 0abd3b57-c0f6-484c-a169-3271c79c0bcb</span><br><span class="line">OK</span><br><span class="line">11111</span><br><span class="line">22222</span><br><span class="line">Time taken: 9.479 seconds, Fetched: 2 row(s)</span><br></pre></td></tr></table></figure>



<ol start="2">
<li>è¿è¡Œsqlè„šæœ¬</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# vim hive.sql</span><br><span class="line"></span><br><span class="line"><span class="comment"># å†…å®¹å¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="keyword">select</span> * from <span class="built_in">test</span>;</span><br><span class="line"><span class="keyword">select</span> count(*) from <span class="built_in">test</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# bin/hive -f hive.sql</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line"><span class="built_in">which</span>: no hbase <span class="keyword">in</span> (/opt/module/hive/bin:.:/opt/module/mysql/bin:.:/opt/module/hadoop/bin:/opt/module/hadoop/sbin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/opt/module/jdk/bin:/root/bin)</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">Hive Session ID = 2ff25f8f-403f-4488-b67d-9d1c196859bd</span><br><span class="line"></span><br><span class="line">Logging initialized using configuration <span class="keyword">in</span> jar:file:/opt/module/hive/lib/hive-common-3.1.2.jar!/hive-log4j2.properties Async: <span class="literal">true</span></span><br><span class="line">Hive Session ID = eb7a9115-42b4-449d-821b-77a64d3c8bac</span><br><span class="line">OK</span><br><span class="line">11111</span><br><span class="line">22222</span><br><span class="line">Time taken: 6.07 seconds, Fetched: 2 row(s)</span><br><span class="line">OK</span><br><span class="line">0</span><br><span class="line">Time taken: 2.232 seconds, Fetched: 1 row(s)</span><br></pre></td></tr></table></figure>



<ol start="3">
<li>åœ¨hive cli å‘½ä»¤çª—å£ä¸­å¦‚ä½•æŸ¥çœ‹hdfs æ–‡ä»¶ç³»ç»Ÿ</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# bin/beeline -u jdbc:hive2://hadoop301:10000 -n atguigu</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">Connecting to jdbc:hive2://hadoop301:10000</span><br><span class="line">Connected to: Apache Hive (version 3.1.2)</span><br><span class="line">Driver: Hive JDBC (version 3.1.2)</span><br><span class="line">Transaction isolation: TRANSACTION_REPEATABLE_READ</span><br><span class="line">Beeline version 3.1.2 by Apache Hive</span><br><span class="line">0: jdbc:hive2://hadoop301:10000&gt; dfs -<span class="built_in">ls</span> /;</span><br><span class="line">+----------------------------------------------------+</span><br><span class="line">|                     DFS Output                     |</span><br><span class="line">+----------------------------------------------------+</span><br><span class="line">| Found 4 items                                      |</span><br><span class="line">| drwxr-xr-x   - root supergroup          0 2023-12-13 16:50 /directory |</span><br><span class="line">| drwxrwxrwx   - root supergroup          0 2023-12-07 11:17 /tem |</span><br><span class="line">| drwx-wx-wx   - root supergroup          0 2023-12-18 11:01 /tmp |</span><br><span class="line">| drwxr-xr-x   - root supergroup          0 2023-12-13 16:19 /user |</span><br><span class="line">+----------------------------------------------------+</span><br><span class="line">5 rows selected (0.34 seconds)</span><br><span class="line">0: jdbc:hive2://hadoop301:10000&gt;</span><br></pre></td></tr></table></figure>



<ol start="4">
<li>æŸ¥çœ‹åœ¨hiveä¸­è¾“å…¥çš„æ‰€æœ‰å†å²å‘½ä»¤</li>
</ol>
<p>(1)è¿›å…¥åˆ°å½“å‰ç”¨æˆ·çš„æ ¹ç›®å½• &#x2F;root  æˆ–&#x2F;home&#x2F;arguigu</p>
<p>(2)æŸ¥çœ‹ .hivehistory æ–‡ä»¶</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 ~]# <span class="built_in">cat</span> .hivehistory</span><br></pre></td></tr></table></figure>





<p>ï¼ˆ14ï¼‰Hive è¿è¡Œæ—¥å¿—ä¿¡æ¯é…ç½®</p>
<ol>
<li>hive çš„é»˜è®¤å­˜æ”¾åœ¨ï¼š&#x2F;tmp&#x2F;root&#x2F;hive.log ç›®å½•ä¸‹</li>
<li>ä¿®æ”¹hiveçš„logå­˜æ”¾æ—¥å¿—åˆ°&#x2F;opt&#x2F;module&#x2F;hive&#x2F;logs</li>
</ol>
<p>ä¿®æ”¹ &#x2F;opt&#x2F;module&#x2F;hive&#x2F;conf&#x2F;hive-log4j2.properties.template æ–‡ä»¶åç§°ä¸º hive-log4j2.properties</p>
<p>åœ¨hive-log4j2.properties æ–‡ä»¶ä¸­ä¿®æ”¹logå­˜æ”¾çš„ä½ç½®</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">property.hive.log.dir</span> = <span class="string">/opt/module/hive/logs</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ15ï¼‰æ‰“å°å½“å‰åº“å’Œè¡¨å¤´</p>
<p>åœ¨hive-site.xmlä¸­åŠ å…¥å¦‚ä¸‹ä¸¤ä¸ªé…ç½®:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.cli.print.header<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.cli.print.current.db<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# bin/hive</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line"><span class="built_in">which</span>: no hbase <span class="keyword">in</span> (/opt/module/hive/bin:.:/opt/module/mysql/bin:.:/opt/module/hadoop/bin:/opt/module/hadoop/sbin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/opt/module/jdk/bin:/root/bin)</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">Hive Session ID = 1e735514-8f8f-4818-9eaf-21f3a578506d</span><br><span class="line"></span><br><span class="line">Logging initialized using configuration <span class="keyword">in</span> file:/opt/module/hive/conf/hive-log4j2.properties Async: <span class="literal">true</span></span><br><span class="line">Hive-on-MR is deprecated <span class="keyword">in</span> Hive 2 and may not be available <span class="keyword">in</span> the future versions. Consider using a different execution engine (i.e. spark, tez) or using Hive 1.X releases.</span><br><span class="line">Hive Session ID = 5e438f4b-5779-4a91-88f7-1cf59ed04714</span><br><span class="line">hive (default)&gt; use hive;</span><br><span class="line">OK</span><br><span class="line">Time taken: 0.597 seconds</span><br><span class="line">hive (hive)&gt;</span><br></pre></td></tr></table></figure>

<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601271704738.png" alt="image-20231218200007233"></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">hive (default)&gt; <span class="keyword">select</span> * from <span class="built_in">test</span>;</span><br><span class="line">OK</span><br><span class="line">test.id</span><br><span class="line">11111</span><br><span class="line">22222</span><br><span class="line">Time taken: 2.576 seconds, Fetched: 2 row(s)</span><br><span class="line">hive (default)&gt;</span><br></pre></td></tr></table></figure>

<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601271705087.png" alt="image-20231218200220774"></p>
<p>ï¼ˆ16ï¼‰é…ç½®ä¿¡æ¯ä½ç½®</p>
<ol>
<li>æŸ¥çœ‹å½“å‰æ‰€æœ‰çš„é…ç½®ä¿¡æ¯</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# bin/hive</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line"><span class="built_in">which</span>: no hbase <span class="keyword">in</span> (/opt/module/hive/bin:.:/opt/module/mysql/bin:.:/opt/module/hadoop/bin:/opt/module/hadoop/sbin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/opt/module/jdk/bin:/root/bin)</span><br><span class="line"></span><br><span class="line">......</span><br><span class="line"></span><br><span class="line">system:sun.management.compiler=HotSpot 64-Bit Tiered Compilers</span><br><span class="line">system:sun.os.patch.level=unknown</span><br><span class="line">system:user.country=CN</span><br><span class="line">system:user.dir=/opt/module/hive</span><br><span class="line">system:user.home=/root</span><br><span class="line">system:user.language=zh</span><br><span class="line">system:user.name=root</span><br><span class="line">system:user.timezone=Asia/Shanghai</span><br><span class="line">system:yarn.home.dir=/opt/module/hadoop</span><br><span class="line">system:yarn.log.dir=/opt/module/hadoop/logs</span><br><span class="line">system:yarn.log.file=hadoop.log</span><br><span class="line">system:yarn.root.logger=INFO,console</span><br><span class="line">hive (default)&gt;</span><br></pre></td></tr></table></figure>



<ol start="2">
<li>å‚æ•°çš„é…ç½®ä¸‰ç§æ–¹å¼</li>
</ol>
<p>1)é…ç½®æ–‡ä»¶æ–¹å¼</p>
<p>é»˜è®¤é…ç½®æ–‡ä»¶ï¼šhive-default.xml</p>
<p>ç”¨æˆ·è‡ªå®šä¹‰é…ç½®æ–‡ä»¶: hive-site.xmI</p>
<p>æ³¨æ„:ç”¨æˆ·è‡ªå®šä¹‰é…ç½®ä¼šè¦†ç›–é»˜è®¤é…ç½®ã€‚å¦å¤–ï¼ŒHiveä¹Ÿä¼šè¯»å…¥Hadoopçš„é…ç½®ï¼Œå› ä¸ºHiveæ˜¯ä½œä¸ºHadoopçš„å®¢æˆ·ç«¯å¯åŠ¨çš„ï¼ŒHiveçš„é…ç½®ä¼šè¦†ç›–Hadoop çš„é…ç½®ã€‚é…ç½®æ–‡ä»¶çš„è®¾å®šå¯¹æœ¬æœºå¯åŠ¨çš„æ‰€æœ‰Hiveè¿›ç¨‹éƒ½æœ‰æ•ˆã€‚</p>
<p>2)å‘½ä»¤è¡Œå‚æ•°æ–¹å¼</p>
<p>å¯åŠ¨Hiveæ—¶ï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œæ·»åŠ  -hiveconf param&#x3D;value æ¥è®¾ç½®å‚æ•°ã€‚</p>
<p>ä¾‹å¦‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# bin/hive -hiveconf hive.cli.print.current.db=<span class="literal">true</span>;</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼šä»…å¯¹æœ¬æ¬¡hiveå¯åŠ¨æœ‰æ•ˆ</strong></p>
<p>æŸ¥çœ‹å‚æ•°è®¾ç½®</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hive (default)&gt; set mapred.reduce.tasks;</span><br><span class="line">mapred.reduce.tasks=-1</span><br><span class="line">hive (default)&gt;</span><br></pre></td></tr></table></figure>



<p>3)å‚æ•°å£°æ˜æ–¹å¼</p>
<p>å¯ä»¥åœ¨HQLä¸­ä½¿ç”¨SETå…³é”®å­—è®¾å®šå‚æ•°</p>
<p>ä¾‹å¦‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">set</span> mapred.reduce.tasks<span class="operator">=</span><span class="number">100</span>;</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼šä»…å¯¹æœ¬æ¬¡hiveå¯åŠ¨æœ‰æ•ˆ</strong></p>
<p>æŸ¥çœ‹å‚æ•°è®¾ç½®</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hive (default)&gt; set mapred.reduce.tasks;</span><br><span class="line">mapred.reduce.tasks=100</span><br><span class="line">hive (default)&gt;</span><br></pre></td></tr></table></figure>

<pre><code>	ä¸Šè¿°ä¸‰ç§è®¾å®šæ–¹å¼çš„ä¼˜å…ˆçº§ä¾æ¬¡é€’å¢ã€‚å³é…ç½®æ–‡ä»¶&lt;å‘½ä»¤è¡Œå‚æ•°&lt;å‚æ•°å£°æ˜ã€‚æ³¨æ„æŸäº›ç³»ç»Ÿçº§çš„å‚æ•°ï¼Œä¾‹å¦‚ log4jç›¸å…³çš„è®¾å®šï¼Œå¿…é¡»ç”¨å‰ä¸¤ç§æ–¹å¼è®¾å®šï¼Œå› ä¸ºé‚£äº›å‚æ•°çš„è¯»å–åœ¨ä¼šè¯å»ºç«‹ä»¥å‰å·²ç»å®Œæˆäº†ã€‚
</code></pre>
<h4 id="å…­ã€Hive-æ•°æ®ç±»å‹"><a href="#å…­ã€Hive-æ•°æ®ç±»å‹" class="headerlink" title="å…­ã€Hive æ•°æ®ç±»å‹"></a>å…­ã€Hive æ•°æ®ç±»å‹</h4><p>(1) åŸºæœ¬æ•°æ®ç±»å‹</p>
<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601271705840.png" alt="image-20231219094620683"></p>
<p>ï¼ˆ2ï¼‰é›†åˆæ•°æ®ç±»å‹</p>
<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601271727159.png" alt="image-20231219094821621"></p>
<h4 id="ä¸ƒã€DDLæ•°æ®å®šä¹‰"><a href="#ä¸ƒã€DDLæ•°æ®å®šä¹‰" class="headerlink" title="ä¸ƒã€DDLæ•°æ®å®šä¹‰"></a>ä¸ƒã€DDLæ•°æ®å®šä¹‰</h4><p>ï¼ˆ1ï¼‰åˆ›å»ºæ•°æ®åº“</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">show</span> <span class="keyword">create table</span> test;</span><br><span class="line">OK</span><br><span class="line">createtab_stmt</span><br><span class="line"><span class="keyword">CREATE TABLE</span> `test`(</span><br><span class="line">  `id` string)</span><br><span class="line"><span class="type">ROW</span> FORMAT SERDE</span><br><span class="line">  <span class="string">&#x27;org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe&#x27;</span></span><br><span class="line">STORED <span class="keyword">AS</span> INPUTFORMAT</span><br><span class="line">  <span class="string">&#x27;org.apache.hadoop.mapred.TextInputFormat&#x27;</span></span><br><span class="line">OUTPUTFORMAT</span><br><span class="line">  <span class="string">&#x27;org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat&#x27;</span></span><br><span class="line">LOCATION</span><br><span class="line">  <span class="string">&#x27;hdfs://hadoop301:8020/user/hive/warehouse/test&#x27;</span></span><br><span class="line">TBLPROPERTIES (</span><br><span class="line">  <span class="string">&#x27;bucketing_version&#x27;</span><span class="operator">=</span><span class="string">&#x27;2&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;transient_lastDdlTime&#x27;</span><span class="operator">=</span><span class="string">&#x27;1702881754&#x27;</span>)</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">1.125</span> seconds, Fetched: <span class="number">13</span> <span class="type">row</span>(s)</span><br><span class="line"></span><br><span class="line"># åˆ›å»ºæ•°æ®åº“</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">create</span> database if <span class="keyword">not</span> <span class="keyword">exists</span> hive;</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.425</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ2ï¼‰åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ï¼ŒæŒ‡å®šæ•°æ®åº“åœ¨HDFSä¸Šå­˜æ”¾çš„ä½ç½®</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">create</span> database if <span class="keyword">not</span> <span class="keyword">exists</span> db_hive2 location <span class="string">&#x27;/db_hive2.db&#x27;</span>;</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.106</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601271705881.png" alt="image-20231219111137096"></p>
<p>ï¼ˆ3ï¼‰æŸ¥è¯¢æ•°æ®åº“</p>
<ol>
<li>æ˜¾ç¤ºæ•°æ®åº“</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">show</span> databases;</span><br><span class="line">OK</span><br><span class="line">database_name</span><br><span class="line">db_hive</span><br><span class="line">db_hive2</span><br><span class="line">db_hive3</span><br><span class="line"><span class="keyword">default</span></span><br><span class="line">hive</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.107</span> seconds, Fetched: <span class="number">5</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<ol start="2">
<li>è¿‡æ»¤æ˜¾ç¤ºæŸ¥è¯¢çš„æ•°æ®åº“</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">show</span> databases <span class="keyword">like</span> <span class="string">&#x27;db_hive*&#x27;</span>;</span><br><span class="line">OK</span><br><span class="line">database_name</span><br><span class="line">db_hive</span><br><span class="line">db_hive2</span><br><span class="line">db_hive3</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.095</span> seconds, Fetched: <span class="number">3</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ4ï¼‰æŸ¥çœ‹æ•°æ®åº“è¯¦æƒ…</p>
<ol>
<li>æ˜¾ç¤ºæ•°æ®åº“ä¿¡æ¯</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (hive)<span class="operator">&gt;</span> <span class="keyword">desc</span> database hive;</span><br><span class="line">OK</span><br><span class="line">db_name comment location        owner_name      owner_type      parameters</span><br><span class="line">hive            hdfs:<span class="operator">/</span><span class="operator">/</span>hadoop301:<span class="number">8020</span><span class="operator">/</span><span class="keyword">user</span><span class="operator">/</span>hive<span class="operator">/</span>warehouse<span class="operator">/</span>hive.db       root    <span class="keyword">USER</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.062</span> seconds, Fetched: <span class="number">1</span> <span class="type">row</span>(s)</span><br><span class="line">hive (hive)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>æ˜¾ç¤ºæ•°æ®åº“è¯¦ç»†ä¿¡æ¯ï¼Œextended</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (hive)<span class="operator">&gt;</span> <span class="keyword">desc</span> database extended hive;</span><br><span class="line">OK</span><br><span class="line">db_name comment location        owner_name      owner_type      parameters</span><br><span class="line">hive            hdfs:<span class="operator">/</span><span class="operator">/</span>hadoop301:<span class="number">8020</span><span class="operator">/</span><span class="keyword">user</span><span class="operator">/</span>hive<span class="operator">/</span>warehouse<span class="operator">/</span>hive.db       root    <span class="keyword">USER</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.053</span> seconds, Fetched: <span class="number">1</span> <span class="type">row</span>(s)</span><br><span class="line">hive (hive)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ5ï¼‰åˆ‡æ¢å½“å‰æ•°æ®åº“</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (hive)<span class="operator">&gt;</span> use db_hive;</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.048</span> seconds</span><br><span class="line">hive (db_hive)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ6ï¼‰ä¿®æ”¹æ•°æ®åº“</p>
<p>â€‹		ç”¨æˆ·å¯ä»¥ä½¿ç”¨ALTER DATABASE å‘½ä»¤ä¸ºæŸä¸ªæ•°æ®åº“çš„DBPROPERTIESè®¾ç½®é”®-å€¼å¯¹å±æ€§å€¼ï¼Œæ¥æè¿°è¿™ä¸ªæ•°æ®åº“çš„å±æ€§ä¿¡æ¯ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">alter</span> database hive <span class="keyword">set</span> dbproperties(&quot;createTime&quot;<span class="operator">=</span>&quot;2023-12-19&quot;);</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.14</span> seconds</span><br><span class="line"></span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">desc</span> database extended hive;</span><br><span class="line">OK</span><br><span class="line">db_name comment location        owner_name      owner_type      parameters</span><br><span class="line">hive            hdfs:<span class="operator">/</span><span class="operator">/</span>hadoop301:<span class="number">8020</span><span class="operator">/</span><span class="keyword">user</span><span class="operator">/</span>hive<span class="operator">/</span>warehouse<span class="operator">/</span>hive.db       root    <span class="keyword">USER</span>    &#123;createTime<span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-19</span>&#125;</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.044</span> seconds, Fetched: <span class="number">1</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ7ï¼‰ä¿®æ”¹æ•°æ®åº“</p>
<ol>
<li>åˆ é™¤ç©ºæ•°æ®åº“</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">drop</span> database db_hive3;</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">1.227</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>å¦‚æœåˆ é™¤çš„æ•°æ®åº“ä¸å­˜åœ¨ï¼Œæœ€å¥½é‡‡ç”¨ if exists åˆ¤æ–­æ•°æ®åº“æ˜¯å¦å­˜åœ¨</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">drop</span> database db_hive3;</span><br><span class="line">FAILED: SemanticException [Error <span class="number">10072</span>]: Database does <span class="keyword">not</span> exist: db_hive3</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">drop</span> database if <span class="keyword">exists</span> db_hive3;</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.019</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>å¦‚æœæ•°æ®åº“ä¸ä¸ºç©ºï¼Œå¯ä»¥é‡‡ç”¨ cascade å‘½ä»¤ï¼Œå¼ºåˆ¶åˆ é™¤</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (db_hive)<span class="operator">&gt;</span> <span class="keyword">drop</span> database db_hive cascade;</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.301</span> seconds</span><br><span class="line">hive (db_hive)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ8ï¼‰åˆ›å»ºè¡¨</p>
<ol>
<li>åˆ›å»ºè¯­æ³•</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> [<span class="keyword">EXTERNAL</span>] <span class="keyword">TABLE</span> [IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>] table_name</span><br><span class="line">[(col_name data_type [COMMENT col_comment], ...)]</span><br><span class="line">[COMMENT table_comment]</span><br><span class="line">[PARTITIONED <span class="keyword">BY</span> (col_name data_type [COMMENT col_comment], ...)]</span><br><span class="line">[CLUSTERED <span class="keyword">BY</span> (col_name, col_name, ...</span><br><span class="line">[SORTED <span class="keyword">BY</span> (col_name [<span class="keyword">ASC</span><span class="operator">|</span><span class="keyword">DESC</span>], ...)] <span class="keyword">INTO</span> num_buckets BUCKETS]</span><br><span class="line">[<span class="type">ROW</span> FORMAT row_format]</span><br><span class="line">[STORED <span class="keyword">AS</span> file_format]</span><br><span class="line">[LOCATION hdfs_path]</span><br><span class="line">[TBLPROPERTIES (property_name<span class="operator">=</span>property_valu, ....)]</span><br><span class="line">[<span class="keyword">AS</span> select_statement]</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>å­—æ®µè§£é‡Šè¯´æ˜</li>
</ol>
<p>1ï¼‰[EXTERNAL] ï¼šå¤–éƒ¨çš„  â€“&gt; Hiveä¸­çš„è¡¨ä¼šæœ‰å†…å¤–ä¹‹åˆ†</p>
<p>2ï¼‰PARTITIONED BY ï¼šåˆ†åŒºè¡¨</p>
<p>3ï¼‰CLUSTERED BY ï¼šåˆ†æ¡¶è¡¨</p>
<p>4ï¼‰[SORTED BY (col_name [ASC|DESC], â€¦)] INTO num_buckets BUCKETS] ï¼šåˆ†æ¡¶è¡¨</p>
<p>5ï¼‰[ROW FORMAT row_format] ï¼šå®šä¹‰è¡Œçš„æ ¼å¼</p>
<p>6ï¼‰[STORED AS file_format] ï¼šæŒ‡å®šæ–‡ä»¶æ ¼å¼</p>
<p>7ï¼‰[LOCATION hdfs_path] ï¼šæŒ‡å®šè¡¨çš„ä½ç½®ä¿¡æ¯</p>
<p>8ï¼‰[TBLPROPERTIES (property_name&#x3D;property_valu, â€¦.)] ï¼šé¢å¤–å±æ€§</p>
<p>9ï¼‰[AS select_statement] ï¼š</p>
<p>ï¼ˆ9ï¼‰ç®¡ç†è¡¨</p>
<ol>
<li>ç†è®º</li>
</ol>
<p>â€‹		é»˜è®¤åˆ›å»ºçš„è¡¨éƒ½æ˜¯æ‰€è°“çš„ç®¡ç†è¡¨ï¼Œæœ‰æ—¶ä¹Ÿè¢«ç§°ä¸ºå†…éƒ¨è¡¨ã€‚å› ä¸ºè¿™ç§è¡¨ï¼ŒHive ä¼š(æˆ–å¤šæˆ–å°‘åœ°ï¼‰æ§åˆ¶ç€æ•°æ®çš„ç”Ÿå‘½å‘¨æœŸã€‚Hive é»˜è®¤æƒ…å†µä¸‹ä¼šå°†è¿™äº›è¡¨çš„æ•°æ®å­˜å‚¨åœ¨ç”±é…ç½®hive.metastore.warehouse.dir(ä¾‹å¦‚ï¼Œ&#x2F;user&#x2F;hive&#x2F;warehouse)æ‰€å®šä¹‰çš„ç›®å½•çš„å­ç›®å½•ä¸‹ã€‚<br>å½“æˆ‘ä»¬åˆ é™¤ä¸€ä¸ªç®¡ç†è¡¨æ—¶ï¼ŒHiveä¹Ÿä¼šåˆ é™¤è¿™ä¸ªè¡¨ä¸­çš„æ•°æ®ã€‚ç®¡ç†è¡¨ä¸é€‚åˆå’Œå…¶ä»–å·¥å…·å…±äº«æ•°æ®ã€‚</p>
<p>ï¼ˆ10ï¼‰ç®¡ç†è¡¨ä¸å¤–éƒ¨è¡¨çš„ç›¸äº’è½¬æ¢</p>
<ol>
<li>æŸ¥è¯¢è¡¨çš„ç±»å‹</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">desc</span> formatted test;</span><br><span class="line">.....</span><br><span class="line"><span class="keyword">Table</span> Type:             MANAGED_TABLE</span><br><span class="line">.....</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ä¿®æ”¹å†…éƒ¨è¡¨ä¸ºå¤–éƒ¨è¡¨</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">alter table</span> test <span class="keyword">set</span> tblproperties(<span class="string">&#x27;EXTERNAL&#x27;</span><span class="operator">=</span><span class="string">&#x27;TRUE&#x27;</span>);</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.262</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">desc</span> formatted test;</span><br><span class="line">.....</span><br><span class="line"><span class="keyword">Table</span> Type:             EXTERNAL_TABLE</span><br><span class="line">.....</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<p>EXTERNALâ€™&#x3D;â€™TRUE : å¤–éƒ¨è¡¨</p>
<p>EXTERNALâ€™&#x3D;â€™FALSE : å†…éƒ¨è¡¨</p>
<p><strong>æ³¨æ„ï¼š(EXTERNALâ€™&#x3D;â€™TRUE )å’Œ(EXTERNALâ€™&#x3D;â€™FALSE) ä¸ºå›ºå®šå†™æ³•ï¼ŒåŒºåˆ†å¤§å°å†™ï¼</strong></p>
<p>ï¼ˆ11ï¼‰å»ºè¡¨æ—¶æŒ‡å®šå­—æ®µåˆ†éš”ç¬¦</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">create table test6(id int,age int)</span><br><span class="line">row format delimited</span><br><span class="line">fields terminated by &#x27;,&#x27;;</span><br></pre></td></tr></table></figure>



<p>ï¼ˆ12ï¼‰é‡å‘½åè¡¨å</p>
<p>è¯­æ³•ï¼šALTER TABLE table_name RENAME TO new_table_name;</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">show</span> tables;</span><br><span class="line">OK</span><br><span class="line">tab_name</span><br><span class="line">test</span><br><span class="line">test2</span><br><span class="line">test3</span><br><span class="line">test4</span><br><span class="line">test5</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.052</span> seconds, Fetched: <span class="number">5</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">alter table</span> test rename <span class="keyword">to</span> test1;</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">1.641</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">show</span> tables;</span><br><span class="line">OK</span><br><span class="line">tab_name</span><br><span class="line">test1</span><br><span class="line">test2</span><br><span class="line">test3</span><br><span class="line">test4</span><br><span class="line">test5</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.042</span> seconds, Fetched: <span class="number">5</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ13ï¼‰å¢åŠ &#x2F;ä¿®æ”¹&#x2F;æ›¿æ¢åˆ—ä¿¡æ¯</p>
<ol>
<li>è¯­æ³•</li>
</ol>
<p>1ï¼‰æ›´æ–°åˆ—</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER TABLE</span> table_name CHANGE [<span class="keyword">COLUMN</span>] clo_old_name col_new_name</span><br><span class="line">column_type [COMMENT col_comment] [<span class="keyword">FIRST</span><span class="operator">|</span>AFTER column_name]</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> test6;</span><br><span class="line">OK</span><br><span class="line">test6.id        test6.age</span><br><span class="line"><span class="number">112</span>     <span class="number">12</span></span><br><span class="line"><span class="number">113</span>     <span class="number">13</span></span><br><span class="line"><span class="number">114</span>     <span class="number">14</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.198</span> seconds, Fetched: <span class="number">3</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">desc</span> test6;</span><br><span class="line">OK</span><br><span class="line">col_name        data_type       comment</span><br><span class="line">id                      <span class="type">int</span></span><br><span class="line">age                     <span class="type">int</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.084</span> seconds, Fetched: <span class="number">2</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">alter table</span> test6 change id stu_id string;</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.284</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> test6;</span><br><span class="line">OK</span><br><span class="line">test6.stu_id    test6.age</span><br><span class="line"><span class="number">112</span>     <span class="number">12</span></span><br><span class="line"><span class="number">113</span>     <span class="number">13</span></span><br><span class="line"><span class="number">114</span>     <span class="number">14</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.158</span> seconds, Fetched: <span class="number">3</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<p>2)å¢åŠ å’Œæ›¿æ¢åˆ—</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER TABLE</span> table_name <span class="keyword">ADD</span><span class="operator">|</span>REPLACE COLUMNS (col_name data_type [COMMENT col_comment], ...)</span><br></pre></td></tr></table></figure>

<p>æ³¨ï¼šADDæ˜¯ä»£è¡¨æ–°å¢ä¸€å­—æ®µï¼Œå­—æ®µä½ç½®åœ¨æ‰€æœ‰åˆ—åé¢(partition åˆ—æ˜)ï¼Œ</p>
<p>REPLACE åˆ™æ˜¯è¡¨ç¤ºæ›¿æ¢è¡¨ä¸­æ‰€æœ‰å­—æ®µ</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"># æ·»åŠ åˆ—</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">alter table</span> test6 <span class="keyword">add</span> columns (name string);</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.164</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">desc</span> test6;</span><br><span class="line">OK</span><br><span class="line">col_name        data_type       comment</span><br><span class="line">stu_id                  string</span><br><span class="line">age                     <span class="type">int</span></span><br><span class="line">name                    string</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.046</span> seconds, Fetched: <span class="number">3</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> test6;</span><br><span class="line">OK</span><br><span class="line">test6.stu_id    test6.age       test6.name</span><br><span class="line"><span class="number">112</span>     <span class="number">12</span>      <span class="keyword">NULL</span></span><br><span class="line"><span class="number">113</span>     <span class="number">13</span>      <span class="keyword">NULL</span></span><br><span class="line"><span class="number">114</span>     <span class="number">14</span>      <span class="keyword">NULL</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.194</span> seconds, Fetched: <span class="number">3</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line"># æ›¿æ¢åˆ—ï¼ˆå¯ä»¥å½“åˆ é™¤ç”¨ï¼‰</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">alter table</span> test6 replace columns (stu_id  string, age <span class="type">int</span>);</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.148</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> test6;</span><br><span class="line">OK</span><br><span class="line">test6.stu_id    test6.age</span><br><span class="line"><span class="number">112</span>     <span class="number">12</span></span><br><span class="line"><span class="number">113</span>     <span class="number">13</span></span><br><span class="line"><span class="number">114</span>     <span class="number">14</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.144</span> seconds, Fetched: <span class="number">3</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ14ï¼‰åˆ é™¤è¡¨</p>
<p>è¯­æ³•ï¼šdrop table dept;</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">show</span> tables;</span><br><span class="line">OK</span><br><span class="line">tab_name</span><br><span class="line">test1</span><br><span class="line">test2</span><br><span class="line">test5</span><br><span class="line">test6</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.024</span> seconds, Fetched: <span class="number">4</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">drop</span> <span class="keyword">table</span> test2;</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.19</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">show</span> tables;</span><br><span class="line">OK</span><br><span class="line">tab_name</span><br><span class="line">test1</span><br><span class="line">test5</span><br><span class="line">test6</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.022</span> seconds, Fetched: <span class="number">3</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>





<h4 id="å…«ã€DMLæ•°æ®æ“ä½œ"><a href="#å…«ã€DMLæ•°æ®æ“ä½œ" class="headerlink" title="å…«ã€DMLæ•°æ®æ“ä½œ"></a>å…«ã€DMLæ•°æ®æ“ä½œ</h4><p>ï¼ˆ1ï¼‰å‘è¡¨ä¸­è£…è½½æ•°æ®ï¼ˆLoadï¼‰</p>
<ol>
<li>è¯­æ³•ï¼š load data [local] inpath â€˜æ•°æ®çš„pathâ€™ [overwrite] into table student [partition (partcoll&#x3D;vall, â€¦)];</li>
</ol>
<p>1ï¼‰load data : ä»£è¡¨åŠ è½½æ•°æ®</p>
<p>2ï¼‰local : è¡¨ç¤ºä»æœ¬åœ°åŠ è½½æ•°æ®åˆ°hiveè¡¨ï¼Œå¦åˆ™ä»HDFSåŠ è½½æ•°æ®åˆ°hiveè¡¨</p>
<p>3ï¼‰inpath : è¡¨ç¤ºåŠ è½½æ•°æ®çš„è·¯å¾„</p>
<p>4ï¼‰overwrite : è¡¨ç¤ºè¦†ç›–è¡¨ä¸­å·²æœ‰æ•°æ®ï¼Œå¦åˆ™è¡¨ç¤ºè¿½åŠ </p>
<p>5ï¼‰into table : è¡¨ç¤ºåŠ è½½åˆ°å“ªå¼ è¡¨</p>
<p>6ï¼‰student : è¡¨ç¤ºå…·ä½“çš„è¡¨</p>
<p>7ï¼‰partition : è¡¨ç¤ºä¸Šä¼ åˆ°æŒ‡å®šåˆ†åŒº</p>
<ol start="2">
<li>åˆ›å»ºä¸€å¼ studentè¡¨</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">create table</span> student(id string, name string) <span class="type">row</span> format delimited fields terminated <span class="keyword">by</span> <span class="string">&#x27;,&#x27;</span>;</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.094</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> load data <span class="keyword">local</span> inpath <span class="string">&#x27;/opt/module/hive/student.txt&#x27;</span> <span class="keyword">into</span> <span class="keyword">table</span> student;</span><br><span class="line">Loading data <span class="keyword">to</span> <span class="keyword">table</span> default.student</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.348</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student;</span><br><span class="line">OK</span><br><span class="line">student.id      student.name</span><br><span class="line"><span class="number">20220001</span>         å¼ ä¸‰</span><br><span class="line"><span class="number">20220002</span>         æå››</span><br><span class="line"><span class="number">20220003</span>         ç‹äº”</span><br><span class="line"><span class="number">20220004</span>         é©¬å…­</span><br><span class="line"><span class="number">20220005</span>         æå…«</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.136</span> seconds, Fetched: <span class="number">5</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ2ï¼‰é€šè¿‡æŸ¥è¯¢è¯­å¥å‘è¡¨ä¸­æ’å…¥æ•°æ®ï¼ˆInsertï¼‰</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student1;</span><br><span class="line">OK</span><br><span class="line">student1.id     student1.name</span><br><span class="line"><span class="number">20220006</span>         å‘¨è’</span><br><span class="line"><span class="number">20220007</span>         å®‹äº¤</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.121</span> seconds, Fetched: <span class="number">2</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">insert into</span> student</span><br><span class="line">              <span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student1;</span><br><span class="line">Query ID <span class="operator">=</span> root_20231219195754_6d187e86<span class="number">-1528</span><span class="number">-4</span>ce0<span class="operator">-</span>a748<span class="number">-1</span>b6daf9508c9</span><br><span class="line">Total jobs <span class="operator">=</span> <span class="number">3</span></span><br><span class="line">Launching Job <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">3</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks determined <span class="keyword">at</span> compile <span class="type">time</span>: <span class="number">1</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> change the average load <span class="keyword">for</span> a reducer (<span class="keyword">in</span> bytes):</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.bytes.per.reducer<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> limit the maximum number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.max<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> <span class="keyword">set</span> a constant number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> mapreduce.job.reduces<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line">Starting Job <span class="operator">=</span> job_1702967178714_0003, Tracking URL <span class="operator">=</span> http:<span class="operator">/</span><span class="operator">/</span>hadoop302:<span class="number">8088</span><span class="operator">/</span>proxy<span class="operator">/</span>application_1702967178714_0003<span class="operator">/</span></span><br><span class="line">Kill Command <span class="operator">=</span> <span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>bin<span class="operator">/</span>mapred job  <span class="operator">-</span>kill job_1702967178714_0003</span><br><span class="line">Hadoop job information <span class="keyword">for</span> Stage<span class="number">-1</span>: number <span class="keyword">of</span> mappers: <span class="number">1</span>; number <span class="keyword">of</span> reducers: <span class="number">1</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-19</span> <span class="number">19</span>:<span class="number">58</span>:<span class="number">20</span>,<span class="number">182</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-19</span> <span class="number">19</span>:<span class="number">58</span>:<span class="number">56</span>,<span class="number">139</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span></span><br><span class="line">Ended Job <span class="operator">=</span> job_1702967178714_0003 <span class="keyword">with</span> errors</span><br><span class="line">Error during job, obtaining debugging information...</span><br><span class="line">Examining task ID: task_1702967178714_0003_m_000000 (<span class="keyword">and</span> more) <span class="keyword">from</span> job job_1702967178714_0003</span><br><span class="line"></span><br><span class="line">Task <span class="keyword">with</span> the most failures(<span class="number">4</span>):</span><br><span class="line"><span class="comment">-----</span></span><br><span class="line">Task ID:</span><br><span class="line">  task_1702967178714_0003_m_000000</span><br><span class="line"></span><br><span class="line">URL:</span><br><span class="line">  http:<span class="operator">/</span><span class="operator">/</span>hadoop302:<span class="number">8088</span><span class="operator">/</span>taskdetails.jsp?jobid<span class="operator">=</span>job_1702967178714_0003<span class="operator">&amp;</span>tipid<span class="operator">=</span>task_1702967178714_0003_m_000000</span><br><span class="line"><span class="comment">-----</span></span><br><span class="line">Diagnostic Messages <span class="keyword">for</span> this Task:</span><br><span class="line">[<span class="number">2023</span><span class="number">-12</span><span class="number">-19</span> <span class="number">19</span>:<span class="number">58</span>:<span class="number">54.547</span>]Container [pid<span class="operator">=</span><span class="number">7087</span>,containerID<span class="operator">=</span>container_1702967178714_0003_01_000005] <span class="keyword">is</span> <span class="keyword">running</span> <span class="number">268880384</span>B beyond the <span class="string">&#x27;VIRTUAL&#x27;</span> memory limit. <span class="keyword">Current</span> usage: <span class="number">175.9</span> MB <span class="keyword">of</span> <span class="number">1</span> GB physical memory used; <span class="number">2.4</span> GB <span class="keyword">of</span> <span class="number">2.1</span> GB virtual memory used. Killing container.</span><br><span class="line">Dump <span class="keyword">of</span> the process<span class="operator">-</span>tree <span class="keyword">for</span> container_1702967178714_0003_01_000005 :</span><br><span class="line">        <span class="operator">|</span><span class="operator">-</span> PID PPID PGRPID SESSID CMD_NAME USER_MODE_TIME(MILLIS) <span class="built_in">SYSTEM_TIME</span>(MILLIS) VMEM_USAGE(BYTES) RSSMEM_USAGE(PAGES) FULL_CMD_LINE</span><br><span class="line">        <span class="operator">|</span><span class="operator">-</span> <span class="number">7099</span> <span class="number">7087</span> <span class="number">7087</span> <span class="number">7087</span> (java) <span class="number">466</span> <span class="number">85</span> <span class="number">2513940480</span> <span class="number">44743</span> <span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>jdk<span class="operator">/</span>bin<span class="operator">/</span>java <span class="operator">-</span>Djava.net.preferIPv4Stack<span class="operator">=</span><span class="literal">true</span> <span class="operator">-</span>Dhadoop.metrics.log.level<span class="operator">=</span>WARN <span class="operator">-</span>Xmx820m <span class="operator">-</span>Djava.io.tmpdir<span class="operator">=</span><span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>data<span class="operator">/</span>nm<span class="operator">-</span><span class="keyword">local</span><span class="operator">-</span>dir<span class="operator">/</span>usercache<span class="operator">/</span>root<span class="operator">/</span>appcache<span class="operator">/</span>application_1702967178714_0003<span class="operator">/</span>container_1702967178714_0003_01_000005<span class="operator">/</span>tmp <span class="operator">-</span>Dlog4j.configuration<span class="operator">=</span>container<span class="operator">-</span>log4j.properties <span class="operator">-</span>Dyarn.app.container.log.dir<span class="operator">=</span><span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>logs<span class="operator">/</span>userlogs<span class="operator">/</span>application_1702967178714_0003<span class="operator">/</span>container_1702967178714_0003_01_000005 <span class="operator">-</span>Dyarn.app.container.log.filesize<span class="operator">=</span><span class="number">0</span> <span class="operator">-</span>Dhadoop.root.logger<span class="operator">=</span>INFO,CLA <span class="operator">-</span>Dhadoop.root.logfile<span class="operator">=</span>syslog org.apache.hadoop.mapred.YarnChild <span class="number">192.168</span><span class="number">.137</span><span class="number">.138</span> <span class="number">46636</span> attempt_1702967178714_0003_m_000000_3 <span class="number">5</span></span><br><span class="line">        <span class="operator">|</span><span class="operator">-</span> <span class="number">7087</span> <span class="number">7086</span> <span class="number">7087</span> <span class="number">7087</span> (bash) <span class="number">0</span> <span class="number">0</span> <span class="number">9797632</span> <span class="number">287</span> <span class="operator">/</span>bin<span class="operator">/</span>bash <span class="operator">-</span>c <span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>jdk<span class="operator">/</span>bin<span class="operator">/</span>java <span class="operator">-</span>Djava.net.preferIPv4Stack<span class="operator">=</span><span class="literal">true</span> <span class="operator">-</span>Dhadoop.metrics.log.level<span class="operator">=</span>WARN   <span class="operator">-</span>Xmx820m <span class="operator">-</span>Djava.io.tmpdir<span class="operator">=</span><span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>data<span class="operator">/</span>nm<span class="operator">-</span><span class="keyword">local</span><span class="operator">-</span>dir<span class="operator">/</span>usercache<span class="operator">/</span>root<span class="operator">/</span>appcache<span class="operator">/</span>application_1702967178714_0003<span class="operator">/</span>container_1702967178714_0003_01_000005<span class="operator">/</span>tmp <span class="operator">-</span>Dlog4j.configuration<span class="operator">=</span>container<span class="operator">-</span>log4j.properties <span class="operator">-</span>Dyarn.app.container.log.dir<span class="operator">=</span><span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>logs<span class="operator">/</span>userlogs<span class="operator">/</span>application_1702967178714_0003<span class="operator">/</span>container_1702967178714_0003_01_000005 <span class="operator">-</span>Dyarn.app.container.log.filesize<span class="operator">=</span><span class="number">0</span> <span class="operator">-</span>Dhadoop.root.logger<span class="operator">=</span>INFO,CLA <span class="operator">-</span>Dhadoop.root.logfile<span class="operator">=</span>syslog org.apache.hadoop.mapred.YarnChild <span class="number">192.168</span><span class="number">.137</span><span class="number">.138</span> <span class="number">46636</span> attempt_1702967178714_0003_m_000000_3 <span class="number">5</span> <span class="number">1</span><span class="operator">&gt;</span><span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>logs<span class="operator">/</span>userlogs<span class="operator">/</span>application_1702967178714_0003<span class="operator">/</span>container_1702967178714_0003_01_000005<span class="operator">/</span>stdout <span class="number">2</span><span class="operator">&gt;</span><span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>logs<span class="operator">/</span>userlogs<span class="operator">/</span>application_1702967178714_0003<span class="operator">/</span>container_1702967178714_0003_01_000005<span class="operator">/</span>stderr</span><br><span class="line"></span><br><span class="line">[<span class="number">2023</span><span class="number">-12</span><span class="number">-19</span> <span class="number">19</span>:<span class="number">58</span>:<span class="number">54.712</span>]Container killed <span class="keyword">on</span> request. Exit code <span class="keyword">is</span> <span class="number">143</span></span><br><span class="line">[<span class="number">2023</span><span class="number">-12</span><span class="number">-19</span> <span class="number">19</span>:<span class="number">58</span>:<span class="number">54.716</span>]Container exited <span class="keyword">with</span> a non<span class="operator">-</span>zero exit code <span class="number">143.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">FAILED: Execution Error, <span class="keyword">return</span> code <span class="number">2</span> <span class="keyword">from</span> org.apache.hadoop.hive.ql.exec.mr.MapRedTask</span><br><span class="line">MapReduce Jobs Launched:</span><br><span class="line">Stage<span class="operator">-</span>Stage<span class="number">-1</span>: Map: <span class="number">1</span>  Reduce: <span class="number">1</span>   HDFS Read: <span class="number">0</span> HDFS Write: <span class="number">0</span> FAIL</span><br><span class="line">Total MapReduce CPU <span class="type">Time</span> Spent: <span class="number">0</span> msec</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">insert into</span> student <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student1;</span><br><span class="line">Query ID <span class="operator">=</span> root_20231219195923_1cf00028<span class="number">-0</span>c40<span class="number">-4e3</span>f<span class="operator">-</span>a18b<span class="number">-06210</span>d725967</span><br><span class="line">Total jobs <span class="operator">=</span> <span class="number">3</span></span><br><span class="line">Launching Job <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">3</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks determined <span class="keyword">at</span> compile <span class="type">time</span>: <span class="number">1</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> change the average load <span class="keyword">for</span> a reducer (<span class="keyword">in</span> bytes):</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.bytes.per.reducer<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> limit the maximum number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.max<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> <span class="keyword">set</span> a constant number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> mapreduce.job.reduces<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line">Starting Job <span class="operator">=</span> job_1702967178714_0004, Tracking URL <span class="operator">=</span> http:<span class="operator">/</span><span class="operator">/</span>hadoop302:<span class="number">8088</span><span class="operator">/</span>proxy<span class="operator">/</span>application_1702967178714_0004<span class="operator">/</span></span><br><span class="line">Kill Command <span class="operator">=</span> <span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>bin<span class="operator">/</span>mapred job  <span class="operator">-</span>kill job_1702967178714_0004</span><br><span class="line">Hadoop job information <span class="keyword">for</span> Stage<span class="number">-1</span>: number <span class="keyword">of</span> mappers: <span class="number">1</span>; number <span class="keyword">of</span> reducers: <span class="number">1</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-19</span> <span class="number">19</span>:<span class="number">59</span>:<span class="number">34</span>,<span class="number">533</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-19</span> <span class="number">19</span>:<span class="number">59</span>:<span class="number">48</span>,<span class="number">078</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>, Cumulative CPU <span class="number">1.23</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-19</span> <span class="number">19</span>:<span class="number">59</span>:<span class="number">55</span>,<span class="number">415</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>, Cumulative CPU <span class="number">2.9</span> sec</span><br><span class="line">MapReduce Total cumulative CPU <span class="type">time</span>: <span class="number">2</span> seconds <span class="number">900</span> msec</span><br><span class="line">Ended Job <span class="operator">=</span> job_1702967178714_0004</span><br><span class="line">Stage<span class="number">-4</span> <span class="keyword">is</span> selected <span class="keyword">by</span> <span class="keyword">condition</span> resolver.</span><br><span class="line">Stage<span class="number">-3</span> <span class="keyword">is</span> filtered <span class="keyword">out</span> <span class="keyword">by</span> <span class="keyword">condition</span> resolver.</span><br><span class="line">Stage<span class="number">-5</span> <span class="keyword">is</span> filtered <span class="keyword">out</span> <span class="keyword">by</span> <span class="keyword">condition</span> resolver.</span><br><span class="line">Moving data <span class="keyword">to</span> directory hdfs:<span class="operator">/</span><span class="operator">/</span>hadoop301:<span class="number">8020</span><span class="operator">/</span><span class="keyword">user</span><span class="operator">/</span>hive<span class="operator">/</span>warehouse<span class="operator">/</span>student<span class="operator">/</span>.hive<span class="operator">-</span>staging_hive_2023<span class="number">-12</span><span class="number">-19</span>_19<span class="number">-59</span><span class="number">-23</span>_302_4974531779442527462<span class="number">-1</span><span class="operator">/</span><span class="operator">-</span>ext<span class="number">-10000</span></span><br><span class="line">Loading data <span class="keyword">to</span> <span class="keyword">table</span> default.student</span><br><span class="line">MapReduce Jobs Launched:</span><br><span class="line">Stage<span class="operator">-</span>Stage<span class="number">-1</span>: Map: <span class="number">1</span>  Reduce: <span class="number">1</span>   Cumulative CPU: <span class="number">2.9</span> sec   HDFS Read: <span class="number">12982</span> HDFS Write: <span class="number">280</span> SUCCESS</span><br><span class="line">Total MapReduce CPU <span class="type">Time</span> Spent: <span class="number">2</span> seconds <span class="number">900</span> msec</span><br><span class="line">OK</span><br><span class="line">student1.id     student1.name</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">33.929</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student;</span><br><span class="line">OK</span><br><span class="line">student.id      student.name</span><br><span class="line"><span class="number">20220006</span>         å‘¨è’</span><br><span class="line"><span class="number">20220007</span>         å®‹äº¤</span><br><span class="line"><span class="number">20220001</span>         å¼ ä¸‰</span><br><span class="line"><span class="number">20220002</span>         æå››</span><br><span class="line"><span class="number">20220003</span>         ç‹äº”</span><br><span class="line"><span class="number">20220004</span>         é©¬å…­</span><br><span class="line"><span class="number">20220005</span>         æå…«</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.108</span> seconds, Fetched: <span class="number">7</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ3ï¼‰æŸ¥è¯¢è¯­å¥ä¸­åˆ›å»ºè¡¨å¹¶åŠ è½½æ•°æ®ï¼ˆAs Selectï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hive (default)&gt; create table student6</span><br><span class="line">              &gt; as</span><br><span class="line">              &gt; select id, name from student;</span><br><span class="line">Query ID = root_20231220151817_d4429601-40a2-49e5-b96e-fe607118c492</span><br><span class="line">Total jobs = 3</span><br><span class="line">Launching Job 1 out of 3</span><br><span class="line">Number of reduce tasks is set to 0 since there&#x27;s no reduce operator</span><br><span class="line">Starting Job = job_1703052903664_0001, Tracking URL = http://hadoop302:8088/proxy/application_1703052903664_0001/</span><br><span class="line">Kill Command = /opt/module/hadoop/bin/mapred job  -kill job_1703052903664_0001</span><br><span class="line">Hadoop job information for Stage-1: number of mappers: 1; number of reducers: 0</span><br><span class="line">2023-12-20 15:18:42,953 Stage-1 map = 0%,  reduce = 0%</span><br><span class="line">2023-12-20 15:19:04,039 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 2.15 sec</span><br><span class="line">MapReduce Total cumulative CPU time: 2 seconds 150 msec</span><br><span class="line">Ended Job = job_1703052903664_0001</span><br><span class="line">Stage-4 is selected by condition resolver.</span><br><span class="line">Stage-3 is filtered out by condition resolver.</span><br><span class="line">Stage-5 is filtered out by condition resolver.</span><br><span class="line">Moving data to directory hdfs://hadoop301:8020/user/hive/warehouse/.hive-staging_hive_2023-12-20_15-18-17_297_1964929230240087285-1/-ext-10002</span><br><span class="line">Moving data to directory hdfs://hadoop301:8020/user/hive/warehouse/student6</span><br><span class="line">MapReduce Jobs Launched:</span><br><span class="line">Stage-Stage-1: Map: 1   Cumulative CPU: 2.15 sec   HDFS Read: 4883 HDFS Write: 192 SUCCESS</span><br><span class="line">Total MapReduce CPU Time Spent: 2 seconds 150 msec</span><br><span class="line">OK</span><br><span class="line">id      name</span><br><span class="line">Time taken: 52.991 seconds</span><br><span class="line">student6.id     student6.name</span><br><span class="line">20220006         å‘¨è’</span><br><span class="line">20220007         å®‹äº¤</span><br><span class="line">20220001         å¼ ä¸‰</span><br><span class="line">20220002         æå››</span><br><span class="line">20220003         ç‹äº”</span><br><span class="line">20220004         é©¬å…­</span><br><span class="line">20220005         æå…«</span><br><span class="line">Time taken: 0.16 seconds, Fetched: 7 row(s)</span><br><span class="line">hive (default)&gt;</span><br></pre></td></tr></table></figure>



<p>ï¼ˆ4ï¼‰åˆ›å»ºè¡¨æ˜¯é€šè¿‡LocationæŒ‡å®šåŠ è½½æ•°æ®è·¯å¾„</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# hdfs dfs -<span class="built_in">mkdir</span> /student22</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">[root@hadoop301 hive]# hdfs dfs -put student.txt /student22</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">[root@hadoop301 hive]#</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">create table</span> student22(id string, name string) <span class="type">row</span> format delimited fields terminated <span class="keyword">by</span> <span class="string">&#x27;,&#x27;</span> location <span class="string">&#x27;/student22&#x27;</span>;</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.239</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student22;</span><br><span class="line">OK</span><br><span class="line">student22.id    student22.name</span><br><span class="line"><span class="number">20220001</span>         å¼ ä¸‰</span><br><span class="line"><span class="number">20220002</span>         æå››</span><br><span class="line"><span class="number">20220003</span>         ç‹äº”</span><br><span class="line"><span class="number">20220004</span>         é©¬å…­</span><br><span class="line"><span class="number">20220005</span>         æå…«</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.24</span> seconds, Fetched: <span class="number">5</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ5ï¼‰æ•°æ®å¯¼å‡º</p>
<ol>
<li>Insert å¯¼å‡º</li>
</ol>
<p>1ï¼‰å°†æŸ¥è¯¢çš„ç»“æœå¯¼å‡ºåˆ°æœ¬åœ°</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">insert</span> overwrite <span class="keyword">local</span> directory <span class="string">&#x27;/opt/module/hive/student&#x27;</span></span><br><span class="line"> 			  <span class="operator">&gt;</span> <span class="type">row</span> format delimited fields terminated <span class="keyword">by</span> <span class="string">&#x27;,&#x27;</span></span><br><span class="line">              <span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student6;</span><br></pre></td></tr></table></figure>



<ol start="2">
<li>Hadoop å‘½ä»¤å¯¼å‡ºåˆ°æœ¬åœ°</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> dfs <span class="operator">-</span><span class="keyword">get</span> <span class="operator">/</span><span class="keyword">user</span><span class="operator">/</span>hive<span class="operator">/</span>warehouse<span class="operator">/</span>student22<span class="operator">/</span>student.txt</span><br><span class="line"><span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hive<span class="operator">/</span>student<span class="operator">/</span>student.txt;</span><br></pre></td></tr></table></figure>



<ol start="3">
<li>Hive Shell å‘½ä»¤å¯¼å‡º</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 hive]# bin/hive -e <span class="string">&#x27;select * from default.student6;&#x27;</span> &gt; /opt/module/hive/student/student4.txt;</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line"><span class="built_in">which</span>: no hbase <span class="keyword">in</span> (/opt/module/hive/bin:.:/opt/module/mysql/bin:.:/opt/module/hadoop/bin:/opt/module/hadoop/sbin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/opt/module/jdk/bin:/root/bin)</span><br><span class="line">SLF4J: Failed to load class <span class="string">&quot;org.slf4j.impl.StaticLoggerBinder&quot;</span>.</span><br><span class="line">SLF4J: Defaulting to no-operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">Hive Session ID = abafbe66-a1bb-420e-b01a-cc99e4ff61d2</span><br><span class="line"></span><br><span class="line">Logging initialized using configuration <span class="keyword">in</span> file:/opt/module/hive/conf/hive-log4j2.properties Async: <span class="literal">true</span></span><br><span class="line">Hive Session ID = 0fc9fe17-2e7e-4791-acff-a2d8f2cc0433</span><br><span class="line">OK</span><br><span class="line">Time taken: 8.49 seconds, Fetched: 7 row(s)</span><br><span class="line">[root@hadoop301 hive]# <span class="built_in">cd</span> student/</span><br><span class="line">[root@hadoop301 student]# ll</span><br><span class="line">æ€»ç”¨é‡ 4</span><br><span class="line">-rw-r--r--. 1 root root 145 12æœˆ 20 16:20 student4.txt</span><br><span class="line">[root@hadoop301 student]# <span class="built_in">cat</span> student4.txt</span><br><span class="line">student6.id     student6.name</span><br><span class="line">20220006         å‘¨è’</span><br><span class="line">20220007         å®‹äº¤</span><br><span class="line">20220001         å¼ ä¸‰</span><br><span class="line">20220002         æå››</span><br><span class="line">20220003         ç‹äº”</span><br><span class="line">20220004         é©¬å…­</span><br><span class="line">20220005         æå…«</span><br><span class="line">[root@hadoop301 student]#</span><br></pre></td></tr></table></figure>



<p>ï¼ˆ6ï¼‰æ¸…ç©ºè¡¨ä¸­çš„æ•°æ®ï¼ˆTruncateï¼‰</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">truncate</span> <span class="keyword">table</span> student;</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">2.108</span> seconds</span><br><span class="line">hive(<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šTruncate åªèƒ½åˆ é™¤ç®¡ç†è¡¨ï¼Œä¸èƒ½åˆ é™¤å¤–éƒ¨è¡¨ä¸­æ•°æ®</p>
<h4 id="ä¹ã€æŸ¥è¯¢"><a href="#ä¹ã€æŸ¥è¯¢" class="headerlink" title="ä¹ã€æŸ¥è¯¢"></a>ä¹ã€æŸ¥è¯¢</h4><p>ï¼ˆ1ï¼‰æ•°æ®å‡†å¤‡ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 module]# <span class="built_in">cd</span> data/</span><br><span class="line">[root@hadoop301 data]# vim dept.txt</span><br><span class="line">[root@hadoop301 data]# <span class="built_in">cat</span> dept.txt</span><br><span class="line">10      ACCOUNTING      1700</span><br><span class="line">20      RESEARCH        1800</span><br><span class="line">30      SALES   1900</span><br><span class="line">40      OPERATIONS      1700</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@hadoop301 data]# vim emp.txt</span><br><span class="line">[root@hadoop301 data]# <span class="built_in">cat</span> emp.txt</span><br><span class="line">7369    SMITH   CLERK   7902    1980-12-17      800.00          20</span><br><span class="line">7499    ALLEN   SALESMAN        7689    1981-2-20       1600.00 300.00  30</span><br><span class="line">7521    WARD    SALESMAN        7698    1981-2-22       1250.00 500.00  30</span><br><span class="line">7566    JONES   MANAGER 7839    1981-4-2        2975.00         20</span><br><span class="line">7654    MARTIN  SALESMAN        7689    1981-8-28       1250.00 1400.00 30</span><br><span class="line">7698    BLAKE   MANAGER 7839    1981-5-1        2850.00         30</span><br><span class="line">7782    CLARK   MANARER 7829    1981-6-9        2450.00         10</span><br><span class="line">7788    SCOTT   ANALYST 7566    1987-4-19       3000.00         20</span><br><span class="line">7839    KING    PRESIDENT       1981-11-17      5000.00                 10</span><br><span class="line">7844    TURNER  SALESMAN        7698    1981-9-8        1500.00 0.00    30</span><br><span class="line">7876    ADAMS   CLERK   7788    1987-5-23       1100.00         20</span><br><span class="line">7900    JAMES   CLERK   7698    1981-12-3       950.00          30</span><br><span class="line">7902    FORD    ANALYST 7566    1981-12-3       3000.00         20</span><br><span class="line">79934   MILLER  CLERK   7782    1982-1-23       1300.00         10</span><br><span class="line">[root@hadoop301 data]#</span><br></pre></td></tr></table></figure>

<ol>
<li>åˆ›å»ºè¡¨åè¡¨</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">create table</span> if <span class="keyword">not</span> <span class="keyword">exists</span> dept(deptno <span class="type">int</span>, dname string, loc <span class="type">int</span>) <span class="type">row</span> format delimited fields terminated <span class="keyword">by</span> <span class="string">&#x27;\t&#x27;</span>;</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">1.837</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>åˆ›å»ºå‘˜å·¥è¡¨</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">create table</span> if <span class="keyword">not</span> <span class="keyword">exists</span> emp(empno <span class="type">int</span>, ename string, job string, mgr <span class="type">int</span>, hiredate string, sal <span class="keyword">double</span>, comm <span class="keyword">double</span>, deptno <span class="type">int</span>) <span class="type">row</span> format delimited fields terminated <span class="keyword">by</span> <span class="string">&#x27;\t&#x27;</span>;</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.106</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>å¯¼å…¥æ•°æ®</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> load data <span class="keyword">local</span> inpath <span class="string">&#x27;/opt/module/data/dept.txt&#x27;</span> <span class="keyword">into</span> <span class="keyword">table</span> dept;</span><br><span class="line">Loading data <span class="keyword">to</span> <span class="keyword">table</span> default.dept</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">1.036</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dept;</span><br><span class="line">OK</span><br><span class="line">dept.deptno     dept.dname      dept.loc</span><br><span class="line"><span class="number">10</span>      ACCOUNTING      <span class="number">1700</span></span><br><span class="line"><span class="number">20</span>      RESEARCH        <span class="number">1800</span></span><br><span class="line"><span class="number">30</span>      SALES   <span class="number">1900</span></span><br><span class="line"><span class="number">40</span>      OPERATIONS      <span class="number">1700</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">2.971</span> seconds, Fetched: <span class="number">4</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> load data <span class="keyword">local</span> inpath <span class="string">&#x27;/opt/module/data/emp.txt&#x27;</span> <span class="keyword">into</span> <span class="keyword">table</span> emp;</span><br><span class="line">Loading data <span class="keyword">to</span> <span class="keyword">table</span> default.emp</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.646</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp;</span><br><span class="line">OK</span><br><span class="line">emp.empno       emp.ename       emp.job emp.mgr emp.hiredate    emp.sal emp.comm        emp.deptno</span><br><span class="line"><span class="number">7369</span>    SMITH   CLERK   <span class="number">7902</span>    <span class="number">1980</span><span class="number">-12</span><span class="number">-17</span>      <span class="number">800.0</span>   <span class="keyword">NULL</span>    <span class="number">20</span></span><br><span class="line"><span class="number">7499</span>    ALLEN   SALESMAN        <span class="number">7689</span>    <span class="number">1981</span><span class="number">-2</span><span class="number">-20</span>       <span class="number">1600.0</span>  <span class="number">300.0</span>   <span class="number">30</span></span><br><span class="line"><span class="number">7521</span>    WARD    SALESMAN        <span class="number">7698</span>    <span class="number">1981</span><span class="number">-2</span><span class="number">-22</span>       <span class="number">1250.0</span>  <span class="number">500.0</span>   <span class="number">30</span></span><br><span class="line"><span class="number">7566</span>    JONES   MANAGER <span class="number">7839</span>    <span class="number">1981</span><span class="number">-4</span><span class="number">-2</span>        <span class="number">2975.0</span>  <span class="keyword">NULL</span>    <span class="number">20</span></span><br><span class="line"><span class="number">7654</span>    MARTIN  SALESMAN        <span class="number">7689</span>    <span class="number">1981</span><span class="number">-8</span><span class="number">-28</span>       <span class="number">1250.0</span>  <span class="number">1400.0</span>  <span class="number">30</span></span><br><span class="line"><span class="number">7698</span>    BLAKE   MANAGER <span class="number">7839</span>    <span class="number">1981</span><span class="number">-5</span><span class="number">-1</span>        <span class="number">2850.0</span>  <span class="keyword">NULL</span>    <span class="number">30</span></span><br><span class="line"><span class="number">7782</span>    CLARK   MANARER <span class="number">7829</span>    <span class="number">1981</span><span class="number">-6</span><span class="number">-9</span>        <span class="number">2450.0</span>  <span class="keyword">NULL</span>    <span class="number">10</span></span><br><span class="line"><span class="number">7788</span>    SCOTT   ANALYST <span class="number">7566</span>    <span class="number">1987</span><span class="number">-4</span><span class="number">-19</span>       <span class="number">3000.0</span>  <span class="keyword">NULL</span>    <span class="number">20</span></span><br><span class="line"><span class="number">7839</span>    KING    PRESIDENT       <span class="keyword">NULL</span>    <span class="number">5000.00</span> <span class="keyword">NULL</span>    <span class="keyword">NULL</span>    <span class="number">10</span></span><br><span class="line"><span class="number">7844</span>    TURNER  SALESMAN        <span class="number">7698</span>    <span class="number">1981</span><span class="number">-9</span><span class="number">-8</span>        <span class="number">1500.0</span>  <span class="number">0.0</span>     <span class="number">30</span></span><br><span class="line"><span class="number">7876</span>    ADAMS   CLERK   <span class="number">7788</span>    <span class="number">1987</span><span class="number">-5</span><span class="number">-23</span>       <span class="number">1100.0</span>  <span class="keyword">NULL</span>    <span class="number">20</span></span><br><span class="line"><span class="number">7900</span>    JAMES   CLERK   <span class="number">7698</span>    <span class="number">1981</span><span class="number">-12</span><span class="number">-3</span>       <span class="number">950.0</span>   <span class="keyword">NULL</span>    <span class="number">30</span></span><br><span class="line"><span class="number">7902</span>    FORD    ANALYST <span class="number">7566</span>    <span class="number">1981</span><span class="number">-12</span><span class="number">-3</span>       <span class="number">3000.0</span>  <span class="keyword">NULL</span>    <span class="number">20</span></span><br><span class="line"><span class="number">79934</span>   MILLER  CLERK   <span class="number">7782</span>    <span class="number">1982</span><span class="number">-1</span><span class="number">-23</span>       <span class="number">1300.0</span>  <span class="keyword">NULL</span>    <span class="number">10</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.238</span> seconds, Fetched: <span class="number">14</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ2ï¼‰å…¨è¡¨æŸ¥è¯¢</p>
<p>ç•¥â€¦â€¦..</p>
<p>ï¼ˆ3ï¼‰åˆ—å–åˆ«å</p>
<p>ç•¥â€¦â€¦..</p>
<p>ï¼ˆ4ï¼‰ç®—æœ¯è¿ç®—ç¬¦</p>
<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601271727322.png" alt="image-20231220190659770"></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> ename, sal <span class="operator">+</span> <span class="number">1000</span> <span class="keyword">from</span> emp;</span><br><span class="line">OK</span><br><span class="line">ename   _c1</span><br><span class="line">SMITH   <span class="number">1800.0</span></span><br><span class="line">ALLEN   <span class="number">2600.0</span></span><br><span class="line">WARD    <span class="number">2250.0</span></span><br><span class="line">JONES   <span class="number">3975.0</span></span><br><span class="line">MARTIN  <span class="number">2250.0</span></span><br><span class="line">BLAKE   <span class="number">3850.0</span></span><br><span class="line">CLARK   <span class="number">3450.0</span></span><br><span class="line">SCOTT   <span class="number">4000.0</span></span><br><span class="line">KING    <span class="keyword">NULL</span></span><br><span class="line">TURNER  <span class="number">2500.0</span></span><br><span class="line">ADAMS   <span class="number">2100.0</span></span><br><span class="line">JAMES   <span class="number">1950.0</span></span><br><span class="line">FORD    <span class="number">4000.0</span></span><br><span class="line">MILLER  <span class="number">2300.0</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.909</span> seconds, Fetched: <span class="number">14</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ5ï¼‰å¸¸ç”¨å‡½æ•°</p>
<ol>
<li>æ±‚æ€»è¡Œæ•°ï¼ˆcountï¼‰</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>æ±‚å·¥èµ„çš„æœ€å¤§å€¼ï¼ˆmaxï¼‰</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="built_in">max</span>(sal) <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>æ±‚å·¥èµ„çš„æœ€å°å€¼ï¼ˆminï¼‰</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="built_in">min</span>(sal) <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>æ±‚å·¥èµ„çš„æ€»å’Œï¼ˆsumï¼‰</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="built_in">sum</span>(sal) <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>æ±‚å·¥èµ„çš„å¹³å‡å€¼ï¼ˆavgï¼‰</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="built_in">avg</span>(sal) <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>



<p>ï¼ˆ6ï¼‰Limit è¯­å¥</p>
<p>ç•¥â€¦â€¦â€¦</p>
<p>ï¼ˆ7ï¼‰Whereè¯­å¥</p>
<p>ç•¥â€¦â€¦â€¦</p>
<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601271705040.png" alt="image-20231220192059045"></p>
<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601271706806.png" alt="image-20231220192256820"></p>
<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601271706861.png" alt="image-20231220192416279"></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="operator">=</span> <span class="string">&#x27;ALLEN&#x27;</span>;</span><br><span class="line">OK</span><br><span class="line">emp.empno       emp.ename       emp.job emp.mgr emp.hiredate    emp.sal emp.comm        emp.deptno</span><br><span class="line"><span class="number">7499</span>    ALLEN   SALESMAN        <span class="number">7689</span>    <span class="number">1981</span><span class="number">-2</span><span class="number">-20</span>       <span class="number">1600.0</span>  <span class="number">300.0</span>   <span class="number">30</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">6.775</span> seconds, Fetched: <span class="number">1</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal <span class="keyword">between</span> <span class="number">800</span> <span class="keyword">and</span> <span class="number">1100</span>;</span><br><span class="line">OK</span><br><span class="line">emp.empno       emp.ename       emp.job emp.mgr emp.hiredate    emp.sal emp.comm        emp.deptno</span><br><span class="line"><span class="number">7369</span>    SMITH   CLERK   <span class="number">7902</span>    <span class="number">1980</span><span class="number">-12</span><span class="number">-17</span>      <span class="number">800.0</span>   <span class="keyword">NULL</span>    <span class="number">20</span></span><br><span class="line"><span class="number">7876</span>    ADAMS   CLERK   <span class="number">7788</span>    <span class="number">1987</span><span class="number">-5</span><span class="number">-23</span>       <span class="number">1100.0</span>  <span class="keyword">NULL</span>    <span class="number">20</span></span><br><span class="line"><span class="number">7900</span>    JAMES   CLERK   <span class="number">7698</span>    <span class="number">1981</span><span class="number">-12</span><span class="number">-3</span>       <span class="number">950.0</span>   <span class="keyword">NULL</span>    <span class="number">30</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.359</span> seconds, Fetched: <span class="number">3</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> comm <span class="keyword">is</span> <span class="keyword">null</span>;</span><br><span class="line">OK</span><br><span class="line">emp.empno       emp.ename       emp.job emp.mgr emp.hiredate    emp.sal emp.comm        emp.deptno</span><br><span class="line"><span class="number">7369</span>    SMITH   CLERK   <span class="number">7902</span>    <span class="number">1980</span><span class="number">-12</span><span class="number">-17</span>      <span class="number">800.0</span>   <span class="keyword">NULL</span>    <span class="number">20</span></span><br><span class="line"><span class="number">7566</span>    JONES   MANAGER <span class="number">7839</span>    <span class="number">1981</span><span class="number">-4</span><span class="number">-2</span>        <span class="number">2975.0</span>  <span class="keyword">NULL</span>    <span class="number">20</span></span><br><span class="line"><span class="number">7698</span>    BLAKE   MANAGER <span class="number">7839</span>    <span class="number">1981</span><span class="number">-5</span><span class="number">-1</span>        <span class="number">2850.0</span>  <span class="keyword">NULL</span>    <span class="number">30</span></span><br><span class="line"><span class="number">7782</span>    CLARK   MANARER <span class="number">7829</span>    <span class="number">1981</span><span class="number">-6</span><span class="number">-9</span>        <span class="number">2450.0</span>  <span class="keyword">NULL</span>    <span class="number">10</span></span><br><span class="line"><span class="number">7788</span>    SCOTT   ANALYST <span class="number">7566</span>    <span class="number">1987</span><span class="number">-4</span><span class="number">-19</span>       <span class="number">3000.0</span>  <span class="keyword">NULL</span>    <span class="number">20</span></span><br><span class="line"><span class="number">7839</span>    KING    PRESIDENT       <span class="keyword">NULL</span>    <span class="number">5000.00</span> <span class="keyword">NULL</span>    <span class="keyword">NULL</span>    <span class="number">10</span></span><br><span class="line"><span class="number">7876</span>    ADAMS   CLERK   <span class="number">7788</span>    <span class="number">1987</span><span class="number">-5</span><span class="number">-23</span>       <span class="number">1100.0</span>  <span class="keyword">NULL</span>    <span class="number">20</span></span><br><span class="line"><span class="number">7900</span>    JAMES   CLERK   <span class="number">7698</span>    <span class="number">1981</span><span class="number">-12</span><span class="number">-3</span>       <span class="number">950.0</span>   <span class="keyword">NULL</span>    <span class="number">30</span></span><br><span class="line"><span class="number">7902</span>    FORD    ANALYST <span class="number">7566</span>    <span class="number">1981</span><span class="number">-12</span><span class="number">-3</span>       <span class="number">3000.0</span>  <span class="keyword">NULL</span>    <span class="number">20</span></span><br><span class="line"><span class="number">79934</span>   MILLER  CLERK   <span class="number">7782</span>    <span class="number">1982</span><span class="number">-1</span><span class="number">-23</span>       <span class="number">1300.0</span>  <span class="keyword">NULL</span>    <span class="number">10</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.25</span> seconds, Fetched: <span class="number">10</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal <span class="keyword">in</span> (<span class="number">1500</span>, <span class="number">5000</span>);</span><br><span class="line">OK</span><br><span class="line">emp.empno       emp.ename       emp.job emp.mgr emp.hiredate    emp.sal emp.comm        emp.deptno</span><br><span class="line"><span class="number">7839</span>    KING    PRESIDENT       <span class="keyword">NULL</span>    <span class="number">1981</span><span class="number">-11</span><span class="number">-17</span>      <span class="number">5000.0</span>  <span class="keyword">NULL</span>    <span class="number">10</span></span><br><span class="line"><span class="number">7844</span>    TURNER  SALESMAN        <span class="number">7698</span>    <span class="number">1981</span><span class="number">-9</span><span class="number">-8</span>        <span class="number">1500.0</span>  <span class="number">0.0</span>     <span class="number">30</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.319</span> seconds, Fetched: <span class="number">2</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">=</span><span class="number">1500</span> <span class="keyword">or</span> sal <span class="operator">=</span> <span class="number">5000</span>;</span><br><span class="line">OK</span><br><span class="line">emp.empno       emp.ename       emp.job emp.mgr emp.hiredate    emp.sal emp.comm        emp.deptno</span><br><span class="line"><span class="number">7839</span>    KING    PRESIDENT       <span class="keyword">NULL</span>    <span class="number">1981</span><span class="number">-11</span><span class="number">-17</span>      <span class="number">5000.0</span>  <span class="keyword">NULL</span>    <span class="number">10</span></span><br><span class="line"><span class="number">7844</span>    TURNER  SALESMAN        <span class="number">7698</span>    <span class="number">1981</span><span class="number">-9</span><span class="number">-8</span>        <span class="number">1500.0</span>  <span class="number">0.0</span>     <span class="number">30</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.275</span> seconds, Fetched: <span class="number">2</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>





<p>ï¼ˆ8ï¼‰Like å’Œ RLike</p>
<ol>
<li>ä½¿ç”¨LIKE è¿ç®—é€‰æ‹©ç±»ä¼¼çš„å€¼</li>
<li>é€‰æ‹©æ¡ä»¶å¯ä»¥åŒ…å«å­—ç¬¦æˆ–æ•°å­—</li>
</ol>
<p>â€œ%â€ ä»£è¡¨é›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼ˆä»»æ„ä¸ªå­—ç¬¦ï¼‰</p>
<p>â€œ_â€   ä»£è¡¨ä¸€ä¸ªå­—ç¬¦</p>
<ol start="3">
<li>RLIKEå­å¥</li>
</ol>
<p>RLIKE å­å¥æ˜¯Hiveä¸­è¿™ä¸ªåŠŸèƒ½çš„ä¸€ä¸ªæ‰©å±•ï¼Œå…¶å¯ä»¥é€šè¿‡Javaçš„æ­£åˆ™è¡¨è¾¾å¼è¿™ä¸ªæ›´å¼ºå¤§çš„è¯­è¨€æ¥æŒ‡å®šåŒ¹é…æ¡ä»¶ã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"># æŸ¥è¯¢åå­—ä»¥Aå¼€å¤´çš„å‘˜å·¥ä¿¡æ¯</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">&#x27;A%&#x27;</span>;</span><br><span class="line">OK</span><br><span class="line">emp.empno       emp.ename       emp.job emp.mgr emp.hiredate    emp.sal emp.comm        emp.deptno</span><br><span class="line"><span class="number">7499</span>    ALLEN   SALESMAN        <span class="number">7689</span>    <span class="number">1981</span><span class="number">-2</span><span class="number">-20</span>       <span class="number">1600.0</span>  <span class="number">300.0</span>   <span class="number">30</span></span><br><span class="line"><span class="number">7876</span>    ADAMS   CLERK   <span class="number">7788</span>    <span class="number">1987</span><span class="number">-5</span><span class="number">-23</span>       <span class="number">1100.0</span>  <span class="keyword">NULL</span>    <span class="number">20</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.258</span> seconds, Fetched: <span class="number">2</span> <span class="type">row</span>(s)</span><br><span class="line"></span><br><span class="line"># æŸ¥è¯¢åå­—ä¸­ç¬¬äºŒä¸ªå­—æ¯ä¸ºAçš„å‘˜å·¥ä¿¡æ¯</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">&#x27;_A%&#x27;</span>;</span><br><span class="line">OK</span><br><span class="line">emp.empno       emp.ename       emp.job emp.mgr emp.hiredate    emp.sal emp.comm        emp.deptno</span><br><span class="line"><span class="number">7521</span>    WARD    SALESMAN        <span class="number">7698</span>    <span class="number">1981</span><span class="number">-2</span><span class="number">-22</span>       <span class="number">1250.0</span>  <span class="number">500.0</span>   <span class="number">30</span></span><br><span class="line"><span class="number">7654</span>    MARTIN  SALESMAN        <span class="number">7689</span>    <span class="number">1981</span><span class="number">-8</span><span class="number">-28</span>       <span class="number">1250.0</span>  <span class="number">1400.0</span>  <span class="number">30</span></span><br><span class="line"><span class="number">7900</span>    JAMES   CLERK   <span class="number">7698</span>    <span class="number">1981</span><span class="number">-12</span><span class="number">-3</span>       <span class="number">950.0</span>   <span class="keyword">NULL</span>    <span class="number">30</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.266</span> seconds, Fetched: <span class="number">3</span> <span class="type">row</span>(s)</span><br><span class="line"></span><br><span class="line"># æŸ¥è¯¢åå­—ä¸­å¸¦æœ‰Açš„å‘˜å·¥ä¿¡æ¯ æ³•ä¸€</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> ename rlike <span class="string">&#x27;[A]&#x27;</span>;</span><br><span class="line">OK</span><br><span class="line">emp.empno       emp.ename       emp.job emp.mgr emp.hiredate    emp.sal emp.comm        emp.deptno</span><br><span class="line"><span class="number">7499</span>    ALLEN   SALESMAN        <span class="number">7689</span>    <span class="number">1981</span><span class="number">-2</span><span class="number">-20</span>       <span class="number">1600.0</span>  <span class="number">300.0</span>   <span class="number">30</span></span><br><span class="line"><span class="number">7521</span>    WARD    SALESMAN        <span class="number">7698</span>    <span class="number">1981</span><span class="number">-2</span><span class="number">-22</span>       <span class="number">1250.0</span>  <span class="number">500.0</span>   <span class="number">30</span></span><br><span class="line"><span class="number">7654</span>    MARTIN  SALESMAN        <span class="number">7689</span>    <span class="number">1981</span><span class="number">-8</span><span class="number">-28</span>       <span class="number">1250.0</span>  <span class="number">1400.0</span>  <span class="number">30</span></span><br><span class="line"><span class="number">7698</span>    BLAKE   MANAGER <span class="number">7839</span>    <span class="number">1981</span><span class="number">-5</span><span class="number">-1</span>        <span class="number">2850.0</span>  <span class="keyword">NULL</span>    <span class="number">30</span></span><br><span class="line"><span class="number">7782</span>    CLARK   MANARER <span class="number">7829</span>    <span class="number">1981</span><span class="number">-6</span><span class="number">-9</span>        <span class="number">2450.0</span>  <span class="keyword">NULL</span>    <span class="number">10</span></span><br><span class="line"><span class="number">7876</span>    ADAMS   CLERK   <span class="number">7788</span>    <span class="number">1987</span><span class="number">-5</span><span class="number">-23</span>       <span class="number">1100.0</span>  <span class="keyword">NULL</span>    <span class="number">20</span></span><br><span class="line"><span class="number">7900</span>    JAMES   CLERK   <span class="number">7698</span>    <span class="number">1981</span><span class="number">-12</span><span class="number">-3</span>       <span class="number">950.0</span>   <span class="keyword">NULL</span>    <span class="number">30</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.187</span> seconds, Fetched: <span class="number">7</span> <span class="type">row</span>(s)</span><br><span class="line"></span><br><span class="line"># æŸ¥è¯¢åå­—ä¸­å¸¦æœ‰Açš„å‘˜å·¥ä¿¡æ¯ æ³•äºŒ</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">&#x27;%A%&#x27;</span>;</span><br><span class="line">OK</span><br><span class="line">emp.empno       emp.ename       emp.job emp.mgr emp.hiredate    emp.sal emp.comm        emp.deptno</span><br><span class="line"><span class="number">7499</span>    ALLEN   SALESMAN        <span class="number">7689</span>    <span class="number">1981</span><span class="number">-2</span><span class="number">-20</span>       <span class="number">1600.0</span>  <span class="number">300.0</span>   <span class="number">30</span></span><br><span class="line"><span class="number">7521</span>    WARD    SALESMAN        <span class="number">7698</span>    <span class="number">1981</span><span class="number">-2</span><span class="number">-22</span>       <span class="number">1250.0</span>  <span class="number">500.0</span>   <span class="number">30</span></span><br><span class="line"><span class="number">7654</span>    MARTIN  SALESMAN        <span class="number">7689</span>    <span class="number">1981</span><span class="number">-8</span><span class="number">-28</span>       <span class="number">1250.0</span>  <span class="number">1400.0</span>  <span class="number">30</span></span><br><span class="line"><span class="number">7698</span>    BLAKE   MANAGER <span class="number">7839</span>    <span class="number">1981</span><span class="number">-5</span><span class="number">-1</span>        <span class="number">2850.0</span>  <span class="keyword">NULL</span>    <span class="number">30</span></span><br><span class="line"><span class="number">7782</span>    CLARK   MANARER <span class="number">7829</span>    <span class="number">1981</span><span class="number">-6</span><span class="number">-9</span>        <span class="number">2450.0</span>  <span class="keyword">NULL</span>    <span class="number">10</span></span><br><span class="line"><span class="number">7876</span>    ADAMS   CLERK   <span class="number">7788</span>    <span class="number">1987</span><span class="number">-5</span><span class="number">-23</span>       <span class="number">1100.0</span>  <span class="keyword">NULL</span>    <span class="number">20</span></span><br><span class="line"><span class="number">7900</span>    JAMES   CLERK   <span class="number">7698</span>    <span class="number">1981</span><span class="number">-12</span><span class="number">-3</span>       <span class="number">950.0</span>   <span class="keyword">NULL</span>    <span class="number">30</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.183</span> seconds, Fetched: <span class="number">7</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ9ï¼‰é€»è¾‘è¿ç®—ç¬¦ï¼ˆAnd&#x2F;Or&#x2F;Notï¼‰</p>
<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601271706429.png" alt="image-20231220195301873"></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal <span class="operator">&gt;</span> <span class="number">1000</span> <span class="keyword">and</span> deptno <span class="operator">=</span> <span class="number">30</span>;</span><br><span class="line">OK</span><br><span class="line">emp.empno       emp.ename       emp.job emp.mgr emp.hiredate    emp.sal emp.comm        emp.deptno</span><br><span class="line"><span class="number">7499</span>    ALLEN   SALESMAN        <span class="number">7689</span>    <span class="number">1981</span><span class="number">-2</span><span class="number">-20</span>       <span class="number">1600.0</span>  <span class="number">300.0</span>   <span class="number">30</span></span><br><span class="line"><span class="number">7521</span>    WARD    SALESMAN        <span class="number">7698</span>    <span class="number">1981</span><span class="number">-2</span><span class="number">-22</span>       <span class="number">1250.0</span>  <span class="number">500.0</span>   <span class="number">30</span></span><br><span class="line"><span class="number">7654</span>    MARTIN  SALESMAN        <span class="number">7689</span>    <span class="number">1981</span><span class="number">-8</span><span class="number">-28</span>       <span class="number">1250.0</span>  <span class="number">1400.0</span>  <span class="number">30</span></span><br><span class="line"><span class="number">7698</span>    BLAKE   MANAGER <span class="number">7839</span>    <span class="number">1981</span><span class="number">-5</span><span class="number">-1</span>        <span class="number">2850.0</span>  <span class="keyword">NULL</span>    <span class="number">30</span></span><br><span class="line"><span class="number">7844</span>    TURNER  SALESMAN        <span class="number">7698</span>    <span class="number">1981</span><span class="number">-9</span><span class="number">-8</span>        <span class="number">1500.0</span>  <span class="number">0.0</span>     <span class="number">30</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.265</span> seconds, Fetched: <span class="number">5</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> comm <span class="keyword">is</span> <span class="keyword">not null</span>;</span><br><span class="line">OK</span><br><span class="line">emp.empno       emp.ename       emp.job emp.mgr emp.hiredate    emp.sal emp.comm        emp.deptno</span><br><span class="line"><span class="number">7499</span>    ALLEN   SALESMAN        <span class="number">7689</span>    <span class="number">1981</span><span class="number">-2</span><span class="number">-20</span>       <span class="number">1600.0</span>  <span class="number">300.0</span>   <span class="number">30</span></span><br><span class="line"><span class="number">7521</span>    WARD    SALESMAN        <span class="number">7698</span>    <span class="number">1981</span><span class="number">-2</span><span class="number">-22</span>       <span class="number">1250.0</span>  <span class="number">500.0</span>   <span class="number">30</span></span><br><span class="line"><span class="number">7654</span>    MARTIN  SALESMAN        <span class="number">7689</span>    <span class="number">1981</span><span class="number">-8</span><span class="number">-28</span>       <span class="number">1250.0</span>  <span class="number">1400.0</span>  <span class="number">30</span></span><br><span class="line"><span class="number">7844</span>    TURNER  SALESMAN        <span class="number">7698</span>    <span class="number">1981</span><span class="number">-9</span><span class="number">-8</span>        <span class="number">1500.0</span>  <span class="number">0.0</span>     <span class="number">30</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.227</span> seconds, Fetched: <span class="number">4</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> deptno <span class="keyword">not</span> <span class="keyword">in</span> (<span class="number">30</span>, <span class="number">20</span>);</span><br><span class="line">OK</span><br><span class="line">emp.empno       emp.ename       emp.job emp.mgr emp.hiredate    emp.sal emp.comm        emp.deptno</span><br><span class="line"><span class="number">7782</span>    CLARK   MANARER <span class="number">7829</span>    <span class="number">1981</span><span class="number">-6</span><span class="number">-9</span>        <span class="number">2450.0</span>  <span class="keyword">NULL</span>    <span class="number">10</span></span><br><span class="line"><span class="number">7839</span>    KING    PRESIDENT       <span class="keyword">NULL</span>    <span class="number">1981</span><span class="number">-11</span><span class="number">-17</span>      <span class="number">5000.0</span>  <span class="keyword">NULL</span>    <span class="number">10</span></span><br><span class="line"><span class="number">79934</span>   MILLER  CLERK   <span class="number">7782</span>    <span class="number">1982</span><span class="number">-1</span><span class="number">-23</span>       <span class="number">1300.0</span>  <span class="keyword">NULL</span>    <span class="number">10</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.191</span> seconds, Fetched: <span class="number">3</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ10ï¼‰åˆ†ç»„</p>
<ol>
<li>Group By è¯­å¥</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> t.deptno, <span class="built_in">avg</span>(t.sal) avg_sal <span class="keyword">from</span> emp t <span class="keyword">group</span> <span class="keyword">by</span> t.deptno;</span><br><span class="line">Query ID <span class="operator">=</span> root_20231221094038_4bd1d586<span class="number">-20</span>f4<span class="number">-412</span>d<span class="number">-868</span>d<span class="number">-1</span>df0701852f4</span><br><span class="line">Total jobs <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">Launching Job <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">1</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks <span class="keyword">not</span> specified. Estimated <span class="keyword">from</span> input data size: <span class="number">1</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> change the average load <span class="keyword">for</span> a reducer (<span class="keyword">in</span> bytes):</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.bytes.per.reducer<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> limit the maximum number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.max<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> <span class="keyword">set</span> a constant number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> mapreduce.job.reduces<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line">Starting Job <span class="operator">=</span> job_1703122484268_0002, Tracking URL <span class="operator">=</span> http:<span class="operator">/</span><span class="operator">/</span>hadoop302:<span class="number">8088</span><span class="operator">/</span>proxy<span class="operator">/</span>application_1703122484268_0002<span class="operator">/</span></span><br><span class="line">Kill Command <span class="operator">=</span> <span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>bin<span class="operator">/</span>mapred job  <span class="operator">-</span>kill job_1703122484268_0002</span><br><span class="line">Hadoop job information <span class="keyword">for</span> Stage<span class="number">-1</span>: number <span class="keyword">of</span> mappers: <span class="number">1</span>; number <span class="keyword">of</span> reducers: <span class="number">1</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">09</span>:<span class="number">40</span>:<span class="number">50</span>,<span class="number">899</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">09</span>:<span class="number">41</span>:<span class="number">13</span>,<span class="number">491</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>, Cumulative CPU <span class="number">3.29</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">09</span>:<span class="number">41</span>:<span class="number">20</span>,<span class="number">737</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>, Cumulative CPU <span class="number">7.97</span> sec</span><br><span class="line">MapReduce Total cumulative CPU <span class="type">time</span>: <span class="number">7</span> seconds <span class="number">970</span> msec</span><br><span class="line">Ended Job <span class="operator">=</span> job_1703122484268_0002</span><br><span class="line">MapReduce Jobs Launched:</span><br><span class="line">Stage<span class="operator">-</span>Stage<span class="number">-1</span>: Map: <span class="number">1</span>  Reduce: <span class="number">1</span>   Cumulative CPU: <span class="number">7.97</span> sec   HDFS Read: <span class="number">16441</span> HDFS Write: <span class="number">177</span> SUCCESS</span><br><span class="line">Total MapReduce CPU <span class="type">Time</span> Spent: <span class="number">7</span> seconds <span class="number">970</span> msec</span><br><span class="line">OK</span><br><span class="line">t.deptno        avg_sal</span><br><span class="line"><span class="number">10</span>      <span class="number">2916.6666666666665</span></span><br><span class="line"><span class="number">20</span>      <span class="number">2175.0</span></span><br><span class="line"><span class="number">30</span>      <span class="number">1566.6666666666667</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">43.428</span> seconds, Fetched: <span class="number">3</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç•¥â€¦â€¦â€¦.</p>
<p>ï¼ˆ11ï¼‰Join è¯­å¥</p>
<ol>
<li>å†…è¿æ¥</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> e.empno, e.ename, d.dname <span class="keyword">from</span> emp e <span class="keyword">join</span> dept d <span class="keyword">on</span> e.deptno <span class="operator">=</span> d.deptno;</span><br><span class="line">Query ID <span class="operator">=</span> root_20231221093825_108b61bc<span class="number">-4</span>c2c<span class="number">-4644</span><span class="number">-9</span>f77<span class="number">-069</span>eae03a65f</span><br><span class="line">Total jobs <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">Execution completed successfully</span><br><span class="line">MapredLocal task succeeded</span><br><span class="line">Launching Job <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">1</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks <span class="keyword">is</span> <span class="keyword">set</span> <span class="keyword">to</span> <span class="number">0</span> since there<span class="string">&#x27;s no reduce operator</span></span><br><span class="line"><span class="string">Starting Job = job_1703122484268_0001, Tracking URL = http://hadoop302:8088/proxy/application_1703122484268_0001/</span></span><br><span class="line"><span class="string">Kill Command = /opt/module/hadoop/bin/mapred job  -kill job_1703122484268_0001</span></span><br><span class="line"><span class="string">Hadoop job information for Stage-3: number of mappers: 1; number of reducers: 0</span></span><br><span class="line"><span class="string">2023-12-21 09:38:59,833 Stage-3 map = 0%,  reduce = 0%</span></span><br><span class="line"><span class="string">2023-12-21 09:39:15,516 Stage-3 map = 100%,  reduce = 0%, Cumulative CPU 4.99 sec</span></span><br><span class="line"><span class="string">MapReduce Total cumulative CPU time: 4 seconds 990 msec</span></span><br><span class="line"><span class="string">Ended Job = job_1703122484268_0001</span></span><br><span class="line"><span class="string">MapReduce Jobs Launched:</span></span><br><span class="line"><span class="string">Stage-Stage-3: Map: 1   Cumulative CPU: 4.99 sec   HDFS Read: 10241 HDFS Write: 524 SUCCESS</span></span><br><span class="line"><span class="string">Total MapReduce CPU Time Spent: 4 seconds 990 msec</span></span><br><span class="line"><span class="string">OK</span></span><br><span class="line"><span class="string">e.empno e.ename d.dname</span></span><br><span class="line"><span class="string">7369    SMITH   RESEARCH</span></span><br><span class="line"><span class="string">7499    ALLEN   SALES</span></span><br><span class="line"><span class="string">7521    WARD    SALES</span></span><br><span class="line"><span class="string">7566    JONES   RESEARCH</span></span><br><span class="line"><span class="string">7654    MARTIN  SALES</span></span><br><span class="line"><span class="string">7698    BLAKE   SALES</span></span><br><span class="line"><span class="string">7782    CLARK   ACCOUNTING</span></span><br><span class="line"><span class="string">7788    SCOTT   RESEARCH</span></span><br><span class="line"><span class="string">7839    KING    ACCOUNTING</span></span><br><span class="line"><span class="string">7844    TURNER  SALES</span></span><br><span class="line"><span class="string">7876    ADAMS   RESEARCH</span></span><br><span class="line"><span class="string">7900    JAMES   SALES</span></span><br><span class="line"><span class="string">7902    FORD    RESEARCH</span></span><br><span class="line"><span class="string">79934   MILLER  ACCOUNTING</span></span><br><span class="line"><span class="string">Time taken: 52.22 seconds, Fetched: 14 row(s)</span></span><br><span class="line"><span class="string">hive (default)&gt;</span></span><br></pre></td></tr></table></figure>



<ol start="2">
<li>å·¦å¤–è¿æ¥</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> æ ¹æ®å‘˜å·¥è¡¨å’Œéƒ¨é—¨è¡¨ä¸­çš„éƒ¨é—¨ç¼–å·ç›¸ç­‰ï¼ŒæŸ¥è¯¢å‘˜å·¥ç¼–å·ã€å‘˜å·¥åç§°ã€éƒ¨é—¨ç¼–å·å’Œéƒ¨é—¨åç§°ï¼š</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> å¦‚æœæ²¡æœ‰éƒ¨é—¨åç§°åˆ™è¡¥å……<span class="keyword">NULL</span></span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> e.empno, e.ename, e.deptno, d.dname <span class="keyword">from</span> emp e <span class="keyword">left</span> <span class="keyword">join</span> dept d <span class="keyword">on</span> e.deptno <span class="operator">=</span> d.deptno;</span><br><span class="line">Query ID <span class="operator">=</span> root_20231221095305_d026527e<span class="number">-0</span>b87<span class="number">-4136</span><span class="number">-8</span>d4f<span class="operator">-</span>f93c90fd78fa</span><br><span class="line">Total jobs <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">Execution completed successfully</span><br><span class="line">MapredLocal task succeeded</span><br><span class="line">Launching Job <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">1</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks <span class="keyword">is</span> <span class="keyword">set</span> <span class="keyword">to</span> <span class="number">0</span> since there<span class="string">&#x27;s no reduce operator</span></span><br><span class="line"><span class="string">Starting Job = job_1703122484268_0004, Tracking URL = http://hadoop302:8088/proxy/application_1703122484268_0004/</span></span><br><span class="line"><span class="string">Kill Command = /opt/module/hadoop/bin/mapred job  -kill job_1703122484268_0004</span></span><br><span class="line"><span class="string">Hadoop job information for Stage-3: number of mappers: 1; number of reducers: 0</span></span><br><span class="line"><span class="string">2023-12-21 09:53:28,779 Stage-3 map = 0%,  reduce = 0%</span></span><br><span class="line"><span class="string">2023-12-21 09:53:37,005 Stage-3 map = 100%,  reduce = 0%, Cumulative CPU 3.59 sec</span></span><br><span class="line"><span class="string">MapReduce Total cumulative CPU time: 3 seconds 590 msec</span></span><br><span class="line"><span class="string">Ended Job = job_1703122484268_0004</span></span><br><span class="line"><span class="string">MapReduce Jobs Launched:</span></span><br><span class="line"><span class="string">Stage-Stage-3: Map: 1   Cumulative CPU: 3.59 sec   HDFS Read: 9822 HDFS Write: 566 SUCCESS</span></span><br><span class="line"><span class="string">Total MapReduce CPU Time Spent: 3 seconds 590 msec</span></span><br><span class="line"><span class="string">OK</span></span><br><span class="line"><span class="string">e.empno e.ename e.deptno        d.dname</span></span><br><span class="line"><span class="string">7369    SMITH   20      RESEARCH</span></span><br><span class="line"><span class="string">7499    ALLEN   30      SALES</span></span><br><span class="line"><span class="string">7521    WARD    30      SALES</span></span><br><span class="line"><span class="string">7566    JONES   20      RESEARCH</span></span><br><span class="line"><span class="string">7654    MARTIN  30      SALES</span></span><br><span class="line"><span class="string">7698    BLAKE   30      SALES</span></span><br><span class="line"><span class="string">7782    CLARK   10      ACCOUNTING</span></span><br><span class="line"><span class="string">7788    SCOTT   20      RESEARCH</span></span><br><span class="line"><span class="string">7839    KING    10      ACCOUNTING</span></span><br><span class="line"><span class="string">7844    TURNER  30      SALES</span></span><br><span class="line"><span class="string">7876    ADAMS   20      RESEARCH</span></span><br><span class="line"><span class="string">7900    JAMES   30      SALES</span></span><br><span class="line"><span class="string">7902    FORD    20      RESEARCH</span></span><br><span class="line"><span class="string">79934   MILLER  10      ACCOUNTING</span></span><br><span class="line"><span class="string">Time taken: 33.29 seconds, Fetched: 14 row(s)</span></span><br><span class="line"><span class="string">hive (default)&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>å³å¤–è¿æ¥</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hive (default)&gt; select e.empno, e.ename, e.deptno, d.dname from emp e right join dept d on e.deptno = d.deptno;</span><br><span class="line">Query ID = root_20231221095544_5e8e0e94-6706-4503-b33c-fa98d6e75ada</span><br><span class="line">Total jobs = 1</span><br><span class="line">SLF4J: Failed to load class &quot;org.slf4j.impl.StaticMDCBinder&quot;.</span><br><span class="line">SLF4J: Defaulting to no-operation MDCAdapter implementation.</span><br><span class="line">SLF4J: See http://www.slf4j.org/codes.html#no_static_mdc_binder for further details.</span><br><span class="line">2023-12-21 09:55:59     Starting to launch local task to process map join;      maximum memory = 239075328</span><br><span class="line">2023-12-21 09:56:01     Dump the side-table for tag: 0 with group count: 3 into file: file:/tmp/root/52bffc3a-4871-43d6-b430-9fac03092d41/hive_2023-12-21_09-55-44_863_5586462525119549729-1/-local-10004/HashTable-Stage-3/MapJoin-mapfile30--.hashtable</span><br><span class="line">2023-12-21 09:56:01     Uploaded 1 File to: file:/tmp/root/52bffc3a-4871-43d6-b430-9fac03092d41/hive_2023-12-21_09-55-44_863_5586462525119549729-1/-local-10004/HashTable-Stage-3/MapJoin-mapfile30--.hashtable (499 bytes)</span><br><span class="line">2023-12-21 09:56:01     End of local task; Time Taken: 1.689 sec.</span><br><span class="line">Execution completed successfully</span><br><span class="line">MapredLocal task succeeded</span><br><span class="line">Launching Job 1 out of 1</span><br><span class="line">Number of reduce tasks is set to 0 since there&#x27;s no reduce operator</span><br><span class="line">Starting Job = job_1703122484268_0005, Tracking URL = http://hadoop302:8088/proxy/application_1703122484268_0005/</span><br><span class="line">Kill Command = /opt/module/hadoop/bin/mapred job  -kill job_1703122484268_0005</span><br><span class="line">Hadoop job information for Stage-3: number of mappers: 1; number of reducers: 0</span><br><span class="line">2023-12-21 09:56:12,596 Stage-3 map = 0%,  reduce = 0%</span><br><span class="line">2023-12-21 09:56:20,909 Stage-3 map = 100%,  reduce = 0%, Cumulative CPU 4.05 sec</span><br><span class="line">MapReduce Total cumulative CPU time: 4 seconds 50 msec</span><br><span class="line">Ended Job = job_1703122484268_0005</span><br><span class="line">MapReduce Jobs Launched:</span><br><span class="line">Stage-Stage-3: Map: 1   Cumulative CPU: 4.05 sec   HDFS Read: 8794 HDFS Write: 598 SUCCESS</span><br><span class="line">Total MapReduce CPU Time Spent: 4 seconds 50 msec</span><br><span class="line">OK</span><br><span class="line">e.empno e.ename e.deptno        d.dname</span><br><span class="line">7782    CLARK   10      ACCOUNTING</span><br><span class="line">7839    KING    10      ACCOUNTING</span><br><span class="line">79934   MILLER  10      ACCOUNTING</span><br><span class="line">7369    SMITH   20      RESEARCH</span><br><span class="line">7566    JONES   20      RESEARCH</span><br><span class="line">7788    SCOTT   20      RESEARCH</span><br><span class="line">7876    ADAMS   20      RESEARCH</span><br><span class="line">7902    FORD    20      RESEARCH</span><br><span class="line">7499    ALLEN   30      SALES</span><br><span class="line">7521    WARD    30      SALES</span><br><span class="line">7654    MARTIN  30      SALES</span><br><span class="line">7698    BLAKE   30      SALES</span><br><span class="line">7844    TURNER  30      SALES</span><br><span class="line">7900    JAMES   30      SALES</span><br><span class="line">NULL    NULL    NULL    OPERATIONS</span><br><span class="line">Time taken: 37.219 seconds, Fetched: 15 row(s)</span><br><span class="line">hive (default)&gt;</span><br></pre></td></tr></table></figure>

<p>4. </p>
 <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">  <span class="operator">/</span><span class="operator">/</span> æŸ¥è¯¢æ‰€æœ‰å‘˜å·¥ä¿¡æ¯ä»¥åŠæ‰€æœ‰éƒ¨é—¨ä¿¡æ¯</span><br><span class="line">  hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> e.empno, e.ename, d.deptno, d.dname <span class="keyword">from</span> emp e <span class="keyword">full</span> <span class="keyword">join</span> dept d <span class="keyword">on</span> e.deptno <span class="operator">=</span> d.deptno;</span><br><span class="line">Query ID <span class="operator">=</span> root_20231221101601_1bee9494<span class="number">-012</span>c<span class="number">-4</span>df2<span class="number">-991</span>e<span class="operator">-</span>a20af78fcf58</span><br><span class="line">Total jobs <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">Launching Job <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">1</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks <span class="keyword">not</span> specified. Estimated <span class="keyword">from</span> input data size: <span class="number">1</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> change the average load <span class="keyword">for</span> a reducer (<span class="keyword">in</span> bytes):</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.bytes.per.reducer<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> limit the maximum number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.max<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> <span class="keyword">set</span> a constant number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> mapreduce.job.reduces<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line">Starting Job <span class="operator">=</span> job_1703122484268_0007, Tracking URL <span class="operator">=</span> http:<span class="operator">/</span><span class="operator">/</span>hadoop302:<span class="number">8088</span><span class="operator">/</span>proxy<span class="operator">/</span>application_1703122484268_0007<span class="operator">/</span></span><br><span class="line">Kill Command <span class="operator">=</span> <span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>bin<span class="operator">/</span>mapred job  <span class="operator">-</span>kill job_1703122484268_0007</span><br><span class="line">Hadoop job information <span class="keyword">for</span> Stage<span class="number">-1</span>: number <span class="keyword">of</span> mappers: <span class="number">2</span>; number <span class="keyword">of</span> reducers: <span class="number">1</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">10</span>:<span class="number">16</span>:<span class="number">12</span>,<span class="number">295</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">10</span>:<span class="number">16</span>:<span class="number">27</span>,<span class="number">940</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">50</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>, Cumulative CPU <span class="number">2.81</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">10</span>:<span class="number">16</span>:<span class="number">28</span>,<span class="number">974</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>, Cumulative CPU <span class="number">6.38</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">10</span>:<span class="number">16</span>:<span class="number">34</span>,<span class="number">175</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>, Cumulative CPU <span class="number">9.15</span> sec</span><br><span class="line">MapReduce Total cumulative CPU <span class="type">time</span>: <span class="number">9</span> seconds <span class="number">150</span> msec</span><br><span class="line">Ended Job <span class="operator">=</span> job_1703122484268_0007</span><br><span class="line">MapReduce Jobs Launched:</span><br><span class="line">Stage<span class="operator">-</span>Stage<span class="number">-1</span>: Map: <span class="number">2</span>  Reduce: <span class="number">1</span>   Cumulative CPU: <span class="number">9.15</span> sec   HDFS Read: <span class="number">17623</span> HDFS Write: <span class="number">598</span> SUCCESS</span><br><span class="line">Total MapReduce CPU <span class="type">Time</span> Spent: <span class="number">9</span> seconds <span class="number">150</span> msec</span><br><span class="line">OK</span><br><span class="line">e.empno e.ename d.deptno        d.dname</span><br><span class="line"><span class="number">79934</span>   MILLER  <span class="number">10</span>      ACCOUNTING</span><br><span class="line"><span class="number">7839</span>    KING    <span class="number">10</span>      ACCOUNTING</span><br><span class="line"><span class="number">7782</span>    CLARK   <span class="number">10</span>      ACCOUNTING</span><br><span class="line"><span class="number">7876</span>    ADAMS   <span class="number">20</span>      RESEARCH</span><br><span class="line"><span class="number">7788</span>    SCOTT   <span class="number">20</span>      RESEARCH</span><br><span class="line"><span class="number">7369</span>    SMITH   <span class="number">20</span>      RESEARCH</span><br><span class="line"><span class="number">7566</span>    JONES   <span class="number">20</span>      RESEARCH</span><br><span class="line"><span class="number">7902</span>    FORD    <span class="number">20</span>      RESEARCH</span><br><span class="line"><span class="number">7844</span>    TURNER  <span class="number">30</span>      SALES</span><br><span class="line"><span class="number">7499</span>    ALLEN   <span class="number">30</span>      SALES</span><br><span class="line"><span class="number">7698</span>    BLAKE   <span class="number">30</span>      SALES</span><br><span class="line"><span class="number">7654</span>    MARTIN  <span class="number">30</span>      SALES</span><br><span class="line"><span class="number">7521</span>    WARD    <span class="number">30</span>      SALES</span><br><span class="line"><span class="number">7900</span>    JAMES   <span class="number">30</span>      SALES</span><br><span class="line"><span class="keyword">NULL</span>    <span class="keyword">NULL</span>    <span class="number">40</span>      OPERATIONS</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">35.046</span> seconds, Fetched: <span class="number">15</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="operator">/</span><span class="operator">/</span> æŸ¥è¯¢æ‰€æœ‰å‘˜å·¥ä¿¡æ¯æ‰€åœ¨éƒ¨é—¨ä¿¡æ¯ä¸º<span class="keyword">NULL</span></span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> e.empno, e.ename, d.deptno, d.dname <span class="keyword">from</span> emp e <span class="keyword">left</span> <span class="keyword">join</span> dept d <span class="keyword">on</span> e.deptno <span class="operator">=</span> d.deptno <span class="keyword">where</span> d.deptno <span class="keyword">is</span> <span class="keyword">null</span>;</span><br><span class="line">Query ID <span class="operator">=</span> root_20231221103812_fee8a1db<span class="number">-5</span>a16<span class="number">-414</span>e<span class="operator">-</span>b09d<span class="number">-76536</span>a276019</span><br><span class="line">Total jobs <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">Execution completed successfully</span><br><span class="line">MapredLocal task succeeded</span><br><span class="line">Launching Job <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">1</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks <span class="keyword">is</span> <span class="keyword">set</span> <span class="keyword">to</span> <span class="number">0</span> since there<span class="string">&#x27;s no reduce operator</span></span><br><span class="line"><span class="string">Starting Job = job_1703122484268_0008, Tracking URL = http://hadoop302:8088/proxy/application_1703122484268_0008/</span></span><br><span class="line"><span class="string">Kill Command = /opt/module/hadoop/bin/mapred job  -kill job_1703122484268_0008</span></span><br><span class="line"><span class="string">Hadoop job information for Stage-3: number of mappers: 1; number of reducers: 0</span></span><br><span class="line"><span class="string">2023-12-21 10:38:35,993 Stage-3 map = 0%,  reduce = 0%</span></span><br><span class="line"><span class="string">2023-12-21 10:39:02,913 Stage-3 map = 100%,  reduce = 0%, Cumulative CPU 5.12 sec</span></span><br><span class="line"><span class="string">MapReduce Total cumulative CPU time: 5 seconds 120 msec</span></span><br><span class="line"><span class="string">Ended Job = job_1703122484268_0008</span></span><br><span class="line"><span class="string">MapReduce Jobs Launched:</span></span><br><span class="line"><span class="string">Stage-Stage-3: Map: 1   Cumulative CPU: 5.12 sec   HDFS Read: 10507 HDFS Write: 87 SUCCESS</span></span><br><span class="line"><span class="string">Total MapReduce CPU Time Spent: 5 seconds 120 msec</span></span><br><span class="line"><span class="string">OK</span></span><br><span class="line"><span class="string">e.empno e.ename d.deptno        d.dname</span></span><br><span class="line"><span class="string">Time taken: 51.322 seconds</span></span><br><span class="line"><span class="string">hive (default)&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">æ³¨æ„ï¼š</span></span><br><span class="line"><span class="string">union ï¼šå»é‡</span></span><br><span class="line"><span class="string">union all ï¼šä¸å»é‡</span></span><br><span class="line"><span class="string">å¦‚æœéœ€æ±‚æœ¬èº«ä¸å­˜åœ¨é‡å¤æ•°æ®ï¼Œä½¿ç”¨union,å’Œunion all æ•ˆæœç›¸åŒï¼Œä½¿ç”¨union sll æ€§èƒ½é«˜</span></span><br></pre></td></tr></table></figure>



<ol start="5">
<li>å¤šè¡¨è¿æ¥</li>
</ol>
<p>æ•°æ®å‡†å¤‡</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">1700    Beijing</span><br><span class="line">1800    London</span><br><span class="line">1900    Tokyo</span><br></pre></td></tr></table></figure>

<p>1ï¼‰åˆ›å»ºè¡¨</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">create table</span> if <span class="keyword">not</span> <span class="keyword">exists</span> location(loc <span class="type">int</span>, loc_name string) <span class="type">row</span> format delimited fields terminated <span class="keyword">by</span> <span class="string">&#x27;\t&#x27;</span>;</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">1.453</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<p>2ï¼‰å¯¼å…¥æ•°æ®</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> load data <span class="keyword">local</span> inpath <span class="string">&#x27;/opt/module/data/loc.txt&#x27;</span> <span class="keyword">into</span> <span class="keyword">table</span> location;</span><br><span class="line">Loading data <span class="keyword">to</span> <span class="keyword">table</span> default.location</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.418</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> location;</span><br><span class="line">OK</span><br><span class="line">location.loc    location.loc_name</span><br><span class="line"><span class="number">1700</span>    Beijing</span><br><span class="line"><span class="number">1800</span>    London</span><br><span class="line"><span class="number">1900</span>    Tokyo</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.147</span> seconds, Fetched: <span class="number">3</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<p>3ï¼‰å¤šè¡¨è¿æ¥æŸ¥è¯¢</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> æŸ¥è¯¢å‘˜å·¥å§“åã€éƒ¨é—¨åç§°ã€ä»¥åŠéƒ¨é—¨æ‰€åœ¨åŸå¸‚åç§°</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> e.ename, d.dname, l.loc_name <span class="keyword">from</span> emp e <span class="keyword">join</span> dept d <span class="keyword">on</span> e.deptno <span class="operator">=</span> d.deptno <span class="keyword">join</span> location l <span class="keyword">on</span> d.loc <span class="operator">=</span> l.loc;</span><br><span class="line"><span class="keyword">No</span> Stats <span class="keyword">for</span> <span class="keyword">default</span><span class="variable">@emp</span>, Columns: ename, deptno</span><br><span class="line"><span class="keyword">No</span> Stats <span class="keyword">for</span> <span class="keyword">default</span><span class="variable">@dept</span>, Columns: loc, dname, deptno</span><br><span class="line"><span class="keyword">No</span> Stats <span class="keyword">for</span> <span class="keyword">default</span><span class="variable">@location</span>, Columns: loc, loc_name</span><br><span class="line">Query ID <span class="operator">=</span> root_20231221112134_0bf5d559<span class="operator">-</span>c3bd<span class="number">-4e61</span><span class="number">-9386</span><span class="operator">-</span>deb92bd4f883</span><br><span class="line">Total jobs <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">Execution completed successfully</span><br><span class="line">MapredLocal task succeeded</span><br><span class="line">Launching Job <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">1</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks <span class="keyword">is</span> <span class="keyword">set</span> <span class="keyword">to</span> <span class="number">0</span> since there<span class="string">&#x27;s no reduce operator</span></span><br><span class="line"><span class="string">Starting Job = job_1703122484268_0014, Tracking URL = http://hadoop302:8088/proxy/application_1703122484268_0014/</span></span><br><span class="line"><span class="string">Kill Command = /opt/module/hadoop/bin/mapred job  -kill job_1703122484268_0014</span></span><br><span class="line"><span class="string">Hadoop job information for Stage-5: number of mappers: 1; number of reducers: 0</span></span><br><span class="line"><span class="string">2023-12-21 11:21:54,820 Stage-5 map = 0%,  reduce = 0%</span></span><br><span class="line"><span class="string">2023-12-21 11:22:03,166 Stage-5 map = 100%,  reduce = 0%, Cumulative CPU 4.78 sec</span></span><br><span class="line"><span class="string">MapReduce Total cumulative CPU time: 4 seconds 780 msec</span></span><br><span class="line"><span class="string">Ended Job = job_1703122484268_0014</span></span><br><span class="line"><span class="string">MapReduce Jobs Launched:</span></span><br><span class="line"><span class="string">Stage-Stage-5: Map: 1   Cumulative CPU: 4.78 sec   HDFS Read: 12121 HDFS Write: 548 SUCCESS</span></span><br><span class="line"><span class="string">Total MapReduce CPU Time Spent: 4 seconds 780 msec</span></span><br><span class="line"><span class="string">OK</span></span><br><span class="line"><span class="string">e.ename d.dname l.loc_name</span></span><br><span class="line"><span class="string">SMITH   RESEARCH        London</span></span><br><span class="line"><span class="string">ALLEN   SALES   Tokyo</span></span><br><span class="line"><span class="string">WARD    SALES   Tokyo</span></span><br><span class="line"><span class="string">JONES   RESEARCH        London</span></span><br><span class="line"><span class="string">MARTIN  SALES   Tokyo</span></span><br><span class="line"><span class="string">BLAKE   SALES   Tokyo</span></span><br><span class="line"><span class="string">CLARK   ACCOUNTING      Beijing</span></span><br><span class="line"><span class="string">SCOTT   RESEARCH        London</span></span><br><span class="line"><span class="string">KING    ACCOUNTING      Beijing</span></span><br><span class="line"><span class="string">TURNER  SALES   Tokyo</span></span><br><span class="line"><span class="string">ADAMS   RESEARCH        London</span></span><br><span class="line"><span class="string">JAMES   SALES   Tokyo</span></span><br><span class="line"><span class="string">FORD    RESEARCH        London</span></span><br><span class="line"><span class="string">MILLER  ACCOUNTING      Beijing</span></span><br><span class="line"><span class="string">Time taken: 30.331 seconds, Fetched: 14 row(s)</span></span><br><span class="line"><span class="string">hive (default)&gt;</span></span><br></pre></td></tr></table></figure>



<ol start="6">
<li>ç¬›å¡å„¿ç§¯</li>
</ol>
<ul>
<li>çœç•¥è¿æ¥æ¡ä»¶</li>
<li>è¿æ¥æ¡ä»¶æ— æ•ˆ</li>
<li>æ‰€æœ‰è¡¨ä¸­çš„æ‰€æœ‰è¡Œäº’ç›¸è¿æ¥</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> empno, dname <span class="keyword">from</span> emp, dept;</span><br><span class="line">Warning: Map <span class="keyword">Join</span> MAPJOIN[<span class="number">9</span>][bigTable<span class="operator">=</span>?] <span class="keyword">in</span> task <span class="string">&#x27;Stage-3:MAPRED&#x27;</span> <span class="keyword">is</span> a <span class="keyword">cross</span> product</span><br><span class="line">Query ID <span class="operator">=</span> root_20231221112554_2ceb7bb1<span class="number">-86</span>df<span class="number">-4</span>b96<span class="operator">-</span>bd83<span class="operator">-</span>b96a7faceec1</span><br><span class="line">Total jobs <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">SLF4J: Failed <span class="keyword">to</span> load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.</span><br><span class="line">SLF4J: Defaulting <span class="keyword">to</span> <span class="keyword">no</span><span class="operator">-</span>operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http:<span class="operator">/</span><span class="operator">/</span>www.slf4j.org<span class="operator">/</span>codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">SLF4J: Failed <span class="keyword">to</span> load class &quot;org.slf4j.impl.StaticMDCBinder&quot;.</span><br><span class="line">SLF4J: Defaulting <span class="keyword">to</span> <span class="keyword">no</span><span class="operator">-</span>operation MDCAdapter implementation.</span><br><span class="line">SLF4J: See http:<span class="operator">/</span><span class="operator">/</span>www.slf4j.org<span class="operator">/</span>codes.html#no_static_mdc_binder <span class="keyword">for</span> further details.</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">11</span>:<span class="number">26</span>:<span class="number">03</span>     Starting <span class="keyword">to</span> launch <span class="keyword">local</span> task <span class="keyword">to</span> process map <span class="keyword">join</span>;      maximum memory <span class="operator">=</span> <span class="number">239075328</span></span><br><span class="line">Execution completed successfully</span><br><span class="line">MapredLocal task succeeded</span><br><span class="line">Launching Job <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">1</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks <span class="keyword">is</span> <span class="keyword">set</span> <span class="keyword">to</span> <span class="number">0</span> since there<span class="string">&#x27;s no reduce operator</span></span><br><span class="line"><span class="string">Starting Job = job_1703122484268_0015, Tracking URL = http://hadoop302:8088/proxy/application_1703122484268_0015/</span></span><br><span class="line"><span class="string">Kill Command = /opt/module/hadoop/bin/mapred job  -kill job_1703122484268_0015</span></span><br><span class="line"><span class="string">Hadoop job information for Stage-3: number of mappers: 1; number of reducers: 0</span></span><br><span class="line"><span class="string">2023-12-21 11:26:15,583 Stage-3 map = 0%,  reduce = 0%</span></span><br><span class="line"><span class="string">2023-12-21 11:26:30,060 Stage-3 map = 100%,  reduce = 0%, Cumulative CPU 3.97 sec</span></span><br><span class="line"><span class="string">MapReduce Total cumulative CPU time: 3 seconds 970 msec</span></span><br><span class="line"><span class="string">Ended Job = job_1703122484268_0015</span></span><br><span class="line"><span class="string">MapReduce Jobs Launched:</span></span><br><span class="line"><span class="string">Stage-Stage-3: Map: 1   Cumulative CPU: 3.97 sec   HDFS Read: 9231 HDFS Write: 1561 SUCCESS</span></span><br><span class="line"><span class="string">Total MapReduce CPU Time Spent: 3 seconds 970 msec</span></span><br><span class="line"><span class="string">OK</span></span><br><span class="line"><span class="string">empno   dname</span></span><br><span class="line"><span class="string">7369    ACCOUNTING</span></span><br><span class="line"><span class="string">7369    RESEARCH</span></span><br><span class="line"><span class="string">7369    SALES</span></span><br><span class="line"><span class="string">7369    OPERATIONS</span></span><br><span class="line"><span class="string">7499    ACCOUNTING</span></span><br><span class="line"><span class="string">7499    RESEARCH</span></span><br><span class="line"><span class="string">7499    SALES</span></span><br><span class="line"><span class="string">7499    OPERATIONS</span></span><br><span class="line"><span class="string">7521    ACCOUNTING</span></span><br><span class="line"><span class="string">7521    RESEARCH</span></span><br><span class="line"><span class="string">7521    SALES</span></span><br><span class="line"><span class="string">7521    OPERATIONS</span></span><br><span class="line"><span class="string">7566    ACCOUNTING</span></span><br><span class="line"><span class="string">7566    RESEARCH</span></span><br><span class="line"><span class="string">7566    SALES</span></span><br><span class="line"><span class="string">7566    OPERATIONS</span></span><br><span class="line"><span class="string">7654    ACCOUNTING</span></span><br><span class="line"><span class="string">7654    RESEARCH</span></span><br><span class="line"><span class="string">7654    SALES</span></span><br><span class="line"><span class="string">7654    OPERATIONS</span></span><br><span class="line"><span class="string">7698    ACCOUNTING</span></span><br><span class="line"><span class="string">7698    RESEARCH</span></span><br><span class="line"><span class="string">7698    SALES</span></span><br><span class="line"><span class="string">7698    OPERATIONS</span></span><br><span class="line"><span class="string">7782    ACCOUNTING</span></span><br><span class="line"><span class="string">7782    RESEARCH</span></span><br><span class="line"><span class="string">7782    SALES</span></span><br><span class="line"><span class="string">7782    OPERATIONS</span></span><br><span class="line"><span class="string">7788    ACCOUNTING</span></span><br><span class="line"><span class="string">7788    RESEARCH</span></span><br><span class="line"><span class="string">7788    SALES</span></span><br><span class="line"><span class="string">7788    OPERATIONS</span></span><br><span class="line"><span class="string">7839    ACCOUNTING</span></span><br><span class="line"><span class="string">7839    RESEARCH</span></span><br><span class="line"><span class="string">7839    SALES</span></span><br><span class="line"><span class="string">7839    OPERATIONS</span></span><br><span class="line"><span class="string">7844    ACCOUNTING</span></span><br><span class="line"><span class="string">7844    RESEARCH</span></span><br><span class="line"><span class="string">7844    SALES</span></span><br><span class="line"><span class="string">7844    OPERATIONS</span></span><br><span class="line"><span class="string">7876    ACCOUNTING</span></span><br><span class="line"><span class="string">7876    RESEARCH</span></span><br><span class="line"><span class="string">7876    SALES</span></span><br><span class="line"><span class="string">7876    OPERATIONS</span></span><br><span class="line"><span class="string">7900    ACCOUNTING</span></span><br><span class="line"><span class="string">7900    RESEARCH</span></span><br><span class="line"><span class="string">7900    SALES</span></span><br><span class="line"><span class="string">7900    OPERATIONS</span></span><br><span class="line"><span class="string">7902    ACCOUNTING</span></span><br><span class="line"><span class="string">7902    RESEARCH</span></span><br><span class="line"><span class="string">7902    SALES</span></span><br><span class="line"><span class="string">7902    OPERATIONS</span></span><br><span class="line"><span class="string">79934   ACCOUNTING</span></span><br><span class="line"><span class="string">79934   RESEARCH</span></span><br><span class="line"><span class="string">79934   SALES</span></span><br><span class="line"><span class="string">79934   OPERATIONS</span></span><br><span class="line"><span class="string">Time taken: 37.56 seconds, Fetched: 56 row(s)</span></span><br><span class="line"><span class="string">hive (default)&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">æˆ–</span></span><br><span class="line"><span class="string">hive (default)&gt; select e.ename, d.dname from emp e join dept d;</span></span><br><span class="line"><span class="string">Warning: Map Join MAPJOIN[9][bigTable=?] in task &#x27;</span>Stage<span class="number">-3</span>:MAPRED<span class="string">&#x27; is a cross product</span></span><br><span class="line"><span class="string">Query ID = root_20231221112743_0d68351b-3889-44cc-86bf-c5b63c9fcdcb</span></span><br><span class="line"><span class="string">Total jobs = 1</span></span><br><span class="line"><span class="string">Execution completed successfully</span></span><br><span class="line"><span class="string">MapredLocal task succeeded</span></span><br><span class="line"><span class="string">Launching Job 1 out of 1</span></span><br><span class="line"><span class="string">Number of reduce tasks is set to 0 since there&#x27;</span>s <span class="keyword">no</span> reduce operator</span><br><span class="line">Starting Job <span class="operator">=</span> job_1703122484268_0016, Tracking URL <span class="operator">=</span> http:<span class="operator">/</span><span class="operator">/</span>hadoop302:<span class="number">8088</span><span class="operator">/</span>proxy<span class="operator">/</span>application_1703122484268_0016<span class="operator">/</span></span><br><span class="line">Kill Command <span class="operator">=</span> <span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>bin<span class="operator">/</span>mapred job  <span class="operator">-</span>kill job_1703122484268_0016</span><br><span class="line">Hadoop job information <span class="keyword">for</span> Stage<span class="number">-3</span>: number <span class="keyword">of</span> mappers: <span class="number">1</span>; number <span class="keyword">of</span> reducers: <span class="number">0</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">11</span>:<span class="number">28</span>:<span class="number">04</span>,<span class="number">841</span> Stage<span class="number">-3</span> map <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">11</span>:<span class="number">28</span>:<span class="number">21</span>,<span class="number">429</span> Stage<span class="number">-3</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>, Cumulative CPU <span class="number">3.25</span> sec</span><br><span class="line">MapReduce Total cumulative CPU <span class="type">time</span>: <span class="number">3</span> seconds <span class="number">250</span> msec</span><br><span class="line">Ended Job <span class="operator">=</span> job_1703122484268_0016</span><br><span class="line">MapReduce Jobs Launched:</span><br><span class="line">Stage<span class="operator">-</span>Stage<span class="number">-3</span>: Map: <span class="number">1</span>   Cumulative CPU: <span class="number">3.25</span> sec   HDFS Read: <span class="number">9253</span> HDFS Write: <span class="number">1613</span> SUCCESS</span><br><span class="line">Total MapReduce CPU <span class="type">Time</span> Spent: <span class="number">3</span> seconds <span class="number">250</span> msec</span><br><span class="line">OK</span><br><span class="line">e.ename d.dname</span><br><span class="line">SMITH   ACCOUNTING</span><br><span class="line">SMITH   RESEARCH</span><br><span class="line">SMITH   SALES</span><br><span class="line">SMITH   OPERATIONS</span><br><span class="line">ALLEN   ACCOUNTING</span><br><span class="line">ALLEN   RESEARCH</span><br><span class="line">ALLEN   SALES</span><br><span class="line">ALLEN   OPERATIONS</span><br><span class="line">WARD    ACCOUNTING</span><br><span class="line">WARD    RESEARCH</span><br><span class="line">WARD    SALES</span><br><span class="line">WARD    OPERATIONS</span><br><span class="line">JONES   ACCOUNTING</span><br><span class="line">JONES   RESEARCH</span><br><span class="line">JONES   SALES</span><br><span class="line">JONES   OPERATIONS</span><br><span class="line">MARTIN  ACCOUNTING</span><br><span class="line">MARTIN  RESEARCH</span><br><span class="line">MARTIN  SALES</span><br><span class="line">MARTIN  OPERATIONS</span><br><span class="line">BLAKE   ACCOUNTING</span><br><span class="line">BLAKE   RESEARCH</span><br><span class="line">BLAKE   SALES</span><br><span class="line">BLAKE   OPERATIONS</span><br><span class="line">CLARK   ACCOUNTING</span><br><span class="line">CLARK   RESEARCH</span><br><span class="line">CLARK   SALES</span><br><span class="line">CLARK   OPERATIONS</span><br><span class="line">SCOTT   ACCOUNTING</span><br><span class="line">SCOTT   RESEARCH</span><br><span class="line">SCOTT   SALES</span><br><span class="line">SCOTT   OPERATIONS</span><br><span class="line">KING    ACCOUNTING</span><br><span class="line">KING    RESEARCH</span><br><span class="line">KING    SALES</span><br><span class="line">KING    OPERATIONS</span><br><span class="line">TURNER  ACCOUNTING</span><br><span class="line">TURNER  RESEARCH</span><br><span class="line">TURNER  SALES</span><br><span class="line">TURNER  OPERATIONS</span><br><span class="line">ADAMS   ACCOUNTING</span><br><span class="line">ADAMS   RESEARCH</span><br><span class="line">ADAMS   SALES</span><br><span class="line">ADAMS   OPERATIONS</span><br><span class="line">JAMES   ACCOUNTING</span><br><span class="line">JAMES   RESEARCH</span><br><span class="line">JAMES   SALES</span><br><span class="line">JAMES   OPERATIONS</span><br><span class="line">FORD    ACCOUNTING</span><br><span class="line">FORD    RESEARCH</span><br><span class="line">FORD    SALES</span><br><span class="line">FORD    OPERATIONS</span><br><span class="line">MILLER  ACCOUNTING</span><br><span class="line">MILLER  RESEARCH</span><br><span class="line">MILLER  SALES</span><br><span class="line">MILLER  OPERATIONS</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">40.03</span> seconds, Fetched: <span class="number">56</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<ol start="7">
<li>æ’åº</li>
</ol>
<p>1ï¼‰å…¨å±€æ’åºï¼ˆOrder Byï¼‰</p>
<ul>
<li>ASC  : å‡åº</li>
<li>DESC  ï¼šé™åº</li>
</ul>
<p>ORDER BY å­å¥åœ¨SELSCT è¯­å¥çš„ç»“å°¾</p>
<p>2ï¼‰æŒ‰å·¥èµ„æ’åº</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> ename, sal <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> sal;</span><br><span class="line">Query ID <span class="operator">=</span> root_20231221113310_c6b5e678<span class="number">-3</span>d3d<span class="number">-4</span>d5e<span class="number">-860</span>c<span class="number">-083</span>bdcca9b07</span><br><span class="line">Total jobs <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">Launching Job <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">1</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks determined <span class="keyword">at</span> compile <span class="type">time</span>: <span class="number">1</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> change the average load <span class="keyword">for</span> a reducer (<span class="keyword">in</span> bytes):</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.bytes.per.reducer<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> limit the maximum number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.max<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> <span class="keyword">set</span> a constant number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> mapreduce.job.reduces<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line">Starting Job <span class="operator">=</span> job_1703122484268_0017, Tracking URL <span class="operator">=</span> http:<span class="operator">/</span><span class="operator">/</span>hadoop302:<span class="number">8088</span><span class="operator">/</span>proxy<span class="operator">/</span>application_1703122484268_0017<span class="operator">/</span></span><br><span class="line">Kill Command <span class="operator">=</span> <span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>bin<span class="operator">/</span>mapred job  <span class="operator">-</span>kill job_1703122484268_0017</span><br><span class="line">Hadoop job information <span class="keyword">for</span> Stage<span class="number">-1</span>: number <span class="keyword">of</span> mappers: <span class="number">1</span>; number <span class="keyword">of</span> reducers: <span class="number">1</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">11</span>:<span class="number">33</span>:<span class="number">18</span>,<span class="number">533</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">11</span>:<span class="number">33</span>:<span class="number">31</span>,<span class="number">884</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>, Cumulative CPU <span class="number">4.21</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">11</span>:<span class="number">33</span>:<span class="number">48</span>,<span class="number">378</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>, Cumulative CPU <span class="number">8.28</span> sec</span><br><span class="line">MapReduce Total cumulative CPU <span class="type">time</span>: <span class="number">8</span> seconds <span class="number">280</span> msec</span><br><span class="line">Ended Job <span class="operator">=</span> job_1703122484268_0017</span><br><span class="line">MapReduce Jobs Launched:</span><br><span class="line">Stage<span class="operator">-</span>Stage<span class="number">-1</span>: Map: <span class="number">1</span>  Reduce: <span class="number">1</span>   Cumulative CPU: <span class="number">8.28</span> sec   HDFS Read: <span class="number">11488</span> HDFS Write: <span class="number">435</span> SUCCESS</span><br><span class="line">Total MapReduce CPU <span class="type">Time</span> Spent: <span class="number">8</span> seconds <span class="number">280</span> msec</span><br><span class="line">OK</span><br><span class="line">ename   sal</span><br><span class="line">SMITH   <span class="number">800.0</span></span><br><span class="line">JAMES   <span class="number">950.0</span></span><br><span class="line">ADAMS   <span class="number">1100.0</span></span><br><span class="line">WARD    <span class="number">1250.0</span></span><br><span class="line">MARTIN  <span class="number">1250.0</span></span><br><span class="line">MILLER  <span class="number">1300.0</span></span><br><span class="line">TURNER  <span class="number">1500.0</span></span><br><span class="line">ALLEN   <span class="number">1600.0</span></span><br><span class="line">CLARK   <span class="number">2450.0</span></span><br><span class="line">BLAKE   <span class="number">2850.0</span></span><br><span class="line">JONES   <span class="number">2975.0</span></span><br><span class="line">SCOTT   <span class="number">3000.0</span></span><br><span class="line">FORD    <span class="number">3000.0</span></span><br><span class="line">KING    <span class="number">5000.0</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">39.481</span> seconds, Fetched: <span class="number">14</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<p>3ï¼‰å¤šä¸ªåˆ—æ’åº</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> ename, deptno, sal <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> deptno, sal;</span><br><span class="line">Query ID <span class="operator">=</span> root_20231221114159_267adbc8<span class="number">-316</span>c<span class="number">-4708</span><span class="number">-8</span>fe2<span class="number">-5e65399</span>b1e5d</span><br><span class="line">Total jobs <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">Launching Job <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">1</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks determined <span class="keyword">at</span> compile <span class="type">time</span>: <span class="number">1</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> change the average load <span class="keyword">for</span> a reducer (<span class="keyword">in</span> bytes):</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.bytes.per.reducer<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> limit the maximum number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.max<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> <span class="keyword">set</span> a constant number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> mapreduce.job.reduces<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line">Starting Job <span class="operator">=</span> job_1703122484268_0019, Tracking URL <span class="operator">=</span> http:<span class="operator">/</span><span class="operator">/</span>hadoop302:<span class="number">8088</span><span class="operator">/</span>proxy<span class="operator">/</span>application_1703122484268_0019<span class="operator">/</span></span><br><span class="line">Kill Command <span class="operator">=</span> <span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>bin<span class="operator">/</span>mapred job  <span class="operator">-</span>kill job_1703122484268_0019</span><br><span class="line">Hadoop job information <span class="keyword">for</span> Stage<span class="number">-1</span>: number <span class="keyword">of</span> mappers: <span class="number">1</span>; number <span class="keyword">of</span> reducers: <span class="number">1</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">11</span>:<span class="number">42</span>:<span class="number">07</span>,<span class="number">778</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">11</span>:<span class="number">42</span>:<span class="number">15</span>,<span class="number">008</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>, Cumulative CPU <span class="number">1.83</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">11</span>:<span class="number">42</span>:<span class="number">22</span>,<span class="number">272</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>, Cumulative CPU <span class="number">4.94</span> sec</span><br><span class="line">MapReduce Total cumulative CPU <span class="type">time</span>: <span class="number">4</span> seconds <span class="number">940</span> msec</span><br><span class="line">Ended Job <span class="operator">=</span> job_1703122484268_0019</span><br><span class="line">MapReduce Jobs Launched:</span><br><span class="line">Stage<span class="operator">-</span>Stage<span class="number">-1</span>: Map: <span class="number">1</span>  Reduce: <span class="number">1</span>   Cumulative CPU: <span class="number">4.94</span> sec   HDFS Read: <span class="number">11911</span> HDFS Write: <span class="number">477</span> SUCCESS</span><br><span class="line">Total MapReduce CPU <span class="type">Time</span> Spent: <span class="number">4</span> seconds <span class="number">940</span> msec</span><br><span class="line">OK</span><br><span class="line">ename   deptno  sal</span><br><span class="line">MILLER  <span class="number">10</span>      <span class="number">1300.0</span></span><br><span class="line">CLARK   <span class="number">10</span>      <span class="number">2450.0</span></span><br><span class="line">KING    <span class="number">10</span>      <span class="number">5000.0</span></span><br><span class="line">SMITH   <span class="number">20</span>      <span class="number">800.0</span></span><br><span class="line">ADAMS   <span class="number">20</span>      <span class="number">1100.0</span></span><br><span class="line">JONES   <span class="number">20</span>      <span class="number">2975.0</span></span><br><span class="line">SCOTT   <span class="number">20</span>      <span class="number">3000.0</span></span><br><span class="line">FORD    <span class="number">20</span>      <span class="number">3000.0</span></span><br><span class="line">JAMES   <span class="number">30</span>      <span class="number">950.0</span></span><br><span class="line">MARTIN  <span class="number">30</span>      <span class="number">1250.0</span></span><br><span class="line">WARD    <span class="number">30</span>      <span class="number">1250.0</span></span><br><span class="line">TURNER  <span class="number">30</span>      <span class="number">1500.0</span></span><br><span class="line">ALLEN   <span class="number">30</span>      <span class="number">1600.0</span></span><br><span class="line">BLAKE   <span class="number">30</span>      <span class="number">2850.0</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">23.79</span> seconds, Fetched: <span class="number">14</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<p>4ï¼‰æ¯ä¸ªReduce å†…éƒ¨æ’åºï¼ˆSort Byï¼‰</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp sort <span class="keyword">by</span> deptno <span class="keyword">desc</span>;</span><br><span class="line">Query ID <span class="operator">=</span> root_20231221145510_2ebee977<span class="number">-01</span>d5<span class="number">-4</span>eb1<span class="number">-96</span>ca<span class="operator">-</span>d2f882654636</span><br><span class="line">Total jobs <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">Launching Job <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">1</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks <span class="keyword">not</span> specified. Estimated <span class="keyword">from</span> input data size: <span class="number">1</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> change the average load <span class="keyword">for</span> a reducer (<span class="keyword">in</span> bytes):</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.bytes.per.reducer<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> limit the maximum number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.max<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> <span class="keyword">set</span> a constant number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> mapreduce.job.reduces<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line">Starting Job <span class="operator">=</span> job_1703140954122_0001, Tracking URL <span class="operator">=</span> http:<span class="operator">/</span><span class="operator">/</span>hadoop302:<span class="number">8088</span><span class="operator">/</span>proxy<span class="operator">/</span>application_1703140954122_0001<span class="operator">/</span></span><br><span class="line">Kill Command <span class="operator">=</span> <span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>bin<span class="operator">/</span>mapred job  <span class="operator">-</span>kill job_1703140954122_0001</span><br><span class="line">Hadoop job information <span class="keyword">for</span> Stage<span class="number">-1</span>: number <span class="keyword">of</span> mappers: <span class="number">1</span>; number <span class="keyword">of</span> reducers: <span class="number">1</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">14</span>:<span class="number">55</span>:<span class="number">30</span>,<span class="number">224</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">14</span>:<span class="number">55</span>:<span class="number">44</span>,<span class="number">794</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>, Cumulative CPU <span class="number">4.25</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">14</span>:<span class="number">56</span>:<span class="number">16</span>,<span class="number">855</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>, Cumulative CPU <span class="number">8.12</span> sec</span><br><span class="line">MapReduce Total cumulative CPU <span class="type">time</span>: <span class="number">8</span> seconds <span class="number">120</span> msec</span><br><span class="line">Ended Job <span class="operator">=</span> job_1703140954122_0001</span><br><span class="line">MapReduce Jobs Launched:</span><br><span class="line">Stage<span class="operator">-</span>Stage<span class="number">-1</span>: Map: <span class="number">1</span>  Reduce: <span class="number">1</span>   Cumulative CPU: <span class="number">8.12</span> sec   HDFS Read: <span class="number">13337</span> HDFS Write: <span class="number">917</span> SUCCESS</span><br><span class="line">Total MapReduce CPU <span class="type">Time</span> Spent: <span class="number">8</span> seconds <span class="number">120</span> msec</span><br><span class="line">OK</span><br><span class="line">emp.empno       emp.ename       emp.job emp.mgr emp.hiredate    emp.sal emp.comm        emp.deptno</span><br><span class="line"><span class="number">7521</span>    WARD    SALESMAN        <span class="number">7698</span>    <span class="number">1981</span><span class="number">-2</span><span class="number">-22</span>       <span class="number">1250.0</span>  <span class="number">500.0</span>   <span class="number">30</span></span><br><span class="line"><span class="number">7499</span>    ALLEN   SALESMAN        <span class="number">7689</span>    <span class="number">1981</span><span class="number">-2</span><span class="number">-20</span>       <span class="number">1600.0</span>  <span class="number">300.0</span>   <span class="number">30</span></span><br><span class="line"><span class="number">7900</span>    JAMES   CLERK   <span class="number">7698</span>    <span class="number">1981</span><span class="number">-12</span><span class="number">-3</span>       <span class="number">950.0</span>   <span class="keyword">NULL</span>    <span class="number">30</span></span><br><span class="line"><span class="number">7844</span>    TURNER  SALESMAN        <span class="number">7698</span>    <span class="number">1981</span><span class="number">-9</span><span class="number">-8</span>        <span class="number">1500.0</span>  <span class="number">0.0</span>     <span class="number">30</span></span><br><span class="line"><span class="number">7698</span>    BLAKE   MANAGER <span class="number">7839</span>    <span class="number">1981</span><span class="number">-5</span><span class="number">-1</span>        <span class="number">2850.0</span>  <span class="keyword">NULL</span>    <span class="number">30</span></span><br><span class="line"><span class="number">7654</span>    MARTIN  SALESMAN        <span class="number">7689</span>    <span class="number">1981</span><span class="number">-8</span><span class="number">-28</span>       <span class="number">1250.0</span>  <span class="number">1400.0</span>  <span class="number">30</span></span><br><span class="line"><span class="number">7876</span>    ADAMS   CLERK   <span class="number">7788</span>    <span class="number">1987</span><span class="number">-5</span><span class="number">-23</span>       <span class="number">1100.0</span>  <span class="keyword">NULL</span>    <span class="number">20</span></span><br><span class="line"><span class="number">7902</span>    FORD    ANALYST <span class="number">7566</span>    <span class="number">1981</span><span class="number">-12</span><span class="number">-3</span>       <span class="number">3000.0</span>  <span class="keyword">NULL</span>    <span class="number">20</span></span><br><span class="line"><span class="number">7788</span>    SCOTT   ANALYST <span class="number">7566</span>    <span class="number">1987</span><span class="number">-4</span><span class="number">-19</span>       <span class="number">3000.0</span>  <span class="keyword">NULL</span>    <span class="number">20</span></span><br><span class="line"><span class="number">7369</span>    SMITH   CLERK   <span class="number">7902</span>    <span class="number">1980</span><span class="number">-12</span><span class="number">-17</span>      <span class="number">800.0</span>   <span class="keyword">NULL</span>    <span class="number">20</span></span><br><span class="line"><span class="number">7566</span>    JONES   MANAGER <span class="number">7839</span>    <span class="number">1981</span><span class="number">-4</span><span class="number">-2</span>        <span class="number">2975.0</span>  <span class="keyword">NULL</span>    <span class="number">20</span></span><br><span class="line"><span class="number">79934</span>   MILLER  CLERK   <span class="number">7782</span>    <span class="number">1982</span><span class="number">-1</span><span class="number">-23</span>       <span class="number">1300.0</span>  <span class="keyword">NULL</span>    <span class="number">10</span></span><br><span class="line"><span class="number">7839</span>    KING    PRESIDENT       <span class="keyword">NULL</span>    <span class="number">1981</span><span class="number">-11</span><span class="number">-17</span>      <span class="number">5000.0</span>  <span class="keyword">NULL</span>    <span class="number">10</span></span><br><span class="line"><span class="number">7782</span>    CLARK   MANARER <span class="number">7829</span>    <span class="number">1981</span><span class="number">-6</span><span class="number">-9</span>        <span class="number">2450.0</span>  <span class="keyword">NULL</span>    <span class="number">10</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">68.678</span> seconds, Fetched: <span class="number">14</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> ename, deptno <span class="keyword">from</span> emp sort <span class="keyword">by</span> deptno <span class="keyword">desc</span>;</span><br><span class="line">Query ID <span class="operator">=</span> root_20231221145709_3e9d4a83<span class="number">-8821</span><span class="number">-445</span>b<span class="number">-88</span>ea<span class="number">-3</span>b3c28006b39</span><br><span class="line">Total jobs <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">Launching Job <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">1</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks <span class="keyword">not</span> specified. Estimated <span class="keyword">from</span> input data size: <span class="number">1</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> change the average load <span class="keyword">for</span> a reducer (<span class="keyword">in</span> bytes):</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.bytes.per.reducer<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> limit the maximum number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.max<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> <span class="keyword">set</span> a constant number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> mapreduce.job.reduces<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line">Starting Job <span class="operator">=</span> job_1703140954122_0002, Tracking URL <span class="operator">=</span> http:<span class="operator">/</span><span class="operator">/</span>hadoop302:<span class="number">8088</span><span class="operator">/</span>proxy<span class="operator">/</span>application_1703140954122_0002<span class="operator">/</span></span><br><span class="line">Kill Command <span class="operator">=</span> <span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>bin<span class="operator">/</span>mapred job  <span class="operator">-</span>kill job_1703140954122_0002</span><br><span class="line">Hadoop job information <span class="keyword">for</span> Stage<span class="number">-1</span>: number <span class="keyword">of</span> mappers: <span class="number">1</span>; number <span class="keyword">of</span> reducers: <span class="number">1</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">14</span>:<span class="number">57</span>:<span class="number">20</span>,<span class="number">783</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">14</span>:<span class="number">57</span>:<span class="number">49</span>,<span class="number">894</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>, Cumulative CPU <span class="number">2.4</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">14</span>:<span class="number">57</span>:<span class="number">56</span>,<span class="number">118</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>, Cumulative CPU <span class="number">6.37</span> sec</span><br><span class="line">MapReduce Total cumulative CPU <span class="type">time</span>: <span class="number">6</span> seconds <span class="number">370</span> msec</span><br><span class="line">Ended Job <span class="operator">=</span> job_1703140954122_0002</span><br><span class="line">MapReduce Jobs Launched:</span><br><span class="line">Stage<span class="operator">-</span>Stage<span class="number">-1</span>: Map: <span class="number">1</span>  Reduce: <span class="number">1</span>   Cumulative CPU: <span class="number">6.37</span> sec   HDFS Read: <span class="number">11552</span> HDFS Write: <span class="number">381</span> SUCCESS</span><br><span class="line">Total MapReduce CPU <span class="type">Time</span> Spent: <span class="number">6</span> seconds <span class="number">370</span> msec</span><br><span class="line">OK</span><br><span class="line">ename   deptno</span><br><span class="line">WARD    <span class="number">30</span></span><br><span class="line">ALLEN   <span class="number">30</span></span><br><span class="line">JAMES   <span class="number">30</span></span><br><span class="line">TURNER  <span class="number">30</span></span><br><span class="line">BLAKE   <span class="number">30</span></span><br><span class="line">MARTIN  <span class="number">30</span></span><br><span class="line">ADAMS   <span class="number">20</span></span><br><span class="line">FORD    <span class="number">20</span></span><br><span class="line">SCOTT   <span class="number">20</span></span><br><span class="line">SMITH   <span class="number">20</span></span><br><span class="line">JONES   <span class="number">20</span></span><br><span class="line">MILLER  <span class="number">10</span></span><br><span class="line">KING    <span class="number">10</span></span><br><span class="line">CLARK   <span class="number">10</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">48.494</span> seconds, Fetched: <span class="number">14</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">insert</span> overwrite <span class="keyword">local</span> directory <span class="string">&#x27;./sort-by&#x27;</span> <span class="keyword">select</span> ename, deptno <span class="keyword">from</span> emp sort <span class="keyword">by</span> deptno <span class="keyword">desc</span></span><br><span class="line">Query ID <span class="operator">=</span> root_20231221150201_252fecc3<span class="number">-3392</span><span class="number">-4406</span><span class="number">-86</span>a9<span class="number">-16862118760</span>c</span><br><span class="line">Total jobs <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">Launching Job <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">1</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks <span class="keyword">not</span> specified. Estimated <span class="keyword">from</span> input data size: <span class="number">1</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> change the average load <span class="keyword">for</span> a reducer (<span class="keyword">in</span> bytes):</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.bytes.per.reducer<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> limit the maximum number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.max<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> <span class="keyword">set</span> a constant number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> mapreduce.job.reduces<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line">Starting Job <span class="operator">=</span> job_1703140954122_0003, Tracking URL <span class="operator">=</span> http:<span class="operator">/</span><span class="operator">/</span>hadoop302:<span class="number">8088</span><span class="operator">/</span>proxy<span class="operator">/</span>application_1703140954122_00</span><br><span class="line">Kill Command <span class="operator">=</span> <span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>bin<span class="operator">/</span>mapred job  <span class="operator">-</span>kill job_1703140954122_0003</span><br><span class="line">Hadoop job information <span class="keyword">for</span> Stage<span class="number">-1</span>: number <span class="keyword">of</span> mappers: <span class="number">1</span>; number <span class="keyword">of</span> reducers: <span class="number">1</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">15</span>:<span class="number">02</span>:<span class="number">09</span>,<span class="number">624</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">15</span>:<span class="number">02</span>:<span class="number">16</span>,<span class="number">872</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>, Cumulative CPU <span class="number">2.31</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">15</span>:<span class="number">02</span>:<span class="number">32</span>,<span class="number">538</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>, Cumulative CPU <span class="number">6.96</span> sec</span><br><span class="line">MapReduce Total cumulative CPU <span class="type">time</span>: <span class="number">6</span> seconds <span class="number">960</span> msec</span><br><span class="line">Ended Job <span class="operator">=</span> job_1703140954122_0003</span><br><span class="line">Moving data <span class="keyword">to</span> <span class="keyword">local</span> directory sort<span class="operator">-</span><span class="keyword">by</span></span><br><span class="line">MapReduce Jobs Launched:</span><br><span class="line">Stage<span class="operator">-</span>Stage<span class="number">-1</span>: Map: <span class="number">1</span>  Reduce: <span class="number">1</span>   Cumulative CPU: <span class="number">6.96</span> sec   HDFS Read: <span class="number">11130</span> HDFS Write: <span class="number">126</span> SUCCESS</span><br><span class="line">Total MapReduce CPU <span class="type">Time</span> Spent: <span class="number">6</span> seconds <span class="number">960</span> msec</span><br><span class="line">OK</span><br><span class="line">ename   deptno</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">32.725</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> </span><br><span class="line"></span><br><span class="line">[root<span class="variable">@hadoop301</span> sort<span class="operator">-</span><span class="keyword">by</span>]# cat <span class="number">000000</span>_1</span><br><span class="line">WARD30</span><br><span class="line">ALLEN30</span><br><span class="line">JAMES30</span><br><span class="line">TURNER30</span><br><span class="line">BLAKE30</span><br><span class="line">MARTIN30</span><br><span class="line">ADAMS20</span><br><span class="line">FORD20</span><br><span class="line">SCOTT20</span><br><span class="line">SMITH20</span><br><span class="line">JONES20</span><br><span class="line">MILLER10</span><br><span class="line">KING10</span><br><span class="line">CLARK10</span><br></pre></td></tr></table></figure>



<p>5ï¼‰åˆ†åŒºï¼ˆDistribute Byï¼‰</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> deptno, ename, sal <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> deptno, sal;</span><br><span class="line">Query ID <span class="operator">=</span> root_20231221151421_b2584182<span class="number">-0</span>f82<span class="number">-49</span>ae<span class="operator">-</span>a8fe<span class="number">-0</span>a7d5703fb17</span><br><span class="line">Total jobs <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">Launching Job <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">1</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks determined <span class="keyword">at</span> compile <span class="type">time</span>: <span class="number">1</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> change the average load <span class="keyword">for</span> a reducer (<span class="keyword">in</span> bytes):</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.bytes.per.reducer<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> limit the maximum number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.max<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> <span class="keyword">set</span> a constant number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> mapreduce.job.reduces<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line">Starting Job <span class="operator">=</span> job_1703140954122_0005, Tracking URL <span class="operator">=</span> http:<span class="operator">/</span><span class="operator">/</span>hadoop302:<span class="number">8088</span><span class="operator">/</span>proxy<span class="operator">/</span>application_1703140954122_0005<span class="operator">/</span></span><br><span class="line">Kill Command <span class="operator">=</span> <span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>bin<span class="operator">/</span>mapred job  <span class="operator">-</span>kill job_1703140954122_0005</span><br><span class="line">Hadoop job information <span class="keyword">for</span> Stage<span class="number">-1</span>: number <span class="keyword">of</span> mappers: <span class="number">1</span>; number <span class="keyword">of</span> reducers: <span class="number">1</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">15</span>:<span class="number">14</span>:<span class="number">30</span>,<span class="number">435</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">15</span>:<span class="number">14</span>:<span class="number">37</span>,<span class="number">677</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>, Cumulative CPU <span class="number">2.73</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">15</span>:<span class="number">14</span>:<span class="number">53</span>,<span class="number">130</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>, Cumulative CPU <span class="number">5.72</span> sec</span><br><span class="line">MapReduce Total cumulative CPU <span class="type">time</span>: <span class="number">5</span> seconds <span class="number">720</span> msec</span><br><span class="line">Ended Job <span class="operator">=</span> job_1703140954122_0005</span><br><span class="line">MapReduce Jobs Launched:</span><br><span class="line">Stage<span class="operator">-</span>Stage<span class="number">-1</span>: Map: <span class="number">1</span>  Reduce: <span class="number">1</span>   Cumulative CPU: <span class="number">5.72</span> sec   HDFS Read: <span class="number">11918</span> HDFS Write: <span class="number">477</span> SUCCESS</span><br><span class="line">Total MapReduce CPU <span class="type">Time</span> Spent: <span class="number">5</span> seconds <span class="number">720</span> msec</span><br><span class="line">OK</span><br><span class="line">deptno  ename   sal</span><br><span class="line"><span class="number">10</span>      MILLER  <span class="number">1300.0</span></span><br><span class="line"><span class="number">10</span>      CLARK   <span class="number">2450.0</span></span><br><span class="line"><span class="number">10</span>      KING    <span class="number">5000.0</span></span><br><span class="line"><span class="number">20</span>      SMITH   <span class="number">800.0</span></span><br><span class="line"><span class="number">20</span>      ADAMS   <span class="number">1100.0</span></span><br><span class="line"><span class="number">20</span>      JONES   <span class="number">2975.0</span></span><br><span class="line"><span class="number">20</span>      SCOTT   <span class="number">3000.0</span></span><br><span class="line"><span class="number">20</span>      FORD    <span class="number">3000.0</span></span><br><span class="line"><span class="number">30</span>      JAMES   <span class="number">950.0</span></span><br><span class="line"><span class="number">30</span>      MARTIN  <span class="number">1250.0</span></span><br><span class="line"><span class="number">30</span>      WARD    <span class="number">1250.0</span></span><br><span class="line"><span class="number">30</span>      TURNER  <span class="number">1500.0</span></span><br><span class="line"><span class="number">30</span>      ALLEN   <span class="number">1600.0</span></span><br><span class="line"><span class="number">30</span>      BLAKE   <span class="number">2850.0</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">33.702</span> seconds, Fetched: <span class="number">14</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">set</span> mapreduce.job.reduces<span class="operator">=</span><span class="number">4</span>;</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> deptno, ename, sal <span class="keyword">from</span> emp distribute <span class="keyword">by</span> deptno sort <span class="keyword">by</span> sal;</span><br><span class="line">Query ID <span class="operator">=</span> root_20231221151653_41be6520<span class="operator">-</span>c6b1<span class="number">-4</span>bf1<span class="number">-9174</span><span class="operator">-</span>e526b9e2e37b</span><br><span class="line">Total jobs <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">Launching Job <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">1</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks <span class="keyword">not</span> specified. Defaulting <span class="keyword">to</span> jobconf <span class="keyword">value</span> <span class="keyword">of</span>: <span class="number">4</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> change the average load <span class="keyword">for</span> a reducer (<span class="keyword">in</span> bytes):</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.bytes.per.reducer<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> limit the maximum number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.max<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> <span class="keyword">set</span> a constant number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> mapreduce.job.reduces<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line">Starting Job <span class="operator">=</span> job_1703140954122_0006, Tracking URL <span class="operator">=</span> http:<span class="operator">/</span><span class="operator">/</span>hadoop302:<span class="number">8088</span><span class="operator">/</span>proxy<span class="operator">/</span>application_1703140954122_0006<span class="operator">/</span></span><br><span class="line">Kill Command <span class="operator">=</span> <span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>bin<span class="operator">/</span>mapred job  <span class="operator">-</span>kill job_1703140954122_0006</span><br><span class="line">Hadoop job information <span class="keyword">for</span> Stage<span class="number">-1</span>: number <span class="keyword">of</span> mappers: <span class="number">1</span>; number <span class="keyword">of</span> reducers: <span class="number">4</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">15</span>:<span class="number">17</span>:<span class="number">02</span>,<span class="number">248</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">15</span>:<span class="number">17</span>:<span class="number">19</span>,<span class="number">881</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>, Cumulative CPU <span class="number">1.67</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">15</span>:<span class="number">17</span>:<span class="number">27</span>,<span class="number">204</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">25</span><span class="operator">%</span>, Cumulative CPU <span class="number">1.67</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">15</span>:<span class="number">17</span>:<span class="number">34</span>,<span class="number">546</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">75</span><span class="operator">%</span>, Cumulative CPU <span class="number">14.58</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">15</span>:<span class="number">17</span>:<span class="number">37</span>,<span class="number">660</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>, Cumulative CPU <span class="number">14.58</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">15</span>:<span class="number">17</span>:<span class="number">38</span>,<span class="number">687</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">75</span><span class="operator">%</span>, Cumulative CPU <span class="number">14.58</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">15</span>:<span class="number">17</span>:<span class="number">44</span>,<span class="number">917</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>, Cumulative CPU <span class="number">17.78</span> sec</span><br><span class="line">MapReduce Total cumulative CPU <span class="type">time</span>: <span class="number">17</span> seconds <span class="number">780</span> msec</span><br><span class="line">Ended Job <span class="operator">=</span> job_1703140954122_0006</span><br><span class="line">MapReduce Jobs Launched:</span><br><span class="line">Stage<span class="operator">-</span>Stage<span class="number">-1</span>: Map: <span class="number">1</span>  Reduce: <span class="number">4</span>   Cumulative CPU: <span class="number">17.78</span> sec   HDFS Read: <span class="number">28696</span> HDFS Write: <span class="number">738</span> SUCCESS</span><br><span class="line">Total MapReduce CPU <span class="type">Time</span> Spent: <span class="number">17</span> seconds <span class="number">780</span> msec</span><br><span class="line">OK</span><br><span class="line">deptno  ename   sal</span><br><span class="line"><span class="number">20</span>      SMITH   <span class="number">800.0</span></span><br><span class="line"><span class="number">20</span>      ADAMS   <span class="number">1100.0</span></span><br><span class="line"><span class="number">20</span>      JONES   <span class="number">2975.0</span></span><br><span class="line"><span class="number">20</span>      FORD    <span class="number">3000.0</span></span><br><span class="line"><span class="number">20</span>      SCOTT   <span class="number">3000.0</span></span><br><span class="line"><span class="number">30</span>      JAMES   <span class="number">950.0</span></span><br><span class="line"><span class="number">30</span>      MARTIN  <span class="number">1250.0</span></span><br><span class="line"><span class="number">30</span>      WARD    <span class="number">1250.0</span></span><br><span class="line"><span class="number">10</span>      MILLER  <span class="number">1300.0</span></span><br><span class="line"><span class="number">30</span>      TURNER  <span class="number">1500.0</span></span><br><span class="line"><span class="number">30</span>      ALLEN   <span class="number">1600.0</span></span><br><span class="line"><span class="number">10</span>      CLARK   <span class="number">2450.0</span></span><br><span class="line"><span class="number">30</span>      BLAKE   <span class="number">2850.0</span></span><br><span class="line"><span class="number">10</span>      KING    <span class="number">5000.0</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">53.548</span> seconds, Fetched: <span class="number">14</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹å…·ä½“åˆ†åŒºæƒ…å†µï¼š</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">insert</span> overwrite <span class="keyword">local</span> directory <span class="string">&#x27;./distribute-by&#x27;</span> <span class="keyword">select</span> deptno, ename, sal <span class="keyword">from</span> emp distribute <span class="keyword">by</span> deptno sort <span class="keyword">by</span> sal;</span><br><span class="line">Query ID <span class="operator">=</span> root_20231221151945_ecf1bbf7<span class="number">-0841</span><span class="number">-418</span>d<span class="number">-83</span>dc<span class="number">-8</span>aaa891e488c</span><br><span class="line">Total jobs <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">Launching Job <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">1</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks <span class="keyword">not</span> specified. Defaulting <span class="keyword">to</span> jobconf <span class="keyword">value</span> <span class="keyword">of</span>: <span class="number">4</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> change the average load <span class="keyword">for</span> a reducer (<span class="keyword">in</span> bytes):</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.bytes.per.reducer<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> limit the maximum number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.max<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> <span class="keyword">set</span> a constant number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> mapreduce.job.reduces<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line">Starting Job <span class="operator">=</span> job_1703140954122_0007, Tracking URL <span class="operator">=</span> http:<span class="operator">/</span><span class="operator">/</span>hadoop302:<span class="number">8088</span><span class="operator">/</span>proxy<span class="operator">/</span>application_1703140954122_0007<span class="operator">/</span></span><br><span class="line">Kill Command <span class="operator">=</span> <span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>bin<span class="operator">/</span>mapred job  <span class="operator">-</span>kill job_1703140954122_0007</span><br><span class="line">Hadoop job information <span class="keyword">for</span> Stage<span class="number">-1</span>: number <span class="keyword">of</span> mappers: <span class="number">1</span>; number <span class="keyword">of</span> reducers: <span class="number">4</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">15</span>:<span class="number">19</span>:<span class="number">53</span>,<span class="number">619</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">15</span>:<span class="number">20</span>:<span class="number">10</span>,<span class="number">196</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>, Cumulative CPU <span class="number">2.9</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">15</span>:<span class="number">20</span>:<span class="number">35</span>,<span class="number">519</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">25</span><span class="operator">%</span>, Cumulative CPU <span class="number">6.78</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span> <span class="number">15</span>:<span class="number">20</span>:<span class="number">43</span>,<span class="number">914</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>, Cumulative CPU <span class="number">14.8</span> sec</span><br><span class="line">MapReduce Total cumulative CPU <span class="type">time</span>: <span class="number">14</span> seconds <span class="number">800</span> msec</span><br><span class="line">Ended Job <span class="operator">=</span> job_1703140954122_0007</span><br><span class="line">Moving data <span class="keyword">to</span> <span class="keyword">local</span> directory distribute<span class="operator">-</span><span class="keyword">by</span></span><br><span class="line">MapReduce Jobs Launched:</span><br><span class="line">Stage<span class="operator">-</span>Stage<span class="number">-1</span>: Map: <span class="number">1</span>  Reduce: <span class="number">4</span>   Cumulative CPU: <span class="number">14.8</span> sec   HDFS Read: <span class="number">27060</span> HDFS Write: <span class="number">222</span> SUCCESS</span><br><span class="line">Total MapReduce CPU <span class="type">Time</span> Spent: <span class="number">14</span> seconds <span class="number">800</span> msec</span><br><span class="line">OK</span><br><span class="line">deptno  ename   sal</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">60.688</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line"># åˆ†äº†<span class="number">4</span>ä¸ªåŒºï¼Œå…¶ä¸­æœ‰ä¸¤ä¸ªæ˜¯ç©ºçš„</span><br><span class="line">[root<span class="variable">@hadoop301</span> distribute<span class="operator">-</span><span class="keyword">by</span>]# ll</span><br><span class="line">æ€»ç”¨é‡ <span class="number">8</span></span><br><span class="line"><span class="operator">-</span>rw<span class="operator">-</span>r<span class="comment">--r--. 1 root root  78 12æœˆ 21 15:20 000000_3</span></span><br><span class="line"><span class="operator">-</span>rw<span class="operator">-</span>r<span class="comment">--r--. 1 root root   0 12æœˆ 21 15:20 000001_3</span></span><br><span class="line"><span class="operator">-</span>rw<span class="operator">-</span>r<span class="comment">--r--. 1 root root 144 12æœˆ 21 15:20 000002_3</span></span><br><span class="line"><span class="operator">-</span>rw<span class="operator">-</span>r<span class="comment">--r--. 1 root root   0 12æœˆ 21 15:20 000003_2</span></span><br><span class="line">[root<span class="variable">@hadoop301</span> distribute<span class="operator">-</span><span class="keyword">by</span>]# cat <span class="number">000000</span>_3</span><br><span class="line"><span class="number">20</span>SMITH800<span class="number">.0</span></span><br><span class="line"><span class="number">20</span>ADAMS1100<span class="number">.0</span></span><br><span class="line"><span class="number">20</span>JONES2975<span class="number">.0</span></span><br><span class="line"><span class="number">20</span>FORD3000<span class="number">.0</span></span><br><span class="line"><span class="number">20</span>SCOTT3000<span class="number">.0</span></span><br><span class="line">[root<span class="variable">@hadoop301</span> distribute<span class="operator">-</span><span class="keyword">by</span>]# cat <span class="number">000002</span>_3</span><br><span class="line"><span class="number">30</span>JAMES950<span class="number">.0</span></span><br><span class="line"><span class="number">30</span>MARTIN1250<span class="number">.0</span></span><br><span class="line"><span class="number">30</span>WARD1250<span class="number">.0</span></span><br><span class="line"><span class="number">10</span>MILLER1300<span class="number">.0</span></span><br><span class="line"><span class="number">30</span>TURNER1500<span class="number">.0</span></span><br><span class="line"><span class="number">30</span>ALLEN1600<span class="number">.0</span></span><br><span class="line"><span class="number">10</span>CLARK2450<span class="number">.0</span></span><br><span class="line"><span class="number">30</span>BLAKE2850<span class="number">.0</span></span><br><span class="line"><span class="number">10</span>KING5000<span class="number">.0</span></span><br><span class="line">[root<span class="variable">@hadoop301</span> distribute<span class="operator">-</span><span class="keyword">by</span>]#</span><br></pre></td></tr></table></figure>



<p>6ï¼‰Cluster By</p>
<p>å½“distribute byå’Œ sorts byå­—æ®µç›¸åŒæ—¶ï¼Œå¯ä»¥ä½¿ç”¨cluster byæ–¹å¼ã€‚</p>
<p>cluster byé™¤äº†å…·æœ‰distribute byçš„åŠŸèƒ½å¤–è¿˜å…¼å…·sort byçš„åŠŸèƒ½ã€‚ä½†æ˜¯æ’åºåªèƒ½æ˜¯å‡åºæ’åºï¼Œä¸èƒ½æŒ‡å®šæ’åºè§„åˆ™ä¸ºASC æˆ–è€…DESCã€‚</p>
<h4 id="åã€åˆ†åŒºè¡¨"><a href="#åã€åˆ†åŒºè¡¨" class="headerlink" title="åã€åˆ†åŒºè¡¨"></a>åã€åˆ†åŒºè¡¨</h4><p>ï¼ˆ1ï¼‰åˆ†åŒºè¡¨</p>
<p>â€‹		åˆ†åŒºè¡¨å®é™…ä¸Šå°±æ˜¯å¯¹åº”ä¸€ä¸ªHDFSæ–‡ä»¶ç³»ç»Ÿä¸Šçš„ç‹¬ç«‹çš„æ–‡ä»¶å¤¹ï¼Œè¯¥æ–‡ä»¶å¤¹ä¸‹æ˜¯è¯¥åˆ†åŒºæ‰€æœ‰çš„æ•°æ®æ–‡ä»¶ã€‚<strong>Hiveä¸­çš„åˆ†åŒºå°±æ˜¯åˆ†ç›®å½•</strong>ï¼ŒæŠŠä¸€ä¸ªå¤§çš„æ•°æ®é›†æ ¹æ®ä¸šåŠ¡éœ€è¦åˆ†å‰²æˆå°çš„æ•°æ®é›†ã€‚åœ¨æŸ¥è¯¢æ—¶é€šè¿‡ WHEREå­å¥ä¸­çš„è¡¨è¾¾å¼é€‰æ‹©æŸ¥è¯¢æ‰€éœ€è¦çš„æŒ‡å®šçš„åˆ†åŒºï¼Œè¿™æ ·çš„æŸ¥è¯¢æ•ˆç‡ä¼šæé«˜å¾ˆå¤šã€‚</p>
<p>ï¼ˆ2ï¼‰åˆ†åŒºè¡¨åŸºæœ¬æ“ä½œ</p>
<ol>
<li>å¼•å…¥åˆ†åŒºè¡¨ï¼ˆéœ€è¦æ ¹æ®æ—¥æœŸå¯¹æ—¥å¿—è¿›è¡Œç®¡ç†ï¼Œé€šè¿‡éƒ¨é—¨ä¿¡æ¯æ¨¡æ‹Ÿ</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"># åˆ›å»ºdept_parè¡¨</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">create table</span> if <span class="keyword">not</span> <span class="keyword">exists</span> dept_par(deptno <span class="type">int</span>, dname string, loc string) partitioned <span class="keyword">by</span> (<span class="keyword">day</span> string) <span class="type">row</span> format delimited fields terminated <span class="keyword">by</span> <span class="string">&#x27;\t&#x27;</span>;</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">1.87</span> seconds</span><br><span class="line"></span><br><span class="line"># åˆ†åˆ«å¯¼å…¥åˆ†åŒºæ•°æ®</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> load data <span class="keyword">local</span> inpath <span class="string">&#x27;/opt/module/data/dept1.txt&#x27;</span> <span class="keyword">into</span> <span class="keyword">table</span> dept_par <span class="keyword">partition</span>(<span class="keyword">day</span><span class="operator">=</span><span class="string">&#x27;2023-12-21&#x27;</span>);</span><br><span class="line">Loading data <span class="keyword">to</span> <span class="keyword">table</span> default.dept_par <span class="keyword">partition</span> (<span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span>)</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">1.348</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> load data <span class="keyword">local</span> inpath <span class="string">&#x27;/opt/module/data/dept2.txt&#x27;</span> <span class="keyword">into</span> <span class="keyword">table</span> dept_par <span class="keyword">partition</span>(<span class="keyword">day</span><span class="operator">=</span><span class="string">&#x27;2023-12-22&#x27;</span>);</span><br><span class="line">Loading data <span class="keyword">to</span> <span class="keyword">table</span> default.dept_par <span class="keyword">partition</span> (<span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span>)</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">1.096</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> load data <span class="keyword">local</span> inpath <span class="string">&#x27;/opt/module/data/dept3.txt&#x27;</span> <span class="keyword">into</span> <span class="keyword">table</span> dept_par <span class="keyword">partition</span>(<span class="keyword">day</span><span class="operator">=</span><span class="string">&#x27;2023-12-23&#x27;</span>);</span><br><span class="line">Loading data <span class="keyword">to</span> <span class="keyword">table</span> default.dept_par <span class="keyword">partition</span> (<span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-23</span>)</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.539</span> seconds</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹æ•°æ®</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dept_par;</span><br><span class="line">OK</span><br><span class="line">dept_par.deptno dept_par.dname  dept_par.loc    dept_par.day</span><br><span class="line"><span class="number">10</span>      ACCOUNTING      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-21</span></span><br><span class="line"><span class="number">20</span>      RESEARCH        <span class="number">1800</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-21</span></span><br><span class="line"><span class="number">30</span>      SALES   <span class="number">1900</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-22</span></span><br><span class="line"><span class="number">40</span>      OPERATIONS      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-22</span></span><br><span class="line"><span class="number">50</span>      TEST    <span class="number">2000</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-23</span></span><br><span class="line"><span class="number">60</span>      DEV     <span class="number">1900</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-23</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">1.678</span> seconds, Fetched: <span class="number">6</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dept_par <span class="keyword">where</span> <span class="keyword">day</span><span class="operator">=</span><span class="string">&#x27;2023-12-22&#x27;</span>;</span><br><span class="line">OK</span><br><span class="line">dept_par.deptno dept_par.dname  dept_par.loc    dept_par.day</span><br><span class="line"><span class="number">30</span>      SALES   <span class="number">1900</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-22</span></span><br><span class="line"><span class="number">40</span>      OPERATIONS      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-22</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.853</span> seconds, Fetched: <span class="number">2</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dept_par <span class="keyword">where</span> deptno<span class="operator">=</span><span class="number">10</span> <span class="keyword">or</span> deptno<span class="operator">=</span><span class="number">20</span>;</span><br><span class="line">OK</span><br><span class="line">dept_par.deptno dept_par.dname  dept_par.loc    dept_par.day</span><br><span class="line"><span class="number">10</span>      ACCOUNTING      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-21</span></span><br><span class="line"><span class="number">20</span>      RESEARCH        <span class="number">1800</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-21</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.194</span> seconds, Fetched: <span class="number">2</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># åˆ›å»ºdept_parè¡¨</span><br><span class="line">hive (default)&gt; create table if not exists dept_par(deptno int, dname string, loc string) partitioned by (day string) row format delimited fields terminated by &#x27;\t&#x27;;</span><br><span class="line"></span><br><span class="line"># å¢åŠ åˆ†åŒº</span><br><span class="line">hive (default)&gt; alter table dept_par add partition(day=&#x27;2023-12-24&#x27;) partition(day=&#x27;2023-12-25&#x27;) partition(day=&#x27;2023-12-26&#x27;);</span><br></pre></td></tr></table></figure>





<ol start="2">
<li>å¢åŠ åˆ†åŒº</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">alter table</span> dept_par <span class="keyword">add</span> <span class="keyword">partition</span>(<span class="keyword">day</span><span class="operator">=</span><span class="string">&#x27;2023-12-24&#x27;</span>) <span class="keyword">partition</span>(<span class="keyword">day</span><span class="operator">=</span><span class="string">&#x27;2023-12-25&#x27;</span>) <span class="keyword">partition</span>(<span class="keyword">day</span><span class="operator">=</span><span class="string">&#x27;2023-12-26&#x27;</span>);</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.232</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<p><img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231221163927708.png" alt="image-20231221163927708"></p>
<ol start="3">
<li>åˆ é™¤åˆ†åŒº</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">alter table</span> dept_par <span class="keyword">drop</span> <span class="keyword">partition</span>(<span class="keyword">day</span><span class="operator">=</span><span class="string">&#x27;2023-12-26&#x27;</span>), <span class="keyword">partition</span>(<span class="keyword">day</span><span class="operator">=</span><span class="string">&#x27;2023-12-25&#x27;</span>);</span><br><span class="line">Dropped the <span class="keyword">partition</span> <span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-25</span></span><br><span class="line">Dropped the <span class="keyword">partition</span> <span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-26</span></span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.312</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼šæ·»å¤šä¸ªåˆ†åŒºä¸­é—´ç”¨ç©ºæ ¼ï¼Œåˆ é™¤å¤šä¸ªåˆ†åŒºä¸­é—´ç”¨â€˜ï¼Œâ€™é€—å·</strong></p>
<ol start="4">
<li>æŸ¥çœ‹åˆ†åŒºæœ‰å¤šå°‘ä¸ª</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">show</span> partitions dept_par;</span><br><span class="line">OK</span><br><span class="line"><span class="keyword">partition</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-23</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-24</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.141</span> seconds, Fetched: <span class="number">4</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<ol start="5">
<li>æŸ¥çœ‹åˆ†åŒºè¡¨ç»“æ„</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">desc</span> formatted dept_par;</span><br><span class="line">OK</span><br><span class="line">col_name        data_type       comment</span><br><span class="line"># col_name              data_type               comment</span><br><span class="line">deptno                  <span class="type">int</span></span><br><span class="line">dname                   string</span><br><span class="line">loc                     string</span><br><span class="line"></span><br><span class="line"># <span class="keyword">Partition</span> Information</span><br><span class="line"># col_name              data_type               comment</span><br><span class="line"><span class="keyword">day</span>                     string</span><br><span class="line"></span><br><span class="line"># Detailed <span class="keyword">Table</span> Information</span><br><span class="line">Database:               <span class="keyword">default</span></span><br><span class="line">OwnerType:              <span class="keyword">USER</span></span><br><span class="line">Owner:                  root</span><br><span class="line">CreateTime:             Thu <span class="type">Dec</span> <span class="number">21</span> <span class="number">16</span>:<span class="number">23</span>:<span class="number">41</span> CST <span class="number">2023</span></span><br><span class="line">LastAccessTime:         <span class="literal">UNKNOWN</span></span><br><span class="line">Retention:              <span class="number">0</span></span><br><span class="line">Location:               hdfs:<span class="operator">/</span><span class="operator">/</span>hadoop301:<span class="number">8020</span><span class="operator">/</span><span class="keyword">user</span><span class="operator">/</span>hive<span class="operator">/</span>warehouse<span class="operator">/</span>dept_par</span><br><span class="line"><span class="keyword">Table</span> Type:             MANAGED_TABLE</span><br><span class="line"><span class="keyword">Table</span> Parameters:</span><br><span class="line">        bucketing_version       <span class="number">2</span></span><br><span class="line">        numFiles                <span class="number">3</span></span><br><span class="line">        numPartitions           <span class="number">4</span></span><br><span class="line">        numRows                 <span class="number">0</span></span><br><span class="line">        rawDataSize             <span class="number">0</span></span><br><span class="line">        totalSize               <span class="number">94</span></span><br><span class="line">        transient_lastDdlTime   <span class="number">1703147021</span></span><br><span class="line"></span><br><span class="line"># Storage Information</span><br><span class="line">SerDe Library:          org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe</span><br><span class="line">InputFormat:            org.apache.hadoop.mapred.TextInputFormat</span><br><span class="line">OutputFormat:           org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat</span><br><span class="line">Compressed:             <span class="keyword">No</span></span><br><span class="line">Num Buckets:            <span class="number">-1</span></span><br><span class="line">Bucket Columns:         []</span><br><span class="line">Sort Columns:           []</span><br><span class="line">Storage <span class="keyword">Desc</span> Params:</span><br><span class="line">        field.delim             \t</span><br><span class="line">        serialization.format    \t</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.178</span> seconds, Fetched: <span class="number">38</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ3ï¼‰åˆ›å»ºäºŒçº§åˆ†åŒºè¡¨</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"># åˆ›å»ºäºŒçº§åˆ†åŒºè¡¨</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">create table</span> dept_par2(deptno <span class="type">int</span>, dname string, loc string) partitioned <span class="keyword">by</span> (<span class="keyword">day</span> string, <span class="keyword">hour</span> string) <span class="type">row</span> format delimited fields terminated <span class="keyword">by</span> <span class="string">&#x27;\t&#x27;</span>;</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.132</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line"># åˆ†åˆ«å¯¼å…¥æ•°æ®</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> load data <span class="keyword">local</span> inpath <span class="string">&#x27;/opt/module/data/dept1.txt&#x27;</span> <span class="keyword">into</span> <span class="keyword">table</span> dept_par2 <span class="keyword">partition</span>(<span class="keyword">day</span><span class="operator">=</span><span class="string">&#x27;2023-12-21&#x27;</span>, <span class="keyword">hour</span><span class="operator">=</span><span class="string">&#x27;11&#x27;</span>);</span><br><span class="line">Loading data <span class="keyword">to</span> <span class="keyword">table</span> default.dept_par2 <span class="keyword">partition</span> (<span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span>, <span class="keyword">hour</span><span class="operator">=</span><span class="number">11</span>)</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.551</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> load data <span class="keyword">local</span> inpath <span class="string">&#x27;/opt/module/data/dept2.txt&#x27;</span> <span class="keyword">into</span> <span class="keyword">table</span> dept_par2 <span class="keyword">partition</span>(<span class="keyword">day</span><span class="operator">=</span><span class="string">&#x27;2023-12-22&#x27;</span>, <span class="keyword">hour</span><span class="operator">=</span><span class="string">&#x27;12&#x27;</span>);</span><br><span class="line">Loading data <span class="keyword">to</span> <span class="keyword">table</span> default.dept_par2 <span class="keyword">partition</span> (<span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span>, <span class="keyword">hour</span><span class="operator">=</span><span class="number">12</span>)</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.546</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> load data <span class="keyword">local</span> inpath <span class="string">&#x27;/opt/module/data/dept3.txt&#x27;</span> <span class="keyword">into</span> <span class="keyword">table</span> dept_par2 <span class="keyword">partition</span>(<span class="keyword">day</span><span class="operator">=</span><span class="string">&#x27;2023-12-23&#x27;</span>, <span class="keyword">hour</span><span class="operator">=</span><span class="string">&#x27;13&#x27;</span>);</span><br><span class="line">Loading data <span class="keyword">to</span> <span class="keyword">table</span> default.dept_par2 <span class="keyword">partition</span> (<span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-23</span>, <span class="keyword">hour</span><span class="operator">=</span><span class="number">13</span>)</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.558</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹æ•°æ®</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dept_par2;</span><br><span class="line">OK</span><br><span class="line">dept_par2.deptno        dept_par2.dname dept_par2.loc   dept_par2.day   dept_par2.hour</span><br><span class="line"><span class="number">10</span>      ACCOUNTING      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-21</span>      <span class="number">11</span></span><br><span class="line"><span class="number">20</span>      RESEARCH        <span class="number">1800</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-21</span>      <span class="number">11</span></span><br><span class="line"><span class="number">30</span>      SALES   <span class="number">1900</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-22</span>      <span class="number">12</span></span><br><span class="line"><span class="number">40</span>      OPERATIONS      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-22</span>      <span class="number">12</span></span><br><span class="line"><span class="number">50</span>      TEST    <span class="number">2000</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-23</span>      <span class="number">13</span></span><br><span class="line"><span class="number">60</span>      DEV     <span class="number">1900</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-23</span>      <span class="number">13</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.169</span> seconds, Fetched: <span class="number">6</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dept_par2 <span class="keyword">where</span> <span class="keyword">day</span><span class="operator">=</span><span class="string">&#x27;2023-12-22&#x27;</span>;</span><br><span class="line">OK</span><br><span class="line">dept_par2.deptno        dept_par2.dname dept_par2.loc   dept_par2.day   dept_par2.hour</span><br><span class="line"><span class="number">30</span>      SALES   <span class="number">1900</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-22</span>      <span class="number">12</span></span><br><span class="line"><span class="number">40</span>      OPERATIONS      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-22</span>      <span class="number">12</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.253</span> seconds, Fetched: <span class="number">2</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dept_par2 <span class="keyword">where</span> <span class="keyword">day</span><span class="operator">=</span><span class="string">&#x27;2023-12-22&#x27;</span> <span class="keyword">and</span> <span class="keyword">hour</span><span class="operator">=</span><span class="string">&#x27;12&#x27;</span>;</span><br><span class="line">OK</span><br><span class="line">dept_par2.deptno        dept_par2.dname dept_par2.loc   dept_par2.day   dept_par2.hour</span><br><span class="line"><span class="number">30</span>      SALES   <span class="number">1900</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-22</span>      <span class="number">12</span></span><br><span class="line"><span class="number">40</span>      OPERATIONS      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-22</span>      <span class="number">12</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.151</span> seconds, Fetched: <span class="number">2</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<ol>
<li>æŠŠæ•°æ®ç›´æ¥ä¸Šä¼ åˆ°åˆ†åŒºç›®å½•ä¸Šï¼Œè®©åˆ†åŒºè¡¨å’Œæ•°æ®äº§ç”Ÿå…³è”çš„ä¸‰ç§æ–¹å¼</li>
</ol>
<p>1ï¼‰æ–¹å¼ä¸€ï¼šä¸Šä¼ æ•°æ®åä¿®å¤</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"># ä¸Šä¼ æ•°æ®</span><br><span class="line">[root<span class="variable">@hadoop301</span> data]# hdfs dfs <span class="operator">-</span>mkdir <span class="operator">/</span><span class="keyword">user</span><span class="operator">/</span>hive<span class="operator">/</span>warehouse<span class="operator">/</span>dept_par<span class="operator">/</span><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-25</span></span><br><span class="line">SLF4J: Failed <span class="keyword">to</span> load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.</span><br><span class="line">SLF4J: Defaulting <span class="keyword">to</span> <span class="keyword">no</span><span class="operator">-</span>operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http:<span class="operator">/</span><span class="operator">/</span>www.slf4j.org<span class="operator">/</span>codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">[root<span class="variable">@hadoop301</span> data]# hdfs dfs <span class="operator">-</span>put dept1.txt <span class="operator">/</span><span class="keyword">user</span><span class="operator">/</span>hive<span class="operator">/</span>warehouse<span class="operator">/</span>dept_par<span class="operator">/</span><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-25</span></span><br><span class="line">SLF4J: Failed <span class="keyword">to</span> load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.</span><br><span class="line">SLF4J: Defaulting <span class="keyword">to</span> <span class="keyword">no</span><span class="operator">-</span>operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http:<span class="operator">/</span><span class="operator">/</span>www.slf4j.org<span class="operator">/</span>codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">[root<span class="variable">@hadoop301</span> data]#</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹æ•°æ®å‘ç°æ²¡æœ‰åˆšä¸Šä¼ çš„æ•°æ®</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dept_par;</span><br><span class="line">OK</span><br><span class="line">dept_par.deptno dept_par.dname  dept_par.loc    dept_par.day</span><br><span class="line"><span class="number">10</span>      ACCOUNTING      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-21</span></span><br><span class="line"><span class="number">20</span>      RESEARCH        <span class="number">1800</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-21</span></span><br><span class="line"><span class="number">30</span>      SALES   <span class="number">1900</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-22</span></span><br><span class="line"><span class="number">40</span>      OPERATIONS      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-22</span></span><br><span class="line"><span class="number">50</span>      TEST    <span class="number">2000</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-23</span></span><br><span class="line"><span class="number">60</span>      DEV     <span class="number">1900</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-23</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.307</span> seconds, Fetched: <span class="number">6</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line"># ä¹Ÿæ²¡æœ‰çœ‹è§åˆšä¸Šä¼ çš„åˆ†åŒº</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">show</span> partitions dept_par;</span><br><span class="line">OK</span><br><span class="line"><span class="keyword">partition</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-23</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-24</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.17</span> seconds, Fetched: <span class="number">4</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line"># æ‰§è¡Œä¿®å¤å‘½ä»¤</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> msck repair <span class="keyword">table</span> dept_par;</span><br><span class="line">OK</span><br><span class="line">Partitions <span class="keyword">not</span> <span class="keyword">in</span> metastore:    dept_par:<span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-25</span></span><br><span class="line">Repair: Added <span class="keyword">partition</span> <span class="keyword">to</span> metastore dept_par:<span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-25</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.182</span> seconds, Fetched: <span class="number">2</span> <span class="type">row</span>(s)</span><br><span class="line"></span><br><span class="line"># å†æ¬¡æŸ¥çœ‹æ•°æ®</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dept_par;</span><br><span class="line">OK</span><br><span class="line">dept_par.deptno dept_par.dname  dept_par.loc    dept_par.day</span><br><span class="line"><span class="number">10</span>      ACCOUNTING      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-21</span></span><br><span class="line"><span class="number">20</span>      RESEARCH        <span class="number">1800</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-21</span></span><br><span class="line"><span class="number">30</span>      SALES   <span class="number">1900</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-22</span></span><br><span class="line"><span class="number">40</span>      OPERATIONS      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-22</span></span><br><span class="line"><span class="number">50</span>      TEST    <span class="number">2000</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-23</span></span><br><span class="line"><span class="number">60</span>      DEV     <span class="number">1900</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-23</span></span><br><span class="line"><span class="number">10</span>      ACCOUNTING      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-25</span></span><br><span class="line"><span class="number">20</span>      RESEARCH        <span class="number">1800</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-25</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.142</span> seconds, Fetched: <span class="number">8</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">show</span> partitions dept_par;</span><br><span class="line">OK</span><br><span class="line"><span class="keyword">partition</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-23</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-24</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-25</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.091</span> seconds, Fetched: <span class="number">5</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601271707163.png" alt="image-20231221172309210"></p>
<p>2ï¼‰ä¸Šä¼ åæ·»åŠ åˆ†åŒº</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"># ä¸Šä¼ æ•°æ®</span><br><span class="line">[root<span class="variable">@hadoop301</span> data]# hdfs dfs <span class="operator">-</span>put dept1.txt <span class="operator">/</span><span class="keyword">user</span><span class="operator">/</span>hive<span class="operator">/</span>warehouse<span class="operator">/</span>dept_par<span class="operator">/</span><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-25</span></span><br><span class="line">SLF4J: Failed <span class="keyword">to</span> load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.</span><br><span class="line">SLF4J: Defaulting <span class="keyword">to</span> <span class="keyword">no</span><span class="operator">-</span>operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http:<span class="operator">/</span><span class="operator">/</span>www.slf4j.org<span class="operator">/</span>codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">[root<span class="variable">@hadoop301</span> data]# hdfs dfs <span class="operator">-</span>put dept1.txt <span class="operator">/</span><span class="keyword">user</span><span class="operator">/</span>hive<span class="operator">/</span>warehouse<span class="operator">/</span>dept_par<span class="operator">/</span><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-26</span></span><br><span class="line">SLF4J: Failed <span class="keyword">to</span> load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.</span><br><span class="line">SLF4J: Defaulting <span class="keyword">to</span> <span class="keyword">no</span><span class="operator">-</span>operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http:<span class="operator">/</span><span class="operator">/</span>www.slf4j.org<span class="operator">/</span>codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">[root<span class="variable">@hadoop301</span> data]#</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹æ•°æ®å‘ç°æ²¡æœ‰åˆšä¸Šä¼ çš„æ•°æ®</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dept_par;</span><br><span class="line">OK</span><br><span class="line">dept_par.deptno dept_par.dname  dept_par.loc    dept_par.day</span><br><span class="line"><span class="number">10</span>      ACCOUNTING      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-21</span></span><br><span class="line"><span class="number">20</span>      RESEARCH        <span class="number">1800</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-21</span></span><br><span class="line"><span class="number">30</span>      SALES   <span class="number">1900</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-22</span></span><br><span class="line"><span class="number">40</span>      OPERATIONS      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-22</span></span><br><span class="line"><span class="number">50</span>      TEST    <span class="number">2000</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-23</span></span><br><span class="line"><span class="number">60</span>      DEV     <span class="number">1900</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-23</span></span><br><span class="line"><span class="number">10</span>      ACCOUNTING      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-25</span></span><br><span class="line"><span class="number">20</span>      RESEARCH        <span class="number">1800</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-25</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.201</span> seconds, Fetched: <span class="number">8</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">show</span> partitions dept_par;</span><br><span class="line">OK</span><br><span class="line"><span class="keyword">partition</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-23</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-24</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-25</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.088</span> seconds, Fetched: <span class="number">5</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line"># æ·»åŠ åˆ†åŒº</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">alter table</span> dept_par <span class="keyword">add</span> <span class="keyword">partition</span>(<span class="keyword">day</span><span class="operator">=</span><span class="string">&#x27;2023-12-26&#x27;</span>);</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.11</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹æ•°æ®</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dept_par;</span><br><span class="line">OK</span><br><span class="line">dept_par.deptno dept_par.dname  dept_par.loc    dept_par.day</span><br><span class="line"><span class="number">10</span>      ACCOUNTING      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-21</span></span><br><span class="line"><span class="number">20</span>      RESEARCH        <span class="number">1800</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-21</span></span><br><span class="line"><span class="number">30</span>      SALES   <span class="number">1900</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-22</span></span><br><span class="line"><span class="number">40</span>      OPERATIONS      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-22</span></span><br><span class="line"><span class="number">50</span>      TEST    <span class="number">2000</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-23</span></span><br><span class="line"><span class="number">60</span>      DEV     <span class="number">1900</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-23</span></span><br><span class="line"><span class="number">10</span>      ACCOUNTING      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-25</span></span><br><span class="line"><span class="number">20</span>      RESEARCH        <span class="number">1800</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-25</span></span><br><span class="line"><span class="number">10</span>      ACCOUNTING      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-26</span></span><br><span class="line"><span class="number">20</span>      RESEARCH        <span class="number">1800</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-26</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.2</span> seconds, Fetched: <span class="number">10</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">show</span> partitions dept_par;</span><br><span class="line">OK</span><br><span class="line"><span class="keyword">partition</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-23</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-24</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-25</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-26</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.109</span> seconds, Fetched: <span class="number">6</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<p>3ï¼‰åˆ›å»ºæ–‡ä»¶å¤¹å load æ•°æ®åˆ°åˆ†åŒº</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"># åˆ›å»ºç›®å½•</span><br><span class="line">[root<span class="variable">@hadoop301</span> data]# hdfs dfs <span class="operator">-</span>mkdir <span class="operator">/</span><span class="keyword">user</span><span class="operator">/</span>hive<span class="operator">/</span>warehouse<span class="operator">/</span>dept_par<span class="operator">/</span><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-27</span></span><br><span class="line">SLF4J: Failed <span class="keyword">to</span> load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.</span><br><span class="line">SLF4J: Defaulting <span class="keyword">to</span> <span class="keyword">no</span><span class="operator">-</span>operation (NOP) logger implementation</span><br><span class="line">SLF4J: See http:<span class="operator">/</span><span class="operator">/</span>www.slf4j.org<span class="operator">/</span>codes.html#StaticLoggerBinder <span class="keyword">for</span> further details.</span><br><span class="line">[root<span class="variable">@hadoop301</span> data]#</span><br><span class="line"></span><br><span class="line">#ä¸Šä¼ æ•°æ®</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> load data <span class="keyword">local</span> inpath <span class="string">&#x27;/opt/module/data/dept1.txt&#x27;</span> <span class="keyword">into</span> <span class="keyword">table</span> dept_par <span class="keyword">partition</span>(<span class="keyword">day</span><span class="operator">=</span><span class="string">&#x27;2023-12-27&#x27;</span>);</span><br><span class="line">Loading data <span class="keyword">to</span> <span class="keyword">table</span> default.dept_par <span class="keyword">partition</span> (<span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-27</span>)</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.849</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹æ•°æ®</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dept_par;</span><br><span class="line">OK</span><br><span class="line">dept_par.deptno dept_par.dname  dept_par.loc    dept_par.day</span><br><span class="line"><span class="number">10</span>      ACCOUNTING      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-21</span></span><br><span class="line"><span class="number">20</span>      RESEARCH        <span class="number">1800</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-21</span></span><br><span class="line"><span class="number">30</span>      SALES   <span class="number">1900</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-22</span></span><br><span class="line"><span class="number">40</span>      OPERATIONS      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-22</span></span><br><span class="line"><span class="number">50</span>      TEST    <span class="number">2000</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-23</span></span><br><span class="line"><span class="number">60</span>      DEV     <span class="number">1900</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-23</span></span><br><span class="line"><span class="number">10</span>      ACCOUNTING      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-25</span></span><br><span class="line"><span class="number">20</span>      RESEARCH        <span class="number">1800</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-25</span></span><br><span class="line"><span class="number">10</span>      ACCOUNTING      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-26</span></span><br><span class="line"><span class="number">20</span>      RESEARCH        <span class="number">1800</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-26</span></span><br><span class="line"><span class="number">10</span>      ACCOUNTING      <span class="number">1700</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-27</span></span><br><span class="line"><span class="number">20</span>      RESEARCH        <span class="number">1800</span>    <span class="number">2023</span><span class="number">-12</span><span class="number">-27</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.209</span> seconds, Fetched: <span class="number">12</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">show</span> partitions dept_par;</span><br><span class="line">OK</span><br><span class="line"><span class="keyword">partition</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-21</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-23</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-24</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-25</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-26</span></span><br><span class="line"><span class="keyword">day</span><span class="operator">=</span><span class="number">2023</span><span class="number">-12</span><span class="number">-27</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.104</span> seconds, Fetched: <span class="number">7</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ4ï¼‰åŠ¨æ€åˆ†åŒº</p>
<ol>
<li>å¼€å¯åŠ¨æ€åˆ†åŒºå‚æ•°è®¾ç½®</li>
</ol>
<p>1ï¼‰å¼€å¯åŠ¨æ€åˆ†åŒºåŠŸèƒ½ï¼ˆé»˜è®¤ true ï¼Œå¼€å¯ï¼‰</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">hive.exec.dynamic.partition=<span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>2ï¼‰è®¾ç½®ä¸ºéä¸¥æ ¼æ¨¡å¼ï¼ˆåŠ¨æ€åˆ†åŒºçš„æ¨¡å¼ï¼Œé»˜è®¤strictï¼Œè¡¨ç¤ºå¿…é¡»æŒ‡å®šè‡³å°‘ä¸€ä¸ªåˆ†åŒºä¸ºé™æ€åˆ†åŒºï¼Œnonstrictæ¨¡å¼è¡¨ç¤ºå…è®¸æ‰€æœ‰çš„åˆ†åŒºå­—æ®µéƒ½å¯ä»¥ä½¿ç”¨åŠ¨æ€åˆ†åŒºã€‚)</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">set</span> hive.exec.dynamic.partition.mode=nonstrict;</span><br></pre></td></tr></table></figure>

<p>3ï¼‰åœ¨æ‰€æœ‰æ‰§è¡ŒMRçš„èŠ‚ç‚¹ä¸Šï¼Œæœ€å¤§ä¸€å…±å¯ä»¥åˆ›å»ºå¤šå°‘ä¸ªåŠ¨æ€åˆ†åŒºã€‚é»˜è®¤1000</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">hive.exec.max.dynamic.partitions=1000</span><br></pre></td></tr></table></figure>

<p>4ï¼‰**åœ¨æ¯ä¸ªæ‰§è¡ŒMRçš„èŠ‚ç‚¹ä¸Šï¼Œæœ€å¤§å¯ä»¥åˆ›å»ºå¤šå°‘ä¸ªåŠ¨æ€åˆ†åŒºã€‚**è¯¥å‚æ•°éœ€è¦æ ¹æ®å®é™…çš„æ•°æ®æ¥è®¾å®šã€‚æ¯”å¦‚:æºæ•°æ®ä¸­åŒ…å«äº†ä¸€å¹´çš„æ•°æ®ï¼Œå³ dayå­—æ®µæœ‰365 ä¸ªå€¼ï¼Œé‚£ä¹ˆè¯¥å‚æ•°å°±éœ€è¦è®¾ç½®æˆå¤§äº365ï¼Œå¦‚æœä½¿ç”¨é»˜è®¤å€¼100ï¼Œåˆ™ä¼šæŠ¥é”™ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">hive.exec.max.dynamic.partitions.pernode=100</span><br></pre></td></tr></table></figure>

<p>5ï¼‰æ•´ä¸ªMR Job ä¸­ï¼Œæœ€å¤§å¯ä»¥åˆ›å»ºå¤šå°‘ä¸ªHDFS æ–‡ä»¶ã€‚é»˜è®¤100000</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">hive.exec.max.created.files=100000</span><br></pre></td></tr></table></figure>

<p>6ï¼‰å½“æœ‰ç©ºåˆ†åŒºç”Ÿæˆæ—¶ï¼Œæ˜¯å¦æŠ›å‡ºå¼‚å¸¸ã€‚ä¸€èˆ¬ä¸éœ€è¦è®¾ç½®ã€‚é»˜è®¤falsee</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">hive.error.on.empty.partition=<span class="literal">false</span></span><br></pre></td></tr></table></figure>



<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿™ä¸ªä¸ºé™æ€åˆ†åŒº</span></span><br><span class="line">hive (default)&gt; create table dept_no_par(dname string, loc string) partitioned by (deptno int) row format delimited fieldt<span class="string">&#x27;;</span></span><br><span class="line"><span class="string">OK</span></span><br><span class="line"><span class="string">Time taken: 0.256 seconds</span></span><br><span class="line"><span class="string">hive (default)&gt; insert into table dept_no_par partition(deptno=&#x27;</span>70<span class="string">&#x27;) select dname, loc from dept;</span></span><br><span class="line"><span class="string">Query ID = root_20231221180145_d095d411-7a37-4871-b5d8-84bf6c2e3d31</span></span><br><span class="line"><span class="string">Total jobs = 3</span></span><br><span class="line"><span class="string">Launching Job 1 out of 3</span></span><br><span class="line"><span class="string">Number of reduce tasks not specified. Estimated from input data size: 1</span></span><br><span class="line"><span class="string">In order to change the average load for a reducer (in bytes):</span></span><br><span class="line"><span class="string">  set hive.exec.reducers.bytes.per.reducer=&lt;number&gt;</span></span><br><span class="line"><span class="string">In order to limit the maximum number of reducers:</span></span><br><span class="line"><span class="string">  set hive.exec.reducers.max=&lt;number&gt;</span></span><br><span class="line"><span class="string">In order to set a constant number of reducers:</span></span><br><span class="line"><span class="string">  set mapreduce.job.reduces=&lt;number&gt;</span></span><br><span class="line"><span class="string">Starting Job = job_1703140954122_0012, Tracking URL = http://hadoop302:8088/proxy/application_1703140954122_0012/</span></span><br><span class="line"><span class="string">Kill Command = /opt/module/hadoop/bin/mapred job  -kill job_1703140954122_0012</span></span><br><span class="line"><span class="string">Hadoop job information for Stage-1: number of mappers: 1; number of reducers: 1</span></span><br><span class="line"><span class="string">2023-12-21 18:01:56,356 Stage-1 map = 0%,  reduce = 0%</span></span><br><span class="line"><span class="string">2023-12-21 18:02:18,082 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 4.26 sec</span></span><br><span class="line"><span class="string">2023-12-21 18:02:27,368 Stage-1 map = 100%,  reduce = 100%, Cumulative CPU 7.6 sec</span></span><br><span class="line"><span class="string">MapReduce Total cumulative CPU time: 7 seconds 600 msec</span></span><br><span class="line"><span class="string">Ended Job = job_1703140954122_0012</span></span><br><span class="line"><span class="string">Stage-4 is selected by condition resolver.</span></span><br><span class="line"><span class="string">Stage-3 is filtered out by condition resolver.</span></span><br><span class="line"><span class="string">Stage-5 is filtered out by condition resolver.</span></span><br><span class="line"><span class="string">Moving data to directory hdfs://hadoop301:8020/user/hive/warehouse/dept_no_par/deptno=70/.hive-staging_hive_2023-12-21_18-01-45_026_4413549038787609633-1/-ext-10000</span></span><br><span class="line"><span class="string">Loading data to table default.dept_no_par partition (deptno=70)</span></span><br><span class="line"><span class="string">MapReduce Jobs Launched:</span></span><br><span class="line"><span class="string">Stage-Stage-1: Map: 1  Reduce: 1   Cumulative CPU: 7.6 sec   HDFS Read: 14309 HDFS Write: 346 SUCCESS</span></span><br><span class="line"><span class="string">Total MapReduce CPU Time Spent: 7 seconds 600 msec</span></span><br><span class="line"><span class="string">OK</span></span><br><span class="line"><span class="string">_col0   _col1</span></span><br><span class="line"><span class="string">Time taken: 45.237 seconds</span></span><br><span class="line"><span class="string">hive (default)&gt;</span></span><br><span class="line"><span class="string">hive (default)&gt; select * from dept_no_par;</span></span><br><span class="line"><span class="string">OK</span></span><br><span class="line"><span class="string">dept_no_par.dname       dept_no_par.loc dept_no_par.deptno</span></span><br><span class="line"><span class="string">ACCOUNTING      1700    70</span></span><br><span class="line"><span class="string">RESEARCH        1800    70</span></span><br><span class="line"><span class="string">SALES   1900    70</span></span><br><span class="line"><span class="string">OPERATIONS      1700    70</span></span><br><span class="line"><span class="string">Time taken: 0.24 seconds, Fetched: 4 row(s)</span></span><br><span class="line"><span class="string">hive (default)&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># æ”¹ä¸ºåŠ¨æ€åˆ†åŒº</span></span><br><span class="line"><span class="string">hive (default)&gt; insert into table dept_no_par partition(deptno) select dname, loc, deptno from dept;</span></span><br><span class="line"><span class="string">FAILED: SemanticException [Error 10096]: Dynamic partition strict mode requires at least one static partition column. To turn this off set hive.exec.dynamic.partition.mode=nonstrict</span></span><br><span class="line"><span class="string">hive (default)&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># ä¿®æ”¹é€€å‡ºä¸¥æ ¼æ¨¡å¼</span></span><br><span class="line"><span class="string">hive (default)&gt; set hive.exec.dynamic.partition.mode=nonstrict;</span></span><br><span class="line"><span class="string">hive (default)&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># ä¿®æ”¹æˆåŠ¨æ€åˆ†åŒº</span></span><br><span class="line"><span class="string">hive (default)&gt; insert into table dept_no_par partition(deptno) select dname, loc, deptno from dept;</span></span><br><span class="line"><span class="string">Query ID = root_20231221181339_5eb7bd8a-3cd3-4051-92a9-426ba8c2470c</span></span><br><span class="line"><span class="string">Total jobs = 3</span></span><br><span class="line"><span class="string">Launching Job 1 out of 3</span></span><br><span class="line"><span class="string">Number of reduce tasks not specified. Estimated from input data size: 1</span></span><br><span class="line"><span class="string">In order to change the average load for a reducer (in bytes):</span></span><br><span class="line"><span class="string">  set hive.exec.reducers.bytes.per.reducer=&lt;number&gt;</span></span><br><span class="line"><span class="string">In order to limit the maximum number of reducers:</span></span><br><span class="line"><span class="string">  set hive.exec.reducers.max=&lt;number&gt;</span></span><br><span class="line"><span class="string">In order to set a constant number of reducers:</span></span><br><span class="line"><span class="string">  set mapreduce.job.reduces=&lt;number&gt;</span></span><br><span class="line"><span class="string">Starting Job = job_1703140954122_0015, Tracking URL = http://hadoop302:8088/proxy/application_1703140954122_0015/</span></span><br><span class="line"><span class="string">Kill Command = /opt/module/hadoop/bin/mapred job  -kill job_1703140954122_0015</span></span><br><span class="line"><span class="string">Hadoop job information for Stage-1: number of mappers: 1; number of reducers: 1</span></span><br><span class="line"><span class="string">2023-12-21 18:13:47,757 Stage-1 map = 0%,  reduce = 0%</span></span><br><span class="line"><span class="string">2023-12-21 18:14:09,609 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 5.41 sec</span></span><br><span class="line"><span class="string">2023-12-21 18:14:23,024 Stage-1 map = 100%,  reduce = 100%, Cumulative CPU 8.48 sec</span></span><br><span class="line"><span class="string">MapReduce Total cumulative CPU time: 8 seconds 480 msec</span></span><br><span class="line"><span class="string">Ended Job = job_1703140954122_0015</span></span><br><span class="line"><span class="string">Stage-4 is selected by condition resolver.</span></span><br><span class="line"><span class="string">Stage-3 is filtered out by condition resolver.</span></span><br><span class="line"><span class="string">Stage-5 is filtered out by condition resolver.</span></span><br><span class="line"><span class="string">Moving data to directory hdfs://hadoop301:8020/user/hive/warehouse/dept_no_par/.hive-staging_hive_2023-12-21_18-13-39_151_1212070029676765042-1/-ext-10000</span></span><br><span class="line"><span class="string">Loading data to table default.dept_no_par partition (deptno=null)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">         Time taken to load dynamic partitions: 0.574 seconds</span></span><br><span class="line"><span class="string">         Time taken for adding to write entity : 0.0 seconds</span></span><br><span class="line"><span class="string">MapReduce Jobs Launched:</span></span><br><span class="line"><span class="string">Stage-Stage-1: Map: 1  Reduce: 1   Cumulative CPU: 8.48 sec   HDFS Read: 14744 HDFS Write: 781 SUCCESS</span></span><br><span class="line"><span class="string">Total MapReduce CPU Time Spent: 8 seconds 480 msec</span></span><br><span class="line"><span class="string">OK</span></span><br><span class="line"><span class="string">_col0   _col1   _col2</span></span><br><span class="line"><span class="string">Time taken: 46.932 seconds</span></span><br><span class="line"><span class="string">hive (default)&gt; select * from dept_no_par;</span></span><br><span class="line"><span class="string">OK</span></span><br><span class="line"><span class="string">dept_no_par.dname       dept_no_par.loc dept_no_par.deptno</span></span><br><span class="line"><span class="string">ACCOUNTING      1700    10</span></span><br><span class="line"><span class="string">RESEARCH        1800    20</span></span><br><span class="line"><span class="string">SALES   1900    30</span></span><br><span class="line"><span class="string">OPERATIONS      1700    40</span></span><br><span class="line"><span class="string">ACCOUNTING      1700    70</span></span><br><span class="line"><span class="string">RESEARCH        1800    70</span></span><br><span class="line"><span class="string">SALES   1900    70</span></span><br><span class="line"><span class="string">OPERATIONS      1700    70</span></span><br><span class="line"><span class="string">Time taken: 0.149 seconds, Fetched: 8 row(s)</span></span><br><span class="line"><span class="string">hive (default)&gt;</span></span><br></pre></td></tr></table></figure>





<h4 id="åä¸€ã€åˆ†æ¡¶è¡¨"><a href="#åä¸€ã€åˆ†æ¡¶è¡¨" class="headerlink" title="åä¸€ã€åˆ†æ¡¶è¡¨"></a>åä¸€ã€åˆ†æ¡¶è¡¨</h4><p>â€‹		åˆ†åŒºæä¾›ä¸€ä¸ªéš”ç¦»æ•°æ®å’Œä¼˜åŒ–æŸ¥è¯¢çš„ä¾¿åˆ©æ–¹å¼ã€‚ä¸è¿‡ï¼Œå¹¶éæ‰€æœ‰çš„æ•°æ®é›†éƒ½å¯å½¢æˆåˆç†çš„åˆ†åŒºã€‚å¯¹äºä¸€å¼ è¡¨æˆ–è€…åˆ†åŒºï¼ŒHiveå¯ä»¥è¿›ä¸€æ­¥ç»„ç»‡æˆæ¡¶ï¼Œä¹Ÿå°±æ˜¯æ›´ä¸ºç»†ç²’åº¦çš„æ•°æ®èŒƒå›´åˆ’åˆ†ã€‚</p>
<ul>
<li>åˆ†æ¡¶æ˜¯å°†æ•°æ®é›†åˆ†è§£æˆæ›´å®¹æ˜“ç®¡ç†çš„è‹¥å¹²éƒ¨åˆ†çš„å¦ä¸€ä¸ªæŠ€æœ¯ã€‚</li>
<li><strong>åˆ†åŒºé’ˆå¯¹çš„æ˜¯æ•°æ®çš„å­˜å‚¨è·¯å¾„;åˆ†æ¡¶é’ˆå¯¹çš„æ˜¯æ•°æ®æ–‡ä»¶ã€‚</strong></li>
</ul>
<p>ï¼ˆ1ï¼‰å‡†å¤‡æ•°æ®å¹¶åˆ†å‘</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 data]# vim stu.txt</span><br><span class="line">[root@hadoop301 data]# <span class="built_in">cat</span> stu.txt</span><br><span class="line">1001    ss1</span><br><span class="line">1002    ss2</span><br><span class="line">1003    ss3</span><br><span class="line">1004    ss4</span><br><span class="line">1005    ss5</span><br><span class="line">1006    ss6</span><br><span class="line">1007    ss7</span><br><span class="line">1008    ss8</span><br><span class="line">1009    ss9</span><br><span class="line">10010   ss10</span><br><span class="line">10011   ss11</span><br><span class="line">10012   ss12</span><br><span class="line">10013   ss13</span><br><span class="line">10014   ss14</span><br><span class="line">10015   ss15</span><br><span class="line">10016   ss16</span><br><span class="line">[root@hadoop301 data]# xsync stu.txt</span><br><span class="line">==================== hadoop301 ====================</span><br><span class="line">sending incremental file list</span><br><span class="line"></span><br><span class="line">sent 46 bytes  received 12 bytes  38.67 bytes/sec</span><br><span class="line">total size is 158  speedup is 2.72</span><br><span class="line">==================== hadoop302 ====================</span><br><span class="line">sending incremental file list</span><br><span class="line">stu.txt</span><br><span class="line"></span><br><span class="line">sent 251 bytes  received 35 bytes  572.00 bytes/sec</span><br><span class="line">total size is 158  speedup is 0.55</span><br><span class="line">==================== hadoop303 ====================</span><br><span class="line">sending incremental file list</span><br><span class="line">stu.txt</span><br><span class="line"></span><br><span class="line">sent 251 bytes  received 35 bytes  572.00 bytes/sec</span><br><span class="line">total size is 158  speedup is 0.55</span><br><span class="line">[root@hadoop301 data]#</span><br></pre></td></tr></table></figure>



<p>ï¼ˆ2ï¼‰åˆ›å»ºåˆ†æ¡¶è¡¨</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">hive (default)&gt; CREATE EXTERNAL TABLE stu_buck(<span class="built_in">id</span> int, name string) CLUSTERED BY(<span class="built_in">id</span>) INTO 4 BUCKETS ROW FORMAT DELIMITED FIELDS TERMINATED BY <span class="string">&quot;\t&quot;</span>;</span><br><span class="line">OK</span><br><span class="line">Time taken: 0.085 seconds</span><br><span class="line">hive (default)&gt;</span><br></pre></td></tr></table></figure>





<p>ï¼ˆ3ï¼‰æŸ¥çœ‹è¡¨ç»“æ„</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">hive (default)&gt; desc formatted stu_buck;</span><br><span class="line">OK</span><br><span class="line">col_name        data_type       comment</span><br><span class="line"><span class="comment"># col_name              data_type               comment</span></span><br><span class="line"><span class="built_in">id</span>                      int</span><br><span class="line">name                    string</span><br><span class="line"></span><br><span class="line"><span class="comment"># Detailed Table Information</span></span><br><span class="line">Database:               default</span><br><span class="line">OwnerType:              USER</span><br><span class="line">Owner:                  root</span><br><span class="line">CreateTime:             Fri Dec 22 11:12:34 CST 2023</span><br><span class="line">LastAccessTime:         UNKNOWN</span><br><span class="line">Retention:              0</span><br><span class="line">Location:               hdfs://hadoop301:8020/user/hive/warehouse/stu_buck</span><br><span class="line">Table Type:             EXTERNAL_TABLE</span><br><span class="line">Table Parameters:</span><br><span class="line">        COLUMN_STATS_ACCURATE   &#123;\&quot;BASIC_STATS\&quot;:\&quot;<span class="literal">true</span>\&quot;,\&quot;COLUMN_STATS\&quot;:&#123;\&quot;<span class="built_in">id</span>\&quot;:\&quot;<span class="literal">true</span>\&quot;,\&quot;name\&quot;:\&quot;<span class="literal">true</span>\&quot;&#125;&#125;</span><br><span class="line">        EXTERNAL                TRUE</span><br><span class="line">        bucketing_version       2</span><br><span class="line">        numFiles                4</span><br><span class="line">        numRows                 16</span><br><span class="line">        rawDataSize             142</span><br><span class="line">        totalSize               158</span><br><span class="line">        transient_lastDdlTime   1703214861</span><br><span class="line"></span><br><span class="line"><span class="comment"># Storage Information</span></span><br><span class="line">SerDe Library:          org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe</span><br><span class="line">InputFormat:            org.apache.hadoop.mapred.TextInputFormat</span><br><span class="line">OutputFormat:           org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat</span><br><span class="line">Compressed:             No</span><br><span class="line">Num Buckets:            4</span><br><span class="line">Bucket Columns:         [<span class="built_in">id</span>]</span><br><span class="line">Sort Columns:           []</span><br><span class="line">Storage Desc Params:</span><br><span class="line">        field.delim             \t</span><br><span class="line">        serialization.format    \t</span><br><span class="line">Time taken: 0.063 seconds, Fetched: 34 row(s)</span><br><span class="line">hive (default)&gt;</span><br></pre></td></tr></table></figure>





<p>ï¼ˆ4ï¼‰å¯¼å…¥æ•°æ®åˆ°åˆ†æ¡¶è¡¨ä¸­ï¼Œ </p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">INSERT INTO</span> <span class="keyword">TABLE</span> stu_buck <span class="keyword">SELECT</span> <span class="operator">*</span>  <span class="keyword">FROM</span> stu_buck1;</span><br><span class="line">Query ID <span class="operator">=</span> root_20231222111312_0e72dc21<span class="operator">-</span>d1c4<span class="number">-4851</span><span class="number">-9</span>b10<span class="number">-372374</span>bbbf1a</span><br><span class="line">Total jobs <span class="operator">=</span> <span class="number">2</span></span><br><span class="line">Launching Job <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">2</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks determined <span class="keyword">at</span> compile <span class="type">time</span>: <span class="number">4</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> change the average load <span class="keyword">for</span> a reducer (<span class="keyword">in</span> bytes):</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.bytes.per.reducer<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> limit the maximum number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.max<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> <span class="keyword">set</span> a constant number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> mapreduce.job.reduces<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line">Starting Job <span class="operator">=</span> job_1703212836900_0007, Tracking URL <span class="operator">=</span> http:<span class="operator">/</span><span class="operator">/</span>hadoop302:<span class="number">8088</span><span class="operator">/</span>proxy<span class="operator">/</span>application_1703212836900_0007<span class="operator">/</span></span><br><span class="line">Kill Command <span class="operator">=</span> <span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>bin<span class="operator">/</span>mapred job  <span class="operator">-</span>kill job_1703212836900_0007</span><br><span class="line">Hadoop job information <span class="keyword">for</span> Stage<span class="number">-1</span>: number <span class="keyword">of</span> mappers: <span class="number">1</span>; number <span class="keyword">of</span> reducers: <span class="number">4</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">11</span>:<span class="number">13</span>:<span class="number">21</span>,<span class="number">931</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">11</span>:<span class="number">13</span>:<span class="number">28</span>,<span class="number">115</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>, Cumulative CPU <span class="number">2.43</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">11</span>:<span class="number">13</span>:<span class="number">36</span>,<span class="number">457</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">25</span><span class="operator">%</span>, Cumulative CPU <span class="number">6.46</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">11</span>:<span class="number">13</span>:<span class="number">43</span>,<span class="number">659</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">50</span><span class="operator">%</span>, Cumulative CPU <span class="number">10.55</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">11</span>:<span class="number">13</span>:<span class="number">49</span>,<span class="number">819</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">75</span><span class="operator">%</span>, Cumulative CPU <span class="number">10.55</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">11</span>:<span class="number">13</span>:<span class="number">51</span>,<span class="number">892</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>, Cumulative CPU <span class="number">13.79</span> sec</span><br><span class="line">MapReduce Total cumulative CPU <span class="type">time</span>: <span class="number">13</span> seconds <span class="number">790</span> msec</span><br><span class="line">Ended Job <span class="operator">=</span> job_1703212836900_0007</span><br><span class="line">Loading data <span class="keyword">to</span> <span class="keyword">table</span> default.stu_buck</span><br><span class="line">Launching Job <span class="number">2</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">2</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks determined <span class="keyword">at</span> compile <span class="type">time</span>: <span class="number">1</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> change the average load <span class="keyword">for</span> a reducer (<span class="keyword">in</span> bytes):</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.bytes.per.reducer<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> limit the maximum number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.max<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> <span class="keyword">set</span> a constant number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> mapreduce.job.reduces<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line">Starting Job <span class="operator">=</span> job_1703212836900_0008, Tracking URL <span class="operator">=</span> http:<span class="operator">/</span><span class="operator">/</span>hadoop302:<span class="number">8088</span><span class="operator">/</span>proxy<span class="operator">/</span>application_1703212836900_0008<span class="operator">/</span></span><br><span class="line">Kill Command <span class="operator">=</span> <span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>bin<span class="operator">/</span>mapred job  <span class="operator">-</span>kill job_1703212836900_0008</span><br><span class="line">Hadoop job information <span class="keyword">for</span> Stage<span class="number">-3</span>: number <span class="keyword">of</span> mappers: <span class="number">1</span>; number <span class="keyword">of</span> reducers: <span class="number">1</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">11</span>:<span class="number">14</span>:<span class="number">06</span>,<span class="number">479</span> Stage<span class="number">-3</span> map <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">11</span>:<span class="number">14</span>:<span class="number">12</span>,<span class="number">736</span> Stage<span class="number">-3</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>, Cumulative CPU <span class="number">4.81</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">11</span>:<span class="number">14</span>:<span class="number">18</span>,<span class="number">947</span> Stage<span class="number">-3</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>, Cumulative CPU <span class="number">7.8</span> sec</span><br><span class="line">MapReduce Total cumulative CPU <span class="type">time</span>: <span class="number">7</span> seconds <span class="number">800</span> msec</span><br><span class="line">Ended Job <span class="operator">=</span> job_1703212836900_0008</span><br><span class="line">MapReduce Jobs Launched:</span><br><span class="line">Stage<span class="operator">-</span>Stage<span class="number">-1</span>: Map: <span class="number">1</span>  Reduce: <span class="number">4</span>   Cumulative CPU: <span class="number">13.79</span> sec   HDFS Read: <span class="number">32975</span> HDFS Write: <span class="number">1232</span> SUCCESS</span><br><span class="line">Stage<span class="operator">-</span>Stage<span class="number">-3</span>: Map: <span class="number">1</span>  Reduce: <span class="number">1</span>   Cumulative CPU: <span class="number">7.8</span> sec   HDFS Read: <span class="number">12152</span> HDFS Write: <span class="number">336</span> SUCCESS</span><br><span class="line">Total MapReduce CPU <span class="type">Time</span> Spent: <span class="number">21</span> seconds <span class="number">590</span> msec</span><br><span class="line">OK</span><br><span class="line">stu_buck1.id    stu_buck1.name</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">68.992</span> seconds</span><br></pre></td></tr></table></figure>

<p><img data-src="https://raw.githubusercontent.com/cisgu/typora-picture/master/img/202601271707600.png" alt="image-20231222111925911"></p>
<p>ï¼ˆ5ï¼‰åˆ†æ¡¶è¡¨æ“ä½œéœ€è¦æ³¨æ„çš„äº‹é¡¹</p>
<ol>
<li><p>reduceçš„ä¸ªæ•°è®¾ç½®ä¸º-1,è®©Jobè‡ªè¡Œå†³å®šéœ€è¦ç”¨å¤šå°‘ä¸ªreduceæˆ–è€…å°†reduce çš„ä¸ªæ•°è®¾ç½®ä¸ºå¤§äºç­‰äºåˆ†æ¡¶è¡¨çš„æ¡¶æ•°</p>
</li>
<li><p>ä»hdfsä¸­ loadæ•°æ®åˆ°åˆ†æ¡¶è¡¨ä¸­ï¼Œé¿å…æœ¬åœ°æ–‡ä»¶æ‰¾ä¸åˆ°é—®é¢˜</p>
</li>
<li><p>ä¸è¦ä½¿ç”¨æœ¬åœ°æ¨¡å¼</p>
</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">load data <span class="built_in">local</span> inpath <span class="string">&#x27;/opt/module/data/stu.txt&#x27;</span> into table stu_buck1;</span><br></pre></td></tr></table></figure>



<p>ï¼ˆ6ï¼‰æŠ½æ ·æŸ¥è¯¢</p>
<p>å¯¹äºéå¸¸å¤§çš„æ•°æ®é›†,æœ‰æ—¶ç”¨æˆ·éœ€è¦ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªå…·æœ‰ä»£è¡¨æ€§çš„æŸ¥è¯¢ç»“æœè€Œä¸æ˜¯å…¨éƒ¨ç»“æœã€‚Hiveå¯ä»¥é€šè¿‡å¯¹è¡¨è¿›è¡ŒæŠ½æ ·æ¥æ»¡è¶³è¿™ä¸ªéœ€æ±‚ã€‚</p>
<p>è¯­æ³•:TABLESAMPLE(BUCKET x OUT OF y)</p>
<p>æŸ¥è¯¢è¡¨ stu_buck ä¸­çš„æ•°æ®</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> stu_buck <span class="keyword">tablesample</span>(bucket <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">4</span> <span class="keyword">on</span> id);</span><br><span class="line">OK</span><br><span class="line">stu_buck.id     stu_buck.name</span><br><span class="line"><span class="number">1004</span>    ss4</span><br><span class="line"><span class="number">1009</span>    ss9</span><br><span class="line"><span class="number">10010</span>   ss10</span><br><span class="line"><span class="number">1002</span>    ss2</span><br><span class="line"><span class="number">1003</span>    ss3</span><br><span class="line"><span class="number">10015</span>   ss15</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.207</span> seconds, Fetched: <span class="number">6</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„:xçš„å€¼å¿…é¡»å°äºç­‰äºyçš„å€¼</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> stu_buck <span class="keyword">tablesample</span>(bucket <span class="number">4</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">1</span> <span class="keyword">on</span> id);</span><br><span class="line">FAILED: SemanticException [Error <span class="number">10061</span>]: Numerator should <span class="keyword">not</span> be bigger than denominator <span class="keyword">in</span> sample clause <span class="keyword">for</span> <span class="keyword">table</span> stu_buck</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="åäºŒã€å‡½æ•°"><a href="#åäºŒã€å‡½æ•°" class="headerlink" title="åäºŒã€å‡½æ•°"></a>åäºŒã€å‡½æ•°</h4><p>ï¼ˆ1ï¼‰ç³»ç»Ÿå†…ç½®å‡½æ•°</p>
<ol>
<li>æŸ¥çœ‹ç³»ç»Ÿè‡ªå¸¦çš„å‡½æ•°</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">show</span> functions;</span><br><span class="line">OK</span><br><span class="line">tab_name</span><br><span class="line"><span class="operator">!</span></span><br><span class="line"><span class="operator">!=</span></span><br><span class="line">$sum0</span><br><span class="line"><span class="operator">%</span></span><br><span class="line"><span class="operator">&amp;</span></span><br><span class="line"><span class="operator">*</span></span><br><span class="line"><span class="operator">+</span></span><br><span class="line"><span class="operator">-</span></span><br><span class="line"><span class="operator">/</span></span><br><span class="line"><span class="operator">&lt;</span></span><br><span class="line"><span class="operator">&lt;=</span></span><br><span class="line"><span class="operator">&lt;=&gt;</span></span><br><span class="line"><span class="operator">&lt;&gt;</span></span><br><span class="line"><span class="operator">=</span></span><br><span class="line"><span class="operator">=</span><span class="operator">=</span></span><br><span class="line"><span class="operator">&gt;</span></span><br><span class="line"><span class="operator">&gt;=</span></span><br><span class="line"><span class="operator">^</span></span><br><span class="line">abs</span><br><span class="line">acos</span><br><span class="line">add_months</span><br><span class="line">aes_decrypt</span><br><span class="line">aes_encrypt</span><br><span class="line"><span class="keyword">and</span></span><br><span class="line"><span class="keyword">array</span></span><br><span class="line">array_contains</span><br><span class="line">ascii</span><br><span class="line">asin</span><br><span class="line">assert_true</span><br><span class="line">assert_true_oom</span><br><span class="line">atan</span><br><span class="line">avg</span><br><span class="line">base64</span><br><span class="line"><span class="keyword">between</span></span><br><span class="line">bin</span><br><span class="line">bloom_filter</span><br><span class="line">bround</span><br><span class="line">cardinality_violation</span><br><span class="line"><span class="keyword">case</span></span><br><span class="line">cbrt</span><br><span class="line">ceil</span><br><span class="line">ceiling</span><br><span class="line"><span class="keyword">char_length</span></span><br><span class="line"><span class="keyword">character_length</span></span><br><span class="line">chr</span><br><span class="line">coalesce</span><br><span class="line">collect_list</span><br><span class="line">collect_set</span><br><span class="line">compute_stats</span><br><span class="line">concat</span><br><span class="line">concat_ws</span><br><span class="line">context_ngrams</span><br><span class="line">conv</span><br><span class="line">corr</span><br><span class="line">cos</span><br><span class="line">count</span><br><span class="line">covar_pop</span><br><span class="line">covar_samp</span><br><span class="line">crc32</span><br><span class="line">create_union</span><br><span class="line">cume_dist</span><br><span class="line">current_authorizer</span><br><span class="line">current_database</span><br><span class="line"><span class="built_in">current_date</span></span><br><span class="line">current_groups</span><br><span class="line"><span class="built_in">current_timestamp</span></span><br><span class="line"><span class="built_in">current_user</span></span><br><span class="line">date_add</span><br><span class="line">date_format</span><br><span class="line">date_sub</span><br><span class="line">datediff</span><br><span class="line"><span class="keyword">day</span></span><br><span class="line">dayofmonth</span><br><span class="line">dayofweek</span><br><span class="line">decode</span><br><span class="line">degrees</span><br><span class="line">dense_rank</span><br><span class="line">div</span><br><span class="line">e</span><br><span class="line">elt</span><br><span class="line">encode</span><br><span class="line">enforce_constraint</span><br><span class="line">exp</span><br><span class="line">explode</span><br><span class="line">extract_union</span><br><span class="line">factorial</span><br><span class="line">field</span><br><span class="line">find_in_set</span><br><span class="line">first_value</span><br><span class="line">floor</span><br><span class="line">floor_day</span><br><span class="line">floor_hour</span><br><span class="line">floor_minute</span><br><span class="line">floor_month</span><br><span class="line">floor_quarter</span><br><span class="line">floor_second</span><br><span class="line">floor_week</span><br><span class="line">floor_year</span><br><span class="line">format_number</span><br><span class="line">from_unixtime</span><br><span class="line">from_utc_timestamp</span><br><span class="line">get_json_object</span><br><span class="line">get_splits</span><br><span class="line">greatest</span><br><span class="line"><span class="keyword">grouping</span></span><br><span class="line">hash</span><br><span class="line">hex</span><br><span class="line">histogram_numeric</span><br><span class="line"><span class="keyword">hour</span></span><br><span class="line">if</span><br><span class="line"><span class="keyword">in</span></span><br><span class="line">in_bloom_filter</span><br><span class="line">in_file</span><br><span class="line">index</span><br><span class="line">initcap</span><br><span class="line">inline</span><br><span class="line">instr</span><br><span class="line">internal_interval</span><br><span class="line">isfalse</span><br><span class="line">isnotfalse</span><br><span class="line">isnotnull</span><br><span class="line">isnottrue</span><br><span class="line">isnull</span><br><span class="line">istrue</span><br><span class="line">java_method</span><br><span class="line">json_tuple</span><br><span class="line">lag</span><br><span class="line">last_day</span><br><span class="line">last_value</span><br><span class="line">lcase</span><br><span class="line">lead</span><br><span class="line">least</span><br><span class="line">length</span><br><span class="line">levenshtein</span><br><span class="line"><span class="keyword">like</span></span><br><span class="line">likeall</span><br><span class="line">likeany</span><br><span class="line">ln</span><br><span class="line">locate</span><br><span class="line">log</span><br><span class="line">log10</span><br><span class="line">log2</span><br><span class="line">logged_in_user</span><br><span class="line">lower</span><br><span class="line">lpad</span><br><span class="line">ltrim</span><br><span class="line">map</span><br><span class="line">map_keys</span><br><span class="line">map_values</span><br><span class="line">mask</span><br><span class="line">mask_first_n</span><br><span class="line">mask_hash</span><br><span class="line">mask_last_n</span><br><span class="line">mask_show_first_n</span><br><span class="line">mask_show_last_n</span><br><span class="line">matchpath</span><br><span class="line">max</span><br><span class="line">md5</span><br><span class="line">min</span><br><span class="line"><span class="keyword">minute</span></span><br><span class="line">mod</span><br><span class="line"><span class="keyword">month</span></span><br><span class="line">months_between</span><br><span class="line">murmur_hash</span><br><span class="line">named_struct</span><br><span class="line">negative</span><br><span class="line">next_day</span><br><span class="line">ngrams</span><br><span class="line">noop</span><br><span class="line">noopstreaming</span><br><span class="line">noopwithmap</span><br><span class="line">noopwithmapstreaming</span><br><span class="line"><span class="keyword">not</span></span><br><span class="line">ntile</span><br><span class="line">nullif</span><br><span class="line">nvl</span><br><span class="line"><span class="keyword">octet_length</span></span><br><span class="line"><span class="keyword">or</span></span><br><span class="line">parse_url</span><br><span class="line">parse_url_tuple</span><br><span class="line">percent_rank</span><br><span class="line">percentile</span><br><span class="line">percentile_approx</span><br><span class="line">pi</span><br><span class="line">pmod</span><br><span class="line">posexplode</span><br><span class="line">positive</span><br><span class="line">pow</span><br><span class="line">power</span><br><span class="line">printf</span><br><span class="line">quarter</span><br><span class="line">radians</span><br><span class="line">rand</span><br><span class="line">rank</span><br><span class="line">reflect</span><br><span class="line">reflect2</span><br><span class="line">regexp</span><br><span class="line">regexp_extract</span><br><span class="line">regexp_replace</span><br><span class="line">regr_avgx</span><br><span class="line">regr_avgy</span><br><span class="line">regr_count</span><br><span class="line">regr_intercept</span><br><span class="line">regr_r2</span><br><span class="line">regr_slope</span><br><span class="line">regr_sxx</span><br><span class="line">regr_sxy</span><br><span class="line">regr_syy</span><br><span class="line">repeat</span><br><span class="line">replace</span><br><span class="line">replicate_rows</span><br><span class="line">restrict_information_schema</span><br><span class="line">reverse</span><br><span class="line">rlike</span><br><span class="line">round</span><br><span class="line">row_number</span><br><span class="line">rpad</span><br><span class="line">rtrim</span><br><span class="line"><span class="keyword">second</span></span><br><span class="line">sentences</span><br><span class="line">sha</span><br><span class="line">sha1</span><br><span class="line">sha2</span><br><span class="line">shiftleft</span><br><span class="line">shiftright</span><br><span class="line">shiftrightunsigned</span><br><span class="line">sign</span><br><span class="line">sin</span><br><span class="line">size</span><br><span class="line">sort_array</span><br><span class="line">sort_array_by</span><br><span class="line">soundex</span><br><span class="line">space</span><br><span class="line">split</span><br><span class="line">sq_count_check</span><br><span class="line">sqrt</span><br><span class="line">stack</span><br><span class="line">std</span><br><span class="line">stddev</span><br><span class="line">stddev_pop</span><br><span class="line">stddev_samp</span><br><span class="line">str_to_map</span><br><span class="line">struct</span><br><span class="line">substr</span><br><span class="line">substring</span><br><span class="line">substring_index</span><br><span class="line">sum</span><br><span class="line">tan</span><br><span class="line">to_date</span><br><span class="line">to_epoch_milli</span><br><span class="line">to_unix_timestamp</span><br><span class="line">to_utc_timestamp</span><br><span class="line">translate</span><br><span class="line">trim</span><br><span class="line">trunc</span><br><span class="line">ucase</span><br><span class="line">udftoboolean</span><br><span class="line">udftobyte</span><br><span class="line">udftodouble</span><br><span class="line">udftofloat</span><br><span class="line">udftointeger</span><br><span class="line">udftolong</span><br><span class="line">udftoshort</span><br><span class="line">udftostring</span><br><span class="line">unbase64</span><br><span class="line">unhex</span><br><span class="line">unix_timestamp</span><br><span class="line">upper</span><br><span class="line">uuid</span><br><span class="line">var_pop</span><br><span class="line">var_samp</span><br><span class="line">variance</span><br><span class="line">version</span><br><span class="line">weekofyear</span><br><span class="line"><span class="keyword">when</span></span><br><span class="line">width_bucket</span><br><span class="line">windowingtablefunction</span><br><span class="line">xpath</span><br><span class="line">xpath_boolean</span><br><span class="line">xpath_double</span><br><span class="line">xpath_float</span><br><span class="line">xpath_int</span><br><span class="line">xpath_long</span><br><span class="line">xpath_number</span><br><span class="line">xpath_short</span><br><span class="line">xpath_string</span><br><span class="line"><span class="keyword">year</span></span><br><span class="line"><span class="operator">|</span></span><br><span class="line"><span class="operator">~</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.678</span> seconds, Fetched: <span class="number">289</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<ol start="2">
<li>æ˜¾ç¤ºè‡ªå¸¦å‡½æ•°çš„ç”¨æ³•</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">hive (default)&gt; desc <span class="keyword">function</span> upper;</span><br><span class="line">OK</span><br><span class="line">tab_name</span><br><span class="line">upper(str) - Returns str with all characters changed to uppercase</span><br><span class="line">Time taken: 0.024 seconds, Fetched: 1 row(s)</span><br><span class="line">hive (default)&gt;</span><br></pre></td></tr></table></figure>



<ol start="3">
<li>è¯¦ç»†æ˜¾ç¤ºè‡ªå¸¦å‡½æ•°çš„ç”¨æ³•</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">hive (default)&gt; desc <span class="keyword">function</span> extended upper;</span><br><span class="line">OK</span><br><span class="line">tab_name</span><br><span class="line">upper(str) - Returns str with all characters changed to uppercase</span><br><span class="line">Synonyms: ucase</span><br><span class="line">Example:</span><br><span class="line">  &gt; SELECT upper(<span class="string">&#x27;Facebook&#x27;</span>) FROM src LIMIT 1;</span><br><span class="line">  <span class="string">&#x27;FACEBOOK&#x27;</span></span><br><span class="line">Function class:org.apache.hadoop.hive.ql.udf.generic.GenericUDFUpper</span><br><span class="line">Function <span class="built_in">type</span>:BUILTIN</span><br><span class="line">Time taken: 0.019 seconds, Fetched: 7 row(s)</span><br><span class="line">hive (default)&gt;</span><br></pre></td></tr></table></figure>

<p>UDF: ä¸€è¿›ä¸€å‡º</p>
<p>UDAF: å¤šè¿‘ä¸€å‡º</p>
<p>UDTF:ä¸€è¿›å¤šå‡º</p>
<p>â€œä¸€â€  ä»£è¡¨çš„æ˜¯è¾“å…¥æ•°æ®çš„è¡Œæ•°</p>
<p>ï¼ˆ2ï¼‰å¸¸è§çš„å‡½æ•°</p>
<ol>
<li>ç©ºå­—æ®µèµ‹å€¼</li>
</ol>
<p>1ï¼‰å‡½æ•°è¯´æ˜</p>
<p>â€‹		NVL:ç»™å€¼ä¸ºNULLçš„æ•°æ®èµ‹å€¼ï¼Œå®ƒçš„æ ¼å¼æ˜¯NVL( valueï¼Œdefault_value)ã€‚å®ƒçš„åŠŸèƒ½æ˜¯å¦‚æœvalueä¸ºNULLï¼Œåˆ™NVLå‡½æ•°è¿”å›default_valueçš„å€¼ï¼Œå¦åˆ™è¿”å›valueçš„å€¼ï¼Œå¦‚æœä¸¤ä¸ªå‚æ•°éƒ½ä¸ºNULL ï¼Œåˆ™è¿”å›NULLã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¦‚æœå‘˜å·¥çš„comm ä¸ºNULLï¼Œåˆ™ç”¨-1ä»£æ›¿</span></span><br><span class="line">hive (default)&gt; <span class="keyword">select</span> <span class="built_in">comm</span>, nvl(<span class="built_in">comm</span>, -1) from emp;</span><br><span class="line">OK</span><br><span class="line"><span class="built_in">comm</span>    _c1</span><br><span class="line">NULL    -1.0</span><br><span class="line">300.0   300.0</span><br><span class="line">500.0   500.0</span><br><span class="line">NULL    -1.0</span><br><span class="line">1400.0  1400.0</span><br><span class="line">NULL    -1.0</span><br><span class="line">NULL    -1.0</span><br><span class="line">NULL    -1.0</span><br><span class="line">NULL    -1.0</span><br><span class="line">0.0     0.0</span><br><span class="line">NULL    -1.0</span><br><span class="line">NULL    -1.0</span><br><span class="line">NULL    -1.0</span><br><span class="line">NULL    -1.0</span><br><span class="line">Time taken: 2.696 seconds, Fetched: 14 row(s)</span><br><span class="line">hive (default)&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¦‚æœå‘˜å·¥çš„ comm NULL, åˆ™ç”¨é¢†å¯¼idä»£æ›¿</span></span><br><span class="line">hive (default)&gt; <span class="keyword">select</span> <span class="built_in">comm</span>, nvl(<span class="built_in">comm</span>, mgr) from emp;</span><br><span class="line">OK</span><br><span class="line"><span class="built_in">comm</span>    _c1</span><br><span class="line">NULL    7902.0</span><br><span class="line">300.0   300.0</span><br><span class="line">500.0   500.0</span><br><span class="line">NULL    7839.0</span><br><span class="line">1400.0  1400.0</span><br><span class="line">NULL    7839.0</span><br><span class="line">NULL    7829.0</span><br><span class="line">NULL    7566.0</span><br><span class="line">NULL    NULL</span><br><span class="line">0.0     0.0</span><br><span class="line">NULL    7788.0</span><br><span class="line">NULL    7698.0</span><br><span class="line">NULL    7566.0</span><br><span class="line">NULL    7782.0</span><br><span class="line">Time taken: 0.223 seconds, Fetched: 14 row(s)</span><br><span class="line">hive (default)&gt;</span><br></pre></td></tr></table></figure>



<p>ï¼ˆ3ï¼‰CASE WHEN THEN ELSEEND</p>
<p>1ï¼‰æ•°æ®å‡†å¤‡</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 data]# vim emp_sex.txt</span><br><span class="line">[root@hadoop301 data]# <span class="built_in">cat</span> emp_sex.txt</span><br><span class="line">æ‚Ÿç©º    A       ç”·</span><br><span class="line">å¤§æµ·    A       ç”·</span><br><span class="line">å®‹å®‹    B       ç”·</span><br><span class="line">å‡¤å§    A       å¥³</span><br><span class="line">å©·å§    B       å¥³</span><br><span class="line">å©·å©·    B       å¥³</span><br><span class="line">[root@hadoop301 data]#</span><br></pre></td></tr></table></figure>



<p>2ï¼‰åˆ›å»ºemp_sexå¹¶å¯¼å…¥æ•°æ®</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">create table</span> emp_sex(name string, dept_id string, sex string) <span class="type">row</span> format delimited fields terminated <span class="keyword">by</span> <span class="string">&#x27;\t&#x27;</span>;</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">1.527</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> load data <span class="keyword">local</span> inpath <span class="string">&#x27;/opt/module/data/emp_sex.txt&#x27;</span> <span class="keyword">into</span> <span class="keyword">table</span> emp_sex;</span><br><span class="line">Loading data <span class="keyword">to</span> <span class="keyword">table</span> default.emp_sex</span><br><span class="line">OK</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">1.516</span> seconds</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp_sex;</span><br><span class="line">OK</span><br><span class="line">emp_sex.name    emp_sex.dept_id emp_sex.sex</span><br><span class="line">æ‚Ÿç©º    A       ç”·</span><br><span class="line">å¤§æµ·    A       ç”·</span><br><span class="line">å®‹å®‹    B       ç”·</span><br><span class="line">å‡¤å§    A       å¥³</span><br><span class="line">å©·å§    B       å¥³</span><br><span class="line">å©·å©·    B       å¥³</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.195</span> seconds, Fetched: <span class="number">6</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"># éœ€æ±‚ï¼šæ±‚å‡ºä¸åŒéƒ¨é—¨ç”·å¥³ä¸ªå¤šå°‘äººï¼Ÿ</span><br><span class="line"></span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> dept_id, <span class="built_in">sum</span>(<span class="keyword">case</span> sex <span class="keyword">when</span> <span class="string">&#x27;ç”·&#x27;</span> <span class="keyword">then</span> <span class="number">1</span> <span class="keyword">else</span> <span class="number">0</span> <span class="keyword">end</span>) <span class="keyword">as</span> maleCount, <span class="built_in">sum</span>(<span class="keyword">case</span> sex <span class="keyword">when</span> <span class="string">&#x27;å¥³&#x27;</span> <span class="keyword">then</span> <span class="number">1</span> <span class="keyword">else</span> <span class="number">0</span> <span class="keyword">end</span>) <span class="keyword">as</span> femaleCount <span class="keyword">from</span> emp_sex <span class="keyword">group</span> <span class="keyword">by</span> dept_id;</span><br><span class="line">Query ID <span class="operator">=</span> root_20231222152543_f463696b<span class="number">-9</span>ff4<span class="number">-4</span>cf9<span class="number">-99</span>ed<span class="operator">-</span>fb838f761082</span><br><span class="line">Total jobs <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">Launching Job <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">1</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks <span class="keyword">not</span> specified. Estimated <span class="keyword">from</span> input data size: <span class="number">1</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> change the average load <span class="keyword">for</span> a reducer (<span class="keyword">in</span> bytes):</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.bytes.per.reducer<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> limit the maximum number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.max<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> <span class="keyword">set</span> a constant number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> mapreduce.job.reduces<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line">Starting Job <span class="operator">=</span> job_1703225841549_0002, Tracking URL <span class="operator">=</span> http:<span class="operator">/</span><span class="operator">/</span>hadoop302:<span class="number">8088</span><span class="operator">/</span>proxy<span class="operator">/</span>application_1703225841549_0002<span class="operator">/</span></span><br><span class="line">Kill Command <span class="operator">=</span> <span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>bin<span class="operator">/</span>mapred job  <span class="operator">-</span>kill job_1703225841549_0002</span><br><span class="line">Hadoop job information <span class="keyword">for</span> Stage<span class="number">-1</span>: number <span class="keyword">of</span> mappers: <span class="number">1</span>; number <span class="keyword">of</span> reducers: <span class="number">1</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">15</span>:<span class="number">25</span>:<span class="number">53</span>,<span class="number">860</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">15</span>:<span class="number">26</span>:<span class="number">08</span>,<span class="number">376</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>, Cumulative CPU <span class="number">4.67</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">15</span>:<span class="number">26</span>:<span class="number">15</span>,<span class="number">666</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>, Cumulative CPU <span class="number">8.19</span> sec</span><br><span class="line">MapReduce Total cumulative CPU <span class="type">time</span>: <span class="number">8</span> seconds <span class="number">190</span> msec</span><br><span class="line">Ended Job <span class="operator">=</span> job_1703225841549_0002</span><br><span class="line">MapReduce Jobs Launched:</span><br><span class="line">Stage<span class="operator">-</span>Stage<span class="number">-1</span>: Map: <span class="number">1</span>  Reduce: <span class="number">1</span>   Cumulative CPU: <span class="number">8.19</span> sec   HDFS Read: <span class="number">15186</span> HDFS Write: <span class="number">123</span> SUCCESS</span><br><span class="line">Total MapReduce CPU <span class="type">Time</span> Spent: <span class="number">8</span> seconds <span class="number">190</span> msec</span><br><span class="line">OK</span><br><span class="line">dept_id malecount       femalecount</span><br><span class="line">A       <span class="number">2</span>       <span class="number">1</span></span><br><span class="line">B       <span class="number">1</span>       <span class="number">2</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">32.891</span> seconds, Fetched: <span class="number">2</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æˆ–</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> dept_id, <span class="built_in">sum</span>(if(sex<span class="operator">=</span><span class="string">&#x27;ç”·&#x27;</span>,<span class="number">1</span>,<span class="number">0</span>)) <span class="keyword">as</span> maleCount, <span class="built_in">sum</span>(if(sex<span class="operator">=</span><span class="string">&#x27;å¥³&#x27;</span>,<span class="number">1</span>,<span class="number">0</span>)) <span class="keyword">as</span> femaleCount <span class="keyword">from</span> emp_sex <span class="keyword">group</span> byept_id;</span><br><span class="line">Query ID <span class="operator">=</span> root_20231222152953_a484d6e6<span class="number">-0</span>f57<span class="number">-49</span>f9<span class="number">-98</span>c8<span class="operator">-</span>c04acab2c9f0</span><br><span class="line">Total jobs <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">Launching Job <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">1</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks <span class="keyword">not</span> specified. Estimated <span class="keyword">from</span> input data size: <span class="number">1</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> change the average load <span class="keyword">for</span> a reducer (<span class="keyword">in</span> bytes):</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.bytes.per.reducer<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> limit the maximum number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.max<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> <span class="keyword">set</span> a constant number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> mapreduce.job.reduces<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line">Starting Job <span class="operator">=</span> job_1703225841549_0003, Tracking URL <span class="operator">=</span> http:<span class="operator">/</span><span class="operator">/</span>hadoop302:<span class="number">8088</span><span class="operator">/</span>proxy<span class="operator">/</span>application_1703225841549_0003<span class="operator">/</span></span><br><span class="line">Kill Command <span class="operator">=</span> <span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>bin<span class="operator">/</span>mapred job  <span class="operator">-</span>kill job_1703225841549_0003</span><br><span class="line">Hadoop job information <span class="keyword">for</span> Stage<span class="number">-1</span>: number <span class="keyword">of</span> mappers: <span class="number">1</span>; number <span class="keyword">of</span> reducers: <span class="number">1</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">15</span>:<span class="number">30</span>:<span class="number">02</span>,<span class="number">661</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">15</span>:<span class="number">30</span>:<span class="number">10</span>,<span class="number">897</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>, Cumulative CPU <span class="number">2.88</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">15</span>:<span class="number">30</span>:<span class="number">18</span>,<span class="number">105</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>, Cumulative CPU <span class="number">2.88</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">15</span>:<span class="number">30</span>:<span class="number">19</span>,<span class="number">125</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>, Cumulative CPU <span class="number">2.88</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">15</span>:<span class="number">30</span>:<span class="number">26</span>,<span class="number">347</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>, Cumulative CPU <span class="number">6.37</span> sec</span><br><span class="line">MapReduce Total cumulative CPU <span class="type">time</span>: <span class="number">6</span> seconds <span class="number">370</span> msec</span><br><span class="line">Ended Job <span class="operator">=</span> job_1703225841549_0003</span><br><span class="line">MapReduce Jobs Launched:</span><br><span class="line">Stage<span class="operator">-</span>Stage<span class="number">-1</span>: Map: <span class="number">1</span>  Reduce: <span class="number">1</span>   Cumulative CPU: <span class="number">6.37</span> sec   HDFS Read: <span class="number">15182</span> HDFS Write: <span class="number">123</span> SUCCESS</span><br><span class="line">Total MapReduce CPU <span class="type">Time</span> Spent: <span class="number">6</span> seconds <span class="number">370</span> msec</span><br><span class="line">OK</span><br><span class="line">dept_id malecount       femalecount</span><br><span class="line">A       <span class="number">2</span>       <span class="number">1</span></span><br><span class="line">B       <span class="number">1</span>       <span class="number">2</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">33.667</span> seconds, Fetched: <span class="number">2</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



<p>ï¼ˆ4ï¼‰è¡Œè½¬åˆ—</p>
<p>â€‹		CONCAT(string A&#x2F;col, string B&#x2F;colâ€¦):  è¿”å›è¾“å…¥å­—ç¬¦ä¸²è¿æ¥åçš„ç»“æœï¼Œæ”¯æŒä»»æ„ä¸ªè¾“å…¥å­—ç¬¦ä¸²;</p>
<p>â€‹		CONCAT_ws(separator, str1, str2..):å®ƒæ˜¯ä¸€ä¸ªç‰¹æ®Šå½¢å¼çš„ CONCAT()ã€‚ç¬¬ä¸€ä¸ªå‚æ•°å‰©ä½™å‚æ•°é—´çš„åˆ†éš”ç¬¦ã€‚åˆ†éš”ç¬¦å¯ä»¥æ˜¯ä¸å‰©ä½™å‚æ•°ä¸€æ ·çš„å­—ç¬¦ä¸²ã€‚å¦‚æœåˆ†éš”ç¬¦æ˜¯NULLï¼Œè¿”å›å€¼ä¹Ÿå°†ä¸ºNULLã€‚è¿™ä¸ªå‡½æ•°ä¼šè·³è¿‡åˆ†éš”ç¬¦å‚æ•°åçš„ä»»ä½•NULL å’Œç©ºå­—ç¬¦ä¸²ã€‚åˆ†éš”ç¬¦å°†è¢«åŠ åˆ°è¢«è¿æ¥çš„å­—ç¬¦ä¸²ä¹‹é—´ï¼›</p>
<p>â€‹		æ³¨æ„:CONCAT_Ws must be â€œstring or array<string><br>â€‹		COLLECT_SET(col):å‡½æ•°åªæ¥å—åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯å°†æŸå­—æ®µçš„å€¼è¿›è¡Œå»é‡æ±‡æ€»ï¼Œäº§ç”ŸArrayç±»å‹å­—æ®µã€‚</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"># concatå‡½æ•°ï¼š</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> concat(<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;-&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;-&#x27;</span>,<span class="string">&#x27;c&#x27;</span>);</span><br><span class="line">OK</span><br><span class="line">_c0</span><br><span class="line">a<span class="operator">-</span>b<span class="operator">-</span>c</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.635</span> seconds, Fetched: <span class="number">1</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dept;</span><br><span class="line">OK</span><br><span class="line">dept.deptno     dept.dname      dept.loc</span><br><span class="line"><span class="number">10</span>      ACCOUNTING      <span class="number">1700</span></span><br><span class="line"><span class="number">20</span>      RESEARCH        <span class="number">1800</span></span><br><span class="line"><span class="number">30</span>      SALES   <span class="number">1900</span></span><br><span class="line"><span class="number">40</span>      OPERATIONS      <span class="number">1700</span></span><br><span class="line"><span class="number">10</span>      ACCOUNTING      <span class="number">1700</span></span><br><span class="line"><span class="number">20</span>      RESEARCH        <span class="number">1800</span></span><br><span class="line"><span class="number">30</span>      SALES   <span class="number">1900</span></span><br><span class="line"><span class="number">40</span>      OPERATIONS      <span class="number">1700</span></span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.258</span> seconds, Fetched: <span class="number">8</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> concat(deptno,<span class="string">&#x27;-&#x27;</span>,dname) <span class="keyword">from</span> dept;</span><br><span class="line">OK</span><br><span class="line">_c0</span><br><span class="line"><span class="number">10</span><span class="operator">-</span>ACCOUNTING</span><br><span class="line"><span class="number">20</span><span class="operator">-</span>RESEARCH</span><br><span class="line"><span class="number">30</span><span class="operator">-</span>SALES</span><br><span class="line"><span class="number">40</span><span class="operator">-</span>OPERATIONS</span><br><span class="line"><span class="number">10</span><span class="operator">-</span>ACCOUNTING</span><br><span class="line"><span class="number">20</span><span class="operator">-</span>RESEARCH</span><br><span class="line"><span class="number">30</span><span class="operator">-</span>SALES</span><br><span class="line"><span class="number">40</span><span class="operator">-</span>OPERATIONS</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.144</span> seconds, Fetched: <span class="number">8</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line"># concat_wså‡½æ•°ï¼š</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> concat_ws(<span class="string">&#x27;-&#x27;</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>);</span><br><span class="line">OK</span><br><span class="line">_c0</span><br><span class="line">a<span class="operator">-</span>b<span class="operator">-</span>c</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.218</span> seconds, Fetched: <span class="number">1</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line"># COLLECT_LISTå‡½æ•°ï¼š</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student6;</span><br><span class="line">OK</span><br><span class="line">student6.id     student6.name</span><br><span class="line"><span class="number">20220006</span>         å‘¨è’</span><br><span class="line"><span class="number">20220007</span>         å®‹äº¤</span><br><span class="line"><span class="number">20220001</span>         å¼ ä¸‰</span><br><span class="line"><span class="number">20220002</span>         æå››</span><br><span class="line"><span class="number">20220003</span>         ç‹äº”</span><br><span class="line"><span class="number">20220004</span>         é©¬å…­</span><br><span class="line"><span class="number">20220005</span>         æå…«</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">0.161</span> seconds, Fetched: <span class="number">7</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> collect_list(id) <span class="keyword">from</span> student22;</span><br><span class="line">Query ID <span class="operator">=</span> root_20231222163113_2817259e<span class="number">-26</span>ea<span class="number">-466</span>b<span class="number">-900</span>c<span class="number">-46</span>ed3e423271</span><br><span class="line">Total jobs <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">Launching Job <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">1</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks determined <span class="keyword">at</span> compile <span class="type">time</span>: <span class="number">1</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> change the average load <span class="keyword">for</span> a reducer (<span class="keyword">in</span> bytes):</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.bytes.per.reducer<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> limit the maximum number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.max<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> <span class="keyword">set</span> a constant number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> mapreduce.job.reduces<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line">Starting Job <span class="operator">=</span> job_1703225841549_0004, Tracking URL <span class="operator">=</span> http:<span class="operator">/</span><span class="operator">/</span>hadoop302:<span class="number">8088</span><span class="operator">/</span>proxy<span class="operator">/</span>application_1703225841549_0004<span class="operator">/</span></span><br><span class="line">Kill Command <span class="operator">=</span> <span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>bin<span class="operator">/</span>mapred job  <span class="operator">-</span>kill job_1703225841549_0004</span><br><span class="line">Hadoop job information <span class="keyword">for</span> Stage<span class="number">-1</span>: number <span class="keyword">of</span> mappers: <span class="number">1</span>; number <span class="keyword">of</span> reducers: <span class="number">1</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">16</span>:<span class="number">31</span>:<span class="number">27</span>,<span class="number">577</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">16</span>:<span class="number">31</span>:<span class="number">35</span>,<span class="number">931</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>, Cumulative CPU <span class="number">3.49</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">16</span>:<span class="number">31</span>:<span class="number">49</span>,<span class="number">475</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>, Cumulative CPU <span class="number">6.06</span> sec</span><br><span class="line">MapReduce Total cumulative CPU <span class="type">time</span>: <span class="number">6</span> seconds <span class="number">60</span> msec</span><br><span class="line">Ended Job <span class="operator">=</span> job_1703225841549_0004</span><br><span class="line">MapReduce Jobs Launched:</span><br><span class="line">Stage<span class="operator">-</span>Stage<span class="number">-1</span>: Map: <span class="number">1</span>  Reduce: <span class="number">1</span>   Cumulative CPU: <span class="number">6.06</span> sec   HDFS Read: <span class="number">8276</span> HDFS Write: <span class="number">144</span> SUCCESS</span><br><span class="line">Total MapReduce CPU <span class="type">Time</span> Spent: <span class="number">6</span> seconds <span class="number">60</span> msec</span><br><span class="line">OK</span><br><span class="line">_c0</span><br><span class="line">[&quot;20220001&quot;,&quot;20220002&quot;,&quot;20220003&quot;,&quot;20220004&quot;,&quot;20220005&quot;]</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">37.643</span> seconds, Fetched: <span class="number">1</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># COLLECT_SETå‡½æ•°ï¼š</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span> <span class="keyword">select</span> collect_set(id) <span class="keyword">from</span> student22;</span><br><span class="line">Query ID <span class="operator">=</span> root_20231222163320_8b3d8e9f<span class="number">-358</span>b<span class="number">-46</span>fe<span class="number">-8</span>d97<span class="number">-39</span>d7e8ee4dc8</span><br><span class="line">Total jobs <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">Launching Job <span class="number">1</span> <span class="keyword">out</span> <span class="keyword">of</span> <span class="number">1</span></span><br><span class="line">Number <span class="keyword">of</span> reduce tasks determined <span class="keyword">at</span> compile <span class="type">time</span>: <span class="number">1</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> change the average load <span class="keyword">for</span> a reducer (<span class="keyword">in</span> bytes):</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.bytes.per.reducer<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> limit the maximum number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> hive.exec.reducers.max<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line"><span class="keyword">In</span> <span class="keyword">order</span> <span class="keyword">to</span> <span class="keyword">set</span> a constant number <span class="keyword">of</span> reducers:</span><br><span class="line">  <span class="keyword">set</span> mapreduce.job.reduces<span class="operator">=</span><span class="operator">&lt;</span>number<span class="operator">&gt;</span></span><br><span class="line">Starting Job <span class="operator">=</span> job_1703225841549_0005, Tracking URL <span class="operator">=</span> http:<span class="operator">/</span><span class="operator">/</span>hadoop302:<span class="number">8088</span><span class="operator">/</span>proxy<span class="operator">/</span>application_1703225841549_0005<span class="operator">/</span></span><br><span class="line">Kill Command <span class="operator">=</span> <span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>hadoop<span class="operator">/</span>bin<span class="operator">/</span>mapred job  <span class="operator">-</span>kill job_1703225841549_0005</span><br><span class="line">Hadoop job information <span class="keyword">for</span> Stage<span class="number">-1</span>: number <span class="keyword">of</span> mappers: <span class="number">1</span>; number <span class="keyword">of</span> reducers: <span class="number">1</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">16</span>:<span class="number">33</span>:<span class="number">31</span>,<span class="number">475</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span></span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">16</span>:<span class="number">33</span>:<span class="number">38</span>,<span class="number">879</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">0</span><span class="operator">%</span>, Cumulative CPU <span class="number">1.65</span> sec</span><br><span class="line"><span class="number">2023</span><span class="number">-12</span><span class="number">-22</span> <span class="number">16</span>:<span class="number">33</span>:<span class="number">56</span>,<span class="number">388</span> Stage<span class="number">-1</span> map <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>,  reduce <span class="operator">=</span> <span class="number">100</span><span class="operator">%</span>, Cumulative CPU <span class="number">4.81</span> sec</span><br><span class="line">MapReduce Total cumulative CPU <span class="type">time</span>: <span class="number">4</span> seconds <span class="number">810</span> msec</span><br><span class="line">Ended Job <span class="operator">=</span> job_1703225841549_0005</span><br><span class="line">MapReduce Jobs Launched:</span><br><span class="line">Stage<span class="operator">-</span>Stage<span class="number">-1</span>: Map: <span class="number">1</span>  Reduce: <span class="number">1</span>   Cumulative CPU: <span class="number">4.81</span> sec   HDFS Read: <span class="number">8348</span> HDFS Write: <span class="number">144</span> SUCCESS</span><br><span class="line">Total MapReduce CPU <span class="type">Time</span> Spent: <span class="number">4</span> seconds <span class="number">810</span> msec</span><br><span class="line">OK</span><br><span class="line">_c0</span><br><span class="line">[&quot;20220001&quot;,&quot;20220002&quot;,&quot;20220003&quot;,&quot;20220004&quot;,&quot;20220005&quot;]</span><br><span class="line"><span class="type">Time</span> taken: <span class="number">37.72</span> seconds, Fetched: <span class="number">1</span> <span class="type">row</span>(s)</span><br><span class="line">hive (<span class="keyword">default</span>)<span class="operator">&gt;</span></span><br></pre></td></tr></table></figure>



























































<p>äº”ã€HIveCLLå‘½ä»¤çš„åŸºæœ¬ä½¿ç”¨</p>
<ol>
<li>Help</li>
</ol>
<p>ä½¿ç”¨ <code>hive -H</code> æˆ–è€… <code>hive --help</code> å‘½ä»¤å¯ä»¥æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤çš„å¸®åŠ©</p>
<ol start="2">
<li>äº¤äº’å¼å‘½ä»¤è¡Œ</li>
</ol>
<p>ç›´æ¥ä½¿ç”¨ <code>Hive</code> å‘½ä»¤ï¼Œä¸åŠ ä»»ä½•å‚æ•°ï¼Œå³å¯è¿›å…¥äº¤äº’å¼å‘½ä»¤è¡Œ</p>
<ol start="3">
<li>æ‰§è¡ŒSQLå‘½ä»¤</li>
</ol>
<p>åœ¨ä¸è¿›å…¥äº¤äº’å¼å‘½ä»¤è¡Œçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ <code>hive -e </code> æ‰§è¡Œ SQL å‘½ä»¤</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">hive -e <span class="string">&#x27;select * from emp&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>ç”¨äºæ‰§è¡Œçš„ sql è„šæœ¬å¯ä»¥åœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œä¹Ÿå¯ä»¥åœ¨ HDFS ä¸Š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line">hive -f /usr/file/simple.sql;</span><br><span class="line"></span><br><span class="line"><span class="comment"># HDFSæ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line">hive -f hdfs://hadoop001:8020/tmp/simple.sql;</span><br></pre></td></tr></table></figure>



<ol start="4">
<li>é…ç½®Hiveå˜é‡</li>
</ol>
<p>å¯ä»¥ä½¿ç”¨ <code>--hiveconf</code> è®¾ç½® Hive è¿è¡Œæ—¶çš„å˜é‡</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">hive -e <span class="string">&#x27;select * from emp&#x27;</span> \</span><br><span class="line">--hiveconf hive.exec.scratchdir=/tmp/hive_scratch  \</span><br><span class="line">--hiveconf mapred.reduce.tasks=4;</span><br></pre></td></tr></table></figure>



<ol start="5">
<li>é…ç½®æ–‡ä»¶å¯åŠ¨</li>
</ol>
<p>ä½¿ç”¨ <code>-i</code> å¯ä»¥åœ¨è¿›å…¥äº¤äº’æ¨¡å¼ä¹‹å‰è¿è¡Œåˆå§‹åŒ–è„šæœ¬ï¼Œç›¸å½“äºæŒ‡å®šé…ç½®æ–‡ä»¶å¯åŠ¨</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">hive -i /usr/file/hive-init.conf;</span><br></pre></td></tr></table></figure>

<p><code>hive-init.conf</code> çš„å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">set</span> hive.exec.mode.local.auto = <span class="literal">true</span>;</span><br></pre></td></tr></table></figure>



<ol start="6">
<li>ç”¨æˆ·è‡ªå®šä¹‰å˜é‡</li>
</ol>
<p><code>--define &lt;key=value&gt; </code> å’Œ <code>--hivevar &lt;key=value&gt;  </code> åœ¨åŠŸèƒ½ä¸Šæ˜¯ç­‰ä»·çš„ï¼Œéƒ½æ˜¯ç”¨æ¥å®ç°è‡ªå®šä¹‰å˜é‡</p>
<p>å®šä¹‰å˜é‡ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">hive  --define  n=ename --hiveconf  --hivevar j=job;</span><br></pre></td></tr></table></figure>

<p>åœ¨æŸ¥è¯¢ä¸­å¼•ç”¨è‡ªå®šä¹‰å˜é‡ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä»¥ä¸‹ä¸¤æ¡è¯­å¥ç­‰ä»·</span></span><br><span class="line">hive &gt; <span class="keyword">select</span> <span class="variable">$&#123;n&#125;</span> from emp;</span><br><span class="line">hive &gt;  <span class="keyword">select</span> <span class="variable">$&#123;hivevar:n&#125;</span> from emp;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»¥ä¸‹ä¸¤æ¡è¯­å¥ç­‰ä»·</span></span><br><span class="line">hive &gt; <span class="keyword">select</span> <span class="variable">$&#123;j&#125;</span> from emp;</span><br><span class="line">hive &gt;  <span class="keyword">select</span> <span class="variable">$&#123;hivevar:j&#125;</span> from emp;</span><br></pre></td></tr></table></figure>





<p>å…­ã€Beelineå‘½ä»¤çš„åŸºæœ¬ä½¿ç”¨</p>
<ol>
<li>Beeline</li>
</ol>
<p>Beeline æ‹¥æœ‰æ›´å¤šå¯ä½¿ç”¨å‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨ <code>beeline --help</code> æŸ¥çœ‹</p>
<ol start="2">
<li>å¸¸ç”¨å‚æ•°</li>
</ol>
<p>åœ¨ Hive CLI ä¸­æ”¯æŒçš„å‚æ•°ï¼ŒBeeline éƒ½æ”¯æŒï¼Œå¸¸ç”¨çš„å‚æ•°å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><strong>-u <database URL></strong></td>
<td>æ•°æ®åº“åœ°å€</td>
</tr>
<tr>
<td><strong>-n <username></strong></td>
<td>ç”¨æˆ·å</td>
</tr>
<tr>
<td><strong>-p <password></strong></td>
<td>å¯†ç </td>
</tr>
<tr>
<td><strong>-d <driver class></strong></td>
<td>é©±åŠ¨ (å¯é€‰)</td>
</tr>
<tr>
<td><strong>-e <query></strong></td>
<td>æ‰§è¡Œ SQL å‘½ä»¤</td>
</tr>
<tr>
<td><strong>-f <file></strong></td>
<td>æ‰§è¡Œ SQL è„šæœ¬</td>
</tr>
<tr>
<td><strong>-i (or)â€“init <file or files></strong></td>
<td>åœ¨è¿›å…¥äº¤äº’æ¨¡å¼ä¹‹å‰è¿è¡Œåˆå§‹åŒ–è„šæœ¬</td>
</tr>
<tr>
<td><strong>â€“property-file <file></strong></td>
<td>æŒ‡å®šé…ç½®æ–‡ä»¶</td>
</tr>
<tr>
<td><strong>â€“hiveconf</strong> <em>property</em>*&#x3D;*<em>value</em></td>
<td>æŒ‡å®šé…ç½®å±æ€§</td>
</tr>
<tr>
<td><strong>â€“hivevar</strong> <em>name</em>*&#x3D;*<em>value</em></td>
<td>ç”¨æˆ·è‡ªå®šä¹‰å±æ€§ï¼Œåœ¨ä¼šè¯çº§åˆ«æœ‰æ•ˆ</td>
</tr>
</tbody></table>
<p>ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç è¿æ¥ Hive</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">$ beeline -u jdbc:hive2://localhost:10000  -n username -p password </span><br></pre></td></tr></table></figure>



<ol start="3">
<li>Hiveé…ç½®</li>
</ol>
<p>å¯ä»¥é€šè¿‡ä¸‰ç§æ–¹å¼å¯¹ Hive çš„ç›¸å…³å±æ€§è¿›è¡Œé…ç½®</p>
<p>1).é…ç½®æ–‡ä»¶</p>
<p>æ–¹å¼ä¸€ä¸ºä½¿ç”¨é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨é…ç½®æ–‡ä»¶æŒ‡å®šçš„é…ç½®æ˜¯æ°¸ä¹…æœ‰æ•ˆçš„ã€‚Hive æœ‰ä»¥ä¸‹ä¸‰ä¸ªå¯é€‰çš„é…ç½®æ–‡ä»¶ï¼š</p>
<ul>
<li>hive-site.xml ï¼šHive çš„ä¸»è¦é…ç½®æ–‡ä»¶ï¼›</li>
<li>hivemetastore-site.xmlï¼š å…³äºå…ƒæ•°æ®çš„é…ç½®ï¼›</li>
<li>hiveserver2-site.xmlï¼šå…³äº HiveServer2 çš„é…ç½®ã€‚</li>
</ul>
<p>ç¤ºä¾‹å¦‚ä¸‹,åœ¨ hive-site.xml é…ç½® <code>hive.exec.scratchdir</code>ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">&lt;property&gt;</span><br><span class="line">   &lt;name&gt;hive.exec.scratchdir&lt;/name&gt;</span><br><span class="line">   &lt;value&gt;/tmp/mydir&lt;/value&gt;</span><br><span class="line">   &lt;description&gt;Scratch space <span class="keyword">for</span> Hive <span class="built_in">jobs</span>&lt;/description&gt;</span><br><span class="line"> &lt;/property&gt;</span><br></pre></td></tr></table></figure>



<p>2).hiveconf</p>
<p>æ–¹å¼äºŒä¸ºåœ¨å¯åŠ¨å‘½ä»¤è¡Œ (Hive CLI &#x2F; Beeline) çš„æ—¶å€™ä½¿ç”¨ <code>--hiveconf</code> æŒ‡å®šé…ç½®ï¼Œè¿™ç§æ–¹å¼æŒ‡å®šçš„é…ç½®ä½œç”¨äºæ•´ä¸ª Sessionã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">hive --hiveconf hive.exec.scratchdir=/tmp/mydir</span><br></pre></td></tr></table></figure>



<p>3).set</p>
<p>æ–¹å¼ä¸‰ä¸ºåœ¨äº¤äº’å¼ç¯å¢ƒä¸‹ (Hive CLI &#x2F; Beeline)ï¼Œä½¿ç”¨ set å‘½ä»¤æŒ‡å®šã€‚è¿™ç§è®¾ç½®çš„ä½œç”¨èŒƒå›´ä¹Ÿæ˜¯ Session çº§åˆ«çš„ï¼Œé…ç½®å¯¹äºæ‰§è¡Œè¯¥å‘½ä»¤åçš„æ‰€æœ‰å‘½ä»¤ç”Ÿæ•ˆã€‚set å…¼å…·è®¾ç½®å‚æ•°å’ŒæŸ¥çœ‹å‚æ•°çš„åŠŸèƒ½ã€‚å¦‚ä¸‹ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">0: jdbc:hive2://hadoop001:10000&gt; <span class="built_in">set</span> hive.exec.scratchdir=/tmp/mydir;</span><br><span class="line">No rows affected (0.025 seconds)</span><br><span class="line">0: jdbc:hive2://hadoop001:10000&gt; <span class="built_in">set</span> hive.exec.scratchdir;</span><br><span class="line">+----------------------------------+--+</span><br><span class="line">|               <span class="built_in">set</span>                |</span><br><span class="line">+----------------------------------+--+</span><br><span class="line">| hive.exec.scratchdir=/tmp/mydir  |</span><br><span class="line">+---------------------------</span><br></pre></td></tr></table></figure>









<h3 id="Spark-åŸºç¡€"><a href="#Spark-åŸºç¡€" class="headerlink" title="Spark åŸºç¡€"></a>Spark åŸºç¡€</h3><h4 id="ä¸€ã€WordCount-åŠŸèƒ½å®ç°"><a href="#ä¸€ã€WordCount-åŠŸèƒ½å®ç°" class="headerlink" title="ä¸€ã€WordCount åŠŸèƒ½å®ç°"></a>ä¸€ã€WordCount åŠŸèƒ½å®ç°</h4><p>æå‰åœ¨pom.xmlæ·»åŠ å¦‚ä¸‹é…ç½®</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">&lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;3.0.0&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">&lt;/dependencies&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> spark.wc</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">demo01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Application</span></span><br><span class="line">    <span class="comment">//Sparkæ¡†æ¶</span></span><br><span class="line">    <span class="comment">//TODO å»ºç«‹å’ŒSparkæ¡†æ¶çš„è¿æ¥</span></span><br><span class="line">    <span class="comment">//JDBCï¼šConnection</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> sparConf = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local&quot;</span>).setAppName(<span class="string">&quot;WordCount&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO æ‰§è¡Œä¸šåŠ¡æ“ä½œ</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1. è¯»å–æ–‡ä»¶ï¼Œè·å–ä¸€è¡Œä¸€è¡Œçš„æ•°æ®</span></span><br><span class="line">    <span class="comment">//    hello   world</span></span><br><span class="line">    <span class="keyword">val</span> lines: <span class="type">RDD</span>[<span class="type">String</span>] = sc.textFile(<span class="string">&quot;datas&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2. å°†ä¸€è¡Œæ•°æ®è¿›è¡Œæ‹†åˆ†ï¼Œå½¢æˆä¸€ä¸ªä¸€ä¸ªçš„å•è¯ï¼ˆåˆ†è¯ï¼‰</span></span><br><span class="line">    <span class="comment">//  æ‰å¹³åŒ–ï¼šå°†æ•´ä¸ªæ‹†åˆ†æˆä¸ªä½“çš„æ“ä½œ</span></span><br><span class="line">    <span class="comment">//    &quot;hello world&quot; =&gt; hello, world, hello, world</span></span><br><span class="line">    <span class="keyword">val</span> words: <span class="type">RDD</span>[<span class="type">String</span>] = lines.flatMap(_.split(<span class="string">&quot; &quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3. å°†æ•°æ®æ ¹æ®å•è¯è¿›è¡Œåˆ†ç»„ï¼Œä¾¿äºç»Ÿè®¡</span></span><br><span class="line">    <span class="comment">//    (hello, hello, hello),  (world, world)</span></span><br><span class="line">    <span class="keyword">val</span> wordGroup: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Iterable</span>[<span class="type">String</span>])] = words.groupBy(word=&gt;word)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4. å¯¹åˆ†ç»„åçš„æ•°æ®è¿›è¡Œè½¬æ¢</span></span><br><span class="line">    <span class="comment">//    (hello, hello, hello),  (world, world)</span></span><br><span class="line">    <span class="comment">//    (hello, 3),  (world, 2)</span></span><br><span class="line">    <span class="keyword">val</span> wordToCount: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = wordGroup.map &#123;</span><br><span class="line">      <span class="keyword">case</span> (word, list) =&gt;&#123;</span><br><span class="line">        (word, list.size)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 5. å°†è½¬æ¢çš„ç»“æœé‡‡é›†åˆ°æ§åˆ¶å°æ‰“å°å‡ºæ¥</span></span><br><span class="line">    <span class="keyword">val</span> array: <span class="type">Array</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = wordToCount.collect()</span><br><span class="line">    array.foreach(println)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO å…³é—­è¿æ¥</span></span><br><span class="line">    sc.stop()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> spark.wc</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">demo02</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å»ºç«‹å’ŒSparkæ¡†æ¶çš„è¿æ¥</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> sparConf = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local&quot;</span>).setAppName(<span class="string">&quot;WordCount&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO æ‰§è¡Œä¸šåŠ¡æ“ä½œ</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> lines: <span class="type">RDD</span>[<span class="type">String</span>] = sc.textFile(<span class="string">&quot;datas&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> words: <span class="type">RDD</span>[<span class="type">String</span>] = lines.flatMap(_.split(<span class="string">&quot; &quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> wordToOne = words.map(</span><br><span class="line">      word =&gt; (word, <span class="number">1</span>)</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> wordGroup: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Iterable</span>[(<span class="type">String</span>, <span class="type">Int</span>)])] = wordToOne.groupBy(</span><br><span class="line">      t =&gt; t._1</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> wordToCount = wordGroup.map &#123;</span><br><span class="line">      <span class="keyword">case</span> (word, list) =&gt;&#123;</span><br><span class="line">        list.reduce(</span><br><span class="line">          (t1, t2) =&gt; &#123;</span><br><span class="line">            (t1._1, t1._2 + t2._2)</span><br><span class="line">          &#125;</span><br><span class="line">        )</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> array: <span class="type">Array</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = wordToCount.collect()</span><br><span class="line">    array.foreach(println)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO å…³é—­è¿æ¥</span></span><br><span class="line">    sc.stop()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> spark.wc</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">demo03</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO å»ºç«‹å’ŒSparkæ¡†æ¶çš„è¿æ¥</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> sparConf = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local&quot;</span>).setAppName(<span class="string">&quot;WordCount&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO æ‰§è¡Œä¸šåŠ¡æ“ä½œ</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> lines: <span class="type">RDD</span>[<span class="type">String</span>] = sc.textFile(<span class="string">&quot;datas&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> words: <span class="type">RDD</span>[<span class="type">String</span>] = lines.flatMap(_.split(<span class="string">&quot; &quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> wordToOne = words.map(</span><br><span class="line">      word =&gt; (word, <span class="number">1</span>)</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Spark æ¡†æ¶æä¾›äº†æ›´å¤šçš„åŠŸèƒ½ï¼Œå¯ä»¥å°†åˆ†ç»„å’Œèšåˆä½¿ç”¨ä¸€ä¸ªæ–¹æ³•å®ç°</span></span><br><span class="line">    <span class="comment">// reduceByKey : ç›¸åŒçš„Keyçš„æ•°æ®ï¼Œå¯ä»¥å¯¹Valueè¿›è¡Œreduceèšåˆ</span></span><br><span class="line"><span class="comment">//    wordToOne.reduceByKey((x, y) =&gt; &#123;x + y&#125;)</span></span><br><span class="line"><span class="comment">//    wordToOne.reduceByKey((x, y) =&gt; x + y)</span></span><br><span class="line">    <span class="keyword">val</span> wordToCount = wordToOne.reduceByKey(_+_)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> array: <span class="type">Array</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = wordToCount.collect()</span><br><span class="line">    array.foreach(println)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO å…³é—­è¿æ¥</span></span><br><span class="line">    sc.stop()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="äºŒã€æœ¬åœ°éƒ¨ç½²æ¨¡å¼"><a href="#äºŒã€æœ¬åœ°éƒ¨ç½²æ¨¡å¼" class="headerlink" title="äºŒã€æœ¬åœ°éƒ¨ç½²æ¨¡å¼"></a>äºŒã€æœ¬åœ°éƒ¨ç½²æ¨¡å¼</h4><p>1). ä¸Šä¼ ç›¸åº”sparkå‹ç¼©åŒ…å¹¶è§£å‹åˆ°å¯¹åº”ç›®å½•</p>
<p>2). é‡å‘½åæ–¹ä¾¿åé¢ä½¿ç”¨</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 module]# ll</span><br><span class="line">æ€»ç”¨é‡ 0</span><br><span class="line">drwxr-xr-x. 11 yun   yun   173 12æœˆ  7 10:31 hadoop</span><br><span class="line">drwxr-xr-x. 11 root  root  221 12æœˆ 11 15:04 hive</span><br><span class="line">drwxr-xr-x.  8 yun   yun   255 12æœˆ 20 2017 jdk</span><br><span class="line">drwxr-xr-x. 10 mysql mysql 141 12æœˆ  6 15:49 mysql</span><br><span class="line">drwxr-xr-x. 13 yun   yun   211 12æœˆ 12 09:12 spark</span><br></pre></td></tr></table></figure>

<p>3). åœ¨ spark&#x2F;data&#x2F;ä¸‹æ–°å»ºä¸€ä¸ªword.txtæ–‡ä»¶ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹å†…å®¹</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">Hello Scala</span><br><span class="line">Hello Spark</span><br><span class="line">Hello Scala</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 data]# ll</span><br><span class="line">æ€»ç”¨é‡ 8</span><br><span class="line">drwxr-xr-x. 2 yun  yun    44 2æœˆ  22 2021 graphx</span><br><span class="line">drwxr-xr-x. 5 yun  yun  4096 2æœˆ  22 2021 mllib</span><br><span class="line">drwxr-xr-x. 2 yun  yun    27 2æœˆ  22 2021 streaming</span><br><span class="line">-rw-r--r--. 1 root root   37 12æœˆ 12 09:16 word.txt</span><br></pre></td></tr></table></figure>

<p>4). è¿›å…¥spark</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">[root<span class="meta">@hadoop</span>301 spark]# bin/spark-shell</span><br><span class="line"><span class="number">23</span>/<span class="number">12</span>/<span class="number">12</span> <span class="number">09</span>:<span class="number">35</span>:<span class="number">18</span> <span class="type">WARN</span> <span class="type">NativeCodeLoader</span>: <span class="type">Unable</span> to load native-hadoop library <span class="keyword">for</span> your platform... using builtin-java classes where applicable</span><br><span class="line"><span class="type">Using</span> <span class="type">Spark</span>&#x27;s <span class="keyword">default</span> log4j profile: org/apache/spark/log4j-defaults.properties</span><br><span class="line"><span class="type">Setting</span> <span class="keyword">default</span> log level to <span class="string">&quot;WARN&quot;</span>.</span><br><span class="line"><span class="type">To</span> adjust logging level use sc.setLogLevel(newLevel). <span class="type">For</span> <span class="type">SparkR</span>, use setLogLevel(newLevel).</span><br><span class="line"><span class="number">23</span>/<span class="number">12</span>/<span class="number">12</span> <span class="number">09</span>:<span class="number">35</span>:<span class="number">32</span> <span class="type">WARN</span> <span class="type">Utils</span>: <span class="type">Service</span> &#x27;<span class="type">SparkUI</span>&#x27; could not bind on port <span class="number">4040.</span> <span class="type">Attempting</span> port <span class="number">4041.</span></span><br><span class="line"><span class="type">Spark</span> context <span class="type">Web</span> <span class="type">UI</span> available at http:<span class="comment">//hadoop301:4041</span></span><br><span class="line"><span class="type">Spark</span> context available as &#x27;sc&#x27; (master = local[*], app id = local<span class="number">-1702344932584</span>).</span><br><span class="line"><span class="type">Spark</span> session available as &#x27;spark&#x27;.</span><br><span class="line"><span class="type">Welcome</span> to</span><br><span class="line">      ____              __</span><br><span class="line">     / __/__  ___ _____/ /__</span><br><span class="line">    _\ \/ _ \/ _ `/ __/  &#x27;_/</span><br><span class="line">   /___/ .__/\_,_/_/ /_/\_\   version <span class="number">3.1</span><span class="number">.1</span></span><br><span class="line">      /_/</span><br><span class="line"></span><br><span class="line"><span class="type">Using</span> <span class="type">Scala</span> version <span class="number">2.12</span><span class="number">.10</span> (<span class="type">Java</span> <span class="type">HotSpot</span>(<span class="type">TM</span>) <span class="number">64</span>-<span class="type">Bit</span> <span class="type">Server</span> <span class="type">VM</span>, <span class="type">Java</span> <span class="number">1.8</span><span class="number">.0</span>_162)</span><br><span class="line"><span class="type">Type</span> in expressions to have them evaluated.</span><br><span class="line"><span class="type">Type</span> :help <span class="keyword">for</span> more information.</span><br></pre></td></tr></table></figure>

<p>5). ç®€å•æµ‹è¯•ä¸€ä¸‹</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">scala&gt; sc.textFile(<span class="string">&quot;data/word.txt&quot;</span>).flatMap(_.split(<span class="string">&quot; &quot;</span>)).map((_,<span class="number">1</span>)).reduceByKey(_+_).col</span><br><span class="line">res0: <span class="type">Array</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = <span class="type">Array</span>((<span class="type">Spark</span>,<span class="number">1</span>), (<span class="type">Hello</span>,<span class="number">3</span>), (<span class="type">Scala</span>,<span class="number">2</span>))</span><br></pre></td></tr></table></figure>

<p>6). è¿è¡Œæäº¤åº”ç”¨ç¨‹åº</p>
<p>å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">bin/spark-submit \</span><br><span class="line">--<span class="class"><span class="keyword">class</span> <span class="title">org</span>.<span class="title">apache</span>.<span class="title">spark</span>.<span class="title">examples</span>.<span class="title">SparkPi</span> <span class="title">\</span></span></span><br><span class="line">--master local[<span class="number">2</span>] \</span><br><span class="line">./examples/jars/spark-examples_2<span class="number">.12</span><span class="number">-3.1</span><span class="number">.1</span>.jar \</span><br><span class="line"><span class="number">10</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 spark]# bin/spark-submit \</span><br><span class="line">&gt; --class org.apache.spark.examples.SparkPi \</span><br><span class="line">&gt; --master <span class="built_in">local</span>[2] \</span><br><span class="line">&gt; ./examples/jars/spark-examples_2.12-3.1.1.jar \</span><br><span class="line">&gt; 10</span><br><span class="line">23/12/12 09:50:26 WARN NativeCodeLoader: Unable to load native-hadoop library                                                                   <span class="keyword">for</span> your platform... using builtin-java classes <span class="built_in">where</span> applicable</span><br><span class="line">Using Spark<span class="string">&#x27;s default log4j profile: org/apache/spark/log4j-defaults.properti                                                                  es</span></span><br><span class="line"><span class="string">23/12/12 09:50:26 INFO SparkContext: Running Spark version 3.1.1</span></span><br><span class="line"><span class="string">23/12/12 09:50:26 INFO ResourceUtils: =======================================                                                                  =======================</span></span><br><span class="line"><span class="string">23/12/12 09:50:26 INFO ResourceUtils: No custom resources configured for spar                                                                  k.driver.</span></span><br><span class="line"><span class="string">23/12/12 09:50:26 INFO ResourceUtils: =======================================                                                                  =======================</span></span><br><span class="line"><span class="string">23/12/12 09:50:26 INFO SparkContext: Submitted application: Spark Pi</span></span><br><span class="line"><span class="string">23/12/12 09:50:26 INFO ResourceProfile: Default ResourceProfile created, exec                                                                  utor resources: Map(cores -&gt; name: cores, amount: 1, script: , vendor: , memo                                                                  ry -&gt; name: memory, amount: 1024, script: , vendor: , offHeap -&gt; name: offHea                                                                  p, amount: 0, script: , vendor: ), task resources: Map(cpus -&gt; name: cpus, am                                                                  ount: 1.0)</span></span><br><span class="line"><span class="string">23/12/12 09:50:26 INFO ResourceProfile: Limiting resource is cpu</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">.......</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">23/12/12 09:50:33 INFO DAGScheduler: Job 0 finished: reduce at SparkPi.scala:                                                                  38, took 1.886176 s</span></span><br><span class="line"><span class="string">Pi is roughly 3.141411141411141</span></span><br><span class="line"><span class="string">23/12/12 09:50:33 INFO SparkUI: Stopped Spark web UI at http://hadoop301:4041</span></span><br><span class="line"><span class="string">23/12/12 09:50:33 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMaster                                                                  Endpoint stopped!</span></span><br><span class="line"><span class="string">23/12/12 09:50:33 INFO MemoryStore: MemoryStore cleared</span></span><br><span class="line"><span class="string">23/12/12 09:50:33 INFO BlockManager: BlockManager stopped</span></span><br><span class="line"><span class="string">23/12/12 09:50:33 INFO BlockManagerMaster: BlockManagerMaster stopped</span></span><br><span class="line"><span class="string">23/12/12 09:50:33 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoin                                                                  t: OutputCommitCoordinator stopped!</span></span><br><span class="line"><span class="string">23/12/12 09:50:33 INFO SparkContext: Successfully stopped SparkContext</span></span><br><span class="line"><span class="string">23/12/12 09:50:33 INFO ShutdownHookManager: Shutdown hook called</span></span><br><span class="line"><span class="string">23/12/12 09:50:33 INFO ShutdownHookManager: Deleting directory /tmp/spark-eaf                                                                  94632-dc33-48e3-9ce3-e86e591dcc24</span></span><br><span class="line"><span class="string">23/12/12 09:50:33 INFO ShutdownHookManager: Deleting directory /tmp/spark-630                                                                  537e8-aaf6-4e4b-8a77-4c73e457244c</span></span><br></pre></td></tr></table></figure>



<h4 id="ä¸‰ã€ç‹¬ç«‹éƒ¨ç½²æ¨¡å¼-spark-standalone"><a href="#ä¸‰ã€ç‹¬ç«‹éƒ¨ç½²æ¨¡å¼-spark-standalone" class="headerlink" title="ä¸‰ã€ç‹¬ç«‹éƒ¨ç½²æ¨¡å¼(spark-standalone)"></a>ä¸‰ã€ç‹¬ç«‹éƒ¨ç½²æ¨¡å¼(spark-standalone)</h4><p>1). è§£å‹æ–‡ä»¶</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 software]# tar -zxvf spark-3.1.1-bin-hadoop3.2.tgz -C /opt/module</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 module]# <span class="built_in">mv</span> spark-3.1.1-bin-hadoop3.2/ spark-standalone</span><br><span class="line">[root@hadoop301 module]# ll</span><br><span class="line">æ€»ç”¨é‡ 0</span><br><span class="line">drwxr-xr-x. 11 yun   yun   173 12æœˆ  7 10:31 hadoop</span><br><span class="line">drwxr-xr-x. 11 root  root  221 12æœˆ 11 15:04 hive</span><br><span class="line">drwxr-xr-x.  8 yun   yun   255 12æœˆ 20 2017 jdk</span><br><span class="line">drwxr-xr-x. 10 mysql mysql 141 12æœˆ  6 15:49 mysql</span><br><span class="line">drwxr-xr-x. 13 yun   yun   211 12æœˆ 12 09:12 spark</span><br><span class="line">drwxr-xr-x. 13 yun   yun   211 2æœˆ  22 2021 spark-standalone</span><br></pre></td></tr></table></figure>



<p>2). å°† &#x2F;spark-standalone&#x2F;conf&#x2F; çš„è¿™ä¸ªæ–‡ä»¶workers.template é‡å‘½åä¸ºslaves</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 module]# <span class="built_in">cd</span> spark-standalone/conf/</span><br><span class="line">[root@hadoop301 conf]# ll</span><br><span class="line">æ€»ç”¨é‡ 36</span><br><span class="line">-rw-r--r--. 1 yun yun 1105 2æœˆ  22 2021 fairscheduler.xml.template</span><br><span class="line">-rw-r--r--. 1 yun yun 2023 2æœˆ  22 2021 log4j.properties.template</span><br><span class="line">-rw-r--r--. 1 yun yun 9141 2æœˆ  22 2021 metrics.properties.template</span><br><span class="line">-rw-r--r--. 1 yun yun  865 2æœˆ  22 2021 slaves</span><br><span class="line">-rw-r--r--. 1 yun yun 1292 2æœˆ  22 2021 spark-defaults.conf.template</span><br><span class="line">-rwxr-xr-x. 1 yun yun 4428 2æœˆ  22 2021 spark-env.sh.template</span><br></pre></td></tr></table></figure>

<p>3). ä¿®æ”¹slavesæ–‡ä»¶ï¼Œæ·»åŠ workèŠ‚ç‚¹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hadoop301</span><br><span class="line">hadoop302</span><br><span class="line">hadoop303</span><br></pre></td></tr></table></figure>

<p>4). ä¿®æ”¹spark-env.sh.templateæ–‡ä»¶åä¸ºspark-env.sh</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 conf]# <span class="built_in">mv</span> spark-env.sh.template spark-env.sh</span><br><span class="line">[root@hadoop301 conf]# ll</span><br><span class="line">æ€»ç”¨é‡ 36</span><br><span class="line">-rw-r--r--. 1 yun yun 1105 2æœˆ  22 2021 fairscheduler.xml.template</span><br><span class="line">-rw-r--r--. 1 yun yun 2023 2æœˆ  22 2021 log4j.properties.template</span><br><span class="line">-rw-r--r--. 1 yun yun 9141 2æœˆ  22 2021 metrics.properties.template</span><br><span class="line">-rw-r--r--. 1 yun yun  886 12æœˆ 12 10:02 slaves</span><br><span class="line">-rw-r--r--. 1 yun yun 1292 2æœˆ  22 2021 spark-defaults.conf.template</span><br><span class="line">-rwxr-xr-x. 1 yun yun 4428 2æœˆ  22 2021 spark-env.sh</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 conf]# vim spark-env.sh</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/opt/module/jdk</span><br><span class="line">SPARK_MASTER_HOST=hadoop301</span><br><span class="line">SPARK_MASTER_PORT=7077</span><br></pre></td></tr></table></figure>



<p>4). åˆ†å‘ç»™hadoop302ã€hadoop303</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 module]# xsync spark-standalone/</span><br><span class="line">==================== hadoop301 ====================</span><br><span class="line">sending incremental file list</span><br><span class="line"></span><br><span class="line">sent 39,530 bytes  received 167 bytes  79,394.00 bytes/sec</span><br><span class="line">total size is 254,312,335  speedup is 6,406.34</span><br><span class="line">==================== hadoop302 ====================</span><br><span class="line">sending incremental file list</span><br><span class="line">spark-standalone/</span><br><span class="line">spark-standalone/LICENSE</span><br><span class="line">spark-standalone/NOTICE</span><br><span class="line">spark-standalone/README.md</span><br><span class="line">spark-standalone/RELEASE</span><br><span class="line"></span><br><span class="line">.......</span><br></pre></td></tr></table></figure>



<p>5). å¯åŠ¨é›†ç¾¤</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 spark-standalone]# sbin/start-all.sh</span><br><span class="line">starting org.apache.spark.deploy.master.Master, logging to /opt/module/spark-standalone/logs/spark-root-org.apache.spark.deploy.master.Master-1-hadoop301.out</span><br><span class="line">hadoop303: starting org.apache.spark.deploy.worker.Worker, logging to /opt/module/spark-standalone/logs/spark-root-org.apache.spark.deploy.worker.Worker-1-hadoop303.out</span><br><span class="line">hadoop302: starting org.apache.spark.deploy.worker.Worker, logging to /opt/module/spark-standalone/logs/spark-root-org.apache.spark.deploy.worker.Worker-1-hadoop302.out</span><br><span class="line">hadoop301: starting org.apache.spark.deploy.worker.Worker, logging to /opt/module/spark-standalone/logs/spark-root-org.apache.spark.deploy.worker.Worker-1-hadoop301.out</span><br></pre></td></tr></table></figure>



<p>6). æŸ¥çœ‹ä¸‰å°æœåŠ¡å™¨è¿è¡Œè¿›ç¨‹</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 spark-standalone]# jps</span><br><span class="line">2754 DataNode</span><br><span class="line">6035 Worker</span><br><span class="line">2596 NameNode</span><br><span class="line">5972 Master</span><br><span class="line">3097 NodeManager</span><br><span class="line">6155 Jps</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop302 conf]# jps</span><br><span class="line">3232 Worker</span><br><span class="line">3335 Jps</span><br><span class="line">2520 NodeManager</span><br><span class="line">2362 ResourceManager</span><br><span class="line">2159 DataNode</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop303 conf]# jps</span><br><span class="line">2272 SecondaryNameNode</span><br><span class="line">2864 Worker</span><br><span class="line">2967 Jps</span><br><span class="line">2153 DataNode</span><br><span class="line">2364 NodeManager</span><br></pre></td></tr></table></figure>



<p>7). æŸ¥çœ‹Masterèµ„æºç›‘æ§Web UI ç•Œé¢ http&#x2F;&#x2F;hadoop301:8080</p>
<p><img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231212110957048.png" alt="image-20231212110957048"></p>
<p>8). æäº¤åº”ç”¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">bin/spark-submit \</span><br><span class="line">--class org.apache.spark.examples.SparkPi \</span><br><span class="line">--master spark://hadoop301:7077 \</span><br><span class="line">./examples/jars/spark-examples_2.12-3.1.1.jar \</span><br><span class="line">10</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 spark-standalone]# bin/spark-submit \</span><br><span class="line">&gt; --class org.apache.spark.examples.SparkPi \</span><br><span class="line">&gt; --master spark://hadoop301:7077 \</span><br><span class="line">&gt; ./examples/jars/spark-examples_2.12-3.1.1.jar \</span><br><span class="line">&gt; 10</span><br><span class="line">23/12/12 11:11:42 WARN NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... using builtin-java classes <span class="built_in">where</span> applicable</span><br><span class="line">Using Spark<span class="string">&#x27;s default log4j profile: org/apache/spark/log4j-defaults.properties</span></span><br><span class="line"><span class="string">23/12/12 11:11:42 INFO SparkContext: Running Spark version 3.1.1</span></span><br><span class="line"><span class="string">23/12/12 11:11:42 INFO ResourceUtils: ==============================================================</span></span><br><span class="line"><span class="string">23/12/12 11:11:42 INFO ResourceUtils: No custom resources configured for spark.driver.</span></span><br><span class="line"><span class="string">23/12/12 11:11:42 INFO ResourceUtils: ==============================================================</span></span><br><span class="line"><span class="string">23/12/12 11:11:42 INFO SparkContext: Submitted application: Spark Pi</span></span><br><span class="line"><span class="string">23/12/12 11:11:43 INFO ResourceProfile: Default ResourceProfile created, executor resources: Map(cores -&gt; name: cores, amount: 1, script: , vendor: , memory -&gt; name: memory, amount: 1024, script: , vendor: , offHeap -&gt; name: offHeap, amount: 0, script: , vendor: ), task resources: Map(cpus -&gt; name: cpus, amount: 1.0)</span></span><br><span class="line"><span class="string">23/12/12 11:11:43 INFO ResourceProfile: Limiting resource is cpu</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">.....</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">23/12/12 11:11:52 INFO DAGScheduler: Job 0 is finished. Cancelling potential speculative or zombie tasks for this job</span></span><br><span class="line"><span class="string">23/12/12 11:11:52 INFO TaskSchedulerImpl: Killing all running tasks in stage 0: Stage finished</span></span><br><span class="line"><span class="string">23/12/12 11:11:52 INFO DAGScheduler: Job 0 finished: reduce at SparkPi.scala:38, took 4.014818 s</span></span><br><span class="line"><span class="string">Pi is roughly 3.1443471443471442</span></span><br><span class="line"><span class="string">23/12/12 11:11:52 INFO SparkUI: Stopped Spark web UI at http://hadoop301:4040</span></span><br><span class="line"><span class="string">23/12/12 11:11:52 INFO StandaloneSchedulerBackend: Shutting down all executors</span></span><br><span class="line"><span class="string">23/12/12 11:11:52 INFO CoarseGrainedSchedulerBackend$DriverEndpoint: Asking each executor to shut down</span></span><br><span class="line"><span class="string">23/12/12 11:11:52 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!</span></span><br><span class="line"><span class="string">23/12/12 11:11:52 INFO MemoryStore: MemoryStore cleared</span></span><br><span class="line"><span class="string">23/12/12 11:11:52 INFO BlockManager: BlockManager stopped</span></span><br><span class="line"><span class="string">23/12/12 11:11:52 INFO BlockManagerMaster: BlockManagerMaster stopped</span></span><br><span class="line"><span class="string">23/12/12 11:11:52 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!</span></span><br><span class="line"><span class="string">23/12/12 11:11:52 INFO SparkContext: Successfully stopped SparkContext</span></span><br><span class="line"><span class="string">23/12/12 11:11:52 INFO ShutdownHookManager: Shutdown hook called</span></span><br><span class="line"><span class="string">23/12/12 11:11:52 INFO ShutdownHookManager: Deleting directory /tmp/spark-03a8ac52-5651-4ac8-b21c-8e7dce714d76</span></span><br><span class="line"><span class="string">23/12/12 11:11:52 INFO ShutdownHookManager: Deleting directory /tmp/spark-cdcd1f1b-8c00-4911-ba0c-79a07391394d</span></span><br></pre></td></tr></table></figure>





<p>ä¿®æ”¹spark-defaults.conf.templateæ–‡ä»¶åä¸ºspark-defaults.conf</p>
<p>ä¿®æ”¹spark-defaults.confæ–‡ä»¶ï¼Œé…ç½®æ—¥å¿—å­˜å‚¨è·¯å¾„</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">spark.eventLog.enabled            <span class="literal">true</span></span><br><span class="line">spark.eventLog.<span class="built_in">dir</span>                hdfs://hadoop301:8020/directory</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šéœ€è¦å¯åŠ¨hadoopé›†ç¾¤ï¼Œ<strong>HDFSä¸Šçš„directoryç›®å½•éœ€è¦æå‰å­˜åœ¨</strong></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 conf]# hdfs dfs -<span class="built_in">mkdir</span> /directory</span><br></pre></td></tr></table></figure>



<p>ä¿®æ”¹spark-env.shæ–‡ä»¶ï¼Œæ·»åŠ æ—¥å¿—é…ç½®</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> SPARK_HISTORY_OPTS=<span class="string">&quot;  </span></span><br><span class="line"><span class="string">-Dspark.history.ui.port=18080</span></span><br><span class="line"><span class="string">-Dspark.history.fs.logDirectory=hdfs://hadoop301:8020/directory</span></span><br><span class="line"><span class="string">-Dspark.history.retainedApplications=30&quot;</span></span><br></pre></td></tr></table></figure>



<p>åˆ†å‘é…ç½®æ–‡ä»¶</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 spark-standalone]# xsync conf</span><br><span class="line">==================== hadoop301 ====================</span><br><span class="line">sending incremental file list</span><br><span class="line"></span><br><span class="line">sent 252 bytes  received 17 bytes  179.33 bytes/sec</span><br><span class="line">total size is 19,229  speedup is 71.48</span><br><span class="line">==================== hadoop302 ====================</span><br><span class="line">sending incremental file list</span><br><span class="line">conf/</span><br><span class="line">conf/spark-defaults.conf</span><br><span class="line">conf/spark-env.sh</span><br><span class="line"></span><br><span class="line">sent 2,239 bytes  received 100 bytes  1,559.33 bytes/sec</span><br><span class="line">total size is 19,229  speedup is 8.22</span><br><span class="line">==================== hadoop303 ====================</span><br><span class="line">sending incremental file list</span><br><span class="line">conf/</span><br><span class="line">conf/spark-defaults.conf</span><br><span class="line">conf/spark-env.sh</span><br><span class="line"></span><br><span class="line">sent 2,239 bytes  received 100 bytes  4,678.00 bytes/sec</span><br><span class="line">total size is 19,229  speedup is 8.22</span><br></pre></td></tr></table></figure>



<p>é‡å†™å¯åŠ¨é›†ç¾¤å’Œå†å²æœåŠ¡</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sbin/start-all.sh</span><br><span class="line">sbin/start-history-server.sh</span><br></pre></td></tr></table></figure>



<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 spark-standalone]# sbin/start-all.sh</span><br><span class="line">starting org.apache.spark.deploy.master.Master, logging to /opt/module/spark-standalone/logs/spark-root-org.apache.spark.deploy.master.Master-1-hadoop301.out</span><br><span class="line">hadoop303: starting org.apache.spark.deploy.worker.Worker, logging to /opt/module/spark-standalone/logs/spark-root-org.apache.spark.deploy.worker.Worker-1-hadoop303.out</span><br><span class="line">hadoop302: starting org.apache.spark.deploy.worker.Worker, logging to /opt/module/spark-standalone/logs/spark-root-org.apache.spark.deploy.worker.Worker-1-hadoop302.out</span><br><span class="line">hadoop301: starting org.apache.spark.deploy.worker.Worker, logging to /opt/module/spark-standalone/logs/spark-root-org.apache.spark.deploy.worker.Worker-1-hadoop301.out</span><br><span class="line">[root@hadoop301 spark-standalone]# sbin/start-history-server.sh</span><br><span class="line">starting org.apache.spark.deploy.history.HistoryServer, logging to /opt/module/spark-standalone/logs/spark-root-org.apache.spark.deploy.history.HistoryServer-1-hadoop301.out</span><br></pre></td></tr></table></figure>



<p>é‡æ–°æ‰§è¡Œä»»åŠ¡</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">bin/spark-submit \</span><br><span class="line">--class org.apache.spark.examples.SparkPi \</span><br><span class="line">--master spark://hadoop301:7077 \</span><br><span class="line">./examples/jars/spark-examples_2.12-3.1.1.jar \</span><br><span class="line">10</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 spark-standalone]# bin/spark-submit \</span><br><span class="line">&gt; --class org.apache.spark.examples.SparkPi \</span><br><span class="line">&gt; --master spark://hadoop301:7077 \</span><br><span class="line">&gt; ./examples/jars/spark-examples_2.12-3.1.1.jar \</span><br><span class="line">&gt; 10</span><br><span class="line">23/12/12 16:39:05 WARN NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... using builtin-java classes <span class="built_in">where</span> applicable</span><br><span class="line">Using Spark<span class="string">&#x27;s default log4j profile: org/apache/spark/log4j-defaults.properties</span></span><br><span class="line"><span class="string">23/12/12 16:39:05 INFO SparkContext: Running Spark version 3.1.1</span></span><br><span class="line"><span class="string">23/12/12 16:39:05 INFO ResourceUtils: ==============================================================</span></span><br><span class="line"><span class="string">23/12/12 16:39:05 INFO ResourceUtils: No custom resources configured for spark.driver.</span></span><br><span class="line"><span class="string">23/12/12 16:39:05 INFO ResourceUtils: ==============================================================</span></span><br><span class="line"><span class="string">23/12/12 16:39:05 INFO SparkContext: Submitted application: Spark Pi</span></span><br><span class="line"><span class="string">23/12/12 16:39:05 INFO ResourceProfile: Default ResourceProfile created, executor resources: Map(cores -&gt; name: cores, amount: 1, script: , vendor: , memory -&gt; name: memory, amount: 1024, script: , vendor: , offHeap -&gt; name: offHeap, amount: 0, script: , vendor: ), task resources: Map(cpus -&gt; name: cpus, amount: 1.0)</span></span><br><span class="line"><span class="string">23/12/12 16:39:05 INFO ResourceProfile: Limiting resource is cpu</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">......</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">23/12/12 16:39:23 INFO DAGScheduler: Job 0 is finished. Cancelling potential speculative or zombie tasks for this job</span></span><br><span class="line"><span class="string">23/12/12 16:39:23 INFO TaskSchedulerImpl: Killing all running tasks in stage 0: Stage finished</span></span><br><span class="line"><span class="string">23/12/12 16:39:23 INFO DAGScheduler: Job 0 finished: reduce at SparkPi.scala:38, took 4.522823 s</span></span><br><span class="line"><span class="string">Pi is roughly 3.141043141043141</span></span><br><span class="line"><span class="string">23/12/12 16:39:23 INFO SparkUI: Stopped Spark web UI at http://hadoop301:4040</span></span><br><span class="line"><span class="string">23/12/12 16:39:23 INFO StandaloneSchedulerBackend: Shutting down all executors</span></span><br><span class="line"><span class="string">23/12/12 16:39:23 INFO CoarseGrainedSchedulerBackend$DriverEndpoint: Asking each executor to shut down</span></span><br><span class="line"><span class="string">23/12/12 16:39:24 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!</span></span><br><span class="line"><span class="string">23/12/12 16:39:24 INFO MemoryStore: MemoryStore cleared</span></span><br><span class="line"><span class="string">23/12/12 16:39:24 INFO BlockManager: BlockManager stopped</span></span><br><span class="line"><span class="string">23/12/12 16:39:24 INFO BlockManagerMaster: BlockManagerMaster stopped</span></span><br><span class="line"><span class="string">23/12/12 16:39:24 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!</span></span><br><span class="line"><span class="string">23/12/12 16:39:24 INFO SparkContext: Successfully stopped SparkContext</span></span><br><span class="line"><span class="string">23/12/12 16:39:24 INFO ShutdownHookManager: Shutdown hook called</span></span><br><span class="line"><span class="string">23/12/12 16:39:24 INFO ShutdownHookManager: Deleting directory /tmp/spark-3aaec14f-7e43-4214-9e85-58d641e79b38</span></span><br><span class="line"><span class="string">23/12/12 16:39:24 INFO ShutdownHookManager: Deleting directory /tmp/spark-5b914f69-6e76-420b-92b7-c4e07295232b</span></span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹å†å²æœåŠ¡ï¼šcd </p>
<p><img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231212170908553.png" alt="image-20231212170908553"></p>
<p>9). é…ç½®é«˜å¯ç”¨</p>
<p>Zookeeperè®¾ç½®</p>
<ol>
<li>åœæ­¢é›†ç¾¤</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sbin/stop-all.sh</span><br></pre></td></tr></table></figure>



<ol start="2">
<li>å¯åŠ¨Zookeeper</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">zkServer.sh start</span><br></pre></td></tr></table></figure>

<p>3ä¸ªèŠ‚ç‚¹éƒ½è¦å¯åŠ¨æˆ–ä½¿ç”¨</p>
<p>Zookeeperé›†ç¾¤å¯åŠ¨è„šæœ¬</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">zk.sh start</span><br></pre></td></tr></table></figure>

<p>Zookeeperé›†ç¾¤åœæ­¢è„šæœ¬</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">zk.sh stop</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 zookeeper]# zk.sh start</span><br><span class="line">---------- zookeeper hadoop301 å¯åŠ¨ ------------</span><br><span class="line">Error: JAVA_HOME is not <span class="built_in">set</span> and java could not be found <span class="keyword">in</span> PATH.</span><br><span class="line">---------- zookeeper hadoop302 å¯åŠ¨ ------------</span><br><span class="line">Error: JAVA_HOME is not <span class="built_in">set</span> and java could not be found <span class="keyword">in</span> PATH.</span><br><span class="line">---------- zookeeper hadoop303 å¯åŠ¨ ------------</span><br><span class="line">Error: JAVA_HOME is not <span class="built_in">set</span> and java could not be found <span class="keyword">in</span> PATH.</span><br></pre></td></tr></table></figure>



<ol start="3">
<li>ä¿®æ”¹spark-env.shï¼Œå¦‚ä½•å¦‚ä¸‹</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">æ³¨é‡Šè¿™ä¸¤è¡Œ</span><br><span class="line"><span class="comment"># SPARK_MASTER_HOST=hadoop301</span></span><br><span class="line"><span class="comment"># SPARK_MASTER_PORT=7077</span></span><br><span class="line"></span><br><span class="line">æ·»åŠ </span><br><span class="line">SPARK_MASTER_WEBUI_PORT=8989</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> SPART_DAEMON_JAVA_OPTS=<span class="string">&quot;</span></span><br><span class="line"><span class="string">-Dspark.deploy.recoveryMode=ZOOKEEPER</span></span><br><span class="line"><span class="string">-Dspark.deploy.zookeeper.url=hadoop301,hadoop302,hadoop303</span></span><br><span class="line"><span class="string">-Dspark.deploy.zookeeper.dir=/spark&quot;</span></span><br></pre></td></tr></table></figure>

<p>åˆ†å‘â€¦.</p>
<ol start="4">
<li>å¯åŠ¨é›†ç¾¤</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sbin/start-all.sh</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹ï¼š <a href="http://hadoop301:8989/">http://hadoop301:8989</a></p>
<p><img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231213154113647.png" alt="image-20231213154113647"></p>
<ol start="5">
<li>å¯åŠ¨hadoop302çš„å•ç‹¬MasterèŠ‚ç‚¹ï¼Œæ­¤æ—¶MasterçŠ¶æ€å¤„äºå¤‡ç”¨çŠ¶æ€</li>
</ol>
<p>æŸ¥çœ‹ï¼š <a href="http://hadoop302:8989/">http://hadoop302:8989</a></p>
<p><img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231213154533997.png" alt="image-20231213154533997"></p>
<ol start="6">
<li>æäº¤åº”ç”¨åˆ°é«˜å¯ç”¨é›†ç¾¤</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">bin/spark-submit \</span><br><span class="line">--class org.apache.spark.examples.SparkPi \</span><br><span class="line">--master spark://hadoop301:7077,hadoop302:7077 \</span><br><span class="line">./examples/jars/spark-examples_2.12-3.1.1.jar \</span><br><span class="line">10</span><br></pre></td></tr></table></figure>



<ol start="7">
<li>åœæ­¢hadoopçš„Masterèµ„æºç›‘æ§è¿›ç¨‹</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 spark-standalone]# jps</span><br><span class="line">3408 QuorumPeerMain</span><br><span class="line">3888 NameNode</span><br><span class="line">7825 Jps</span><br><span class="line">4393 NodeManager</span><br><span class="line">7225 Worker</span><br><span class="line">6188 HistoryServer</span><br><span class="line">4045 DataNode</span><br><span class="line">7151 Master</span><br><span class="line">[root@hadoop301 spark-standalone]# <span class="built_in">kill</span> -9 7151</span><br><span class="line">[root@hadoop301 spark-standalone]# jps</span><br><span class="line">3408 QuorumPeerMain</span><br><span class="line">3888 NameNode</span><br><span class="line">4393 NodeManager</span><br><span class="line">7225 Worker</span><br><span class="line">6188 HistoryServer</span><br><span class="line">4045 DataNode</span><br><span class="line">7854 Jps</span><br></pre></td></tr></table></figure>

<p><img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231213155518859.png" alt="image-20231213155518859"></p>
<h4 id="å››ã€Yarnæ¨¡å¼"><a href="#å››ã€Yarnæ¨¡å¼" class="headerlink" title="å››ã€Yarnæ¨¡å¼"></a>å››ã€Yarnæ¨¡å¼</h4><p>1). è§£å‹æ–‡ä»¶ï¼Œå¹¶é‡å‘½åæ”¾ç½®å†æŒ‡å®šä½ç½®</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 software]# tar -zxvf spark-3.1.1-bin-hadoop3.2.tgz -C /opt/module/</span><br><span class="line">.....</span><br><span class="line"></span><br><span class="line">[root@hadoop301 module]# <span class="built_in">mv</span> spark-3.1.1-bin-hadoop3.2/ spark-yarn</span><br><span class="line">[root@hadoop301 module]# ll</span><br><span class="line">æ€»ç”¨é‡ 0</span><br><span class="line">drwxr-xr-x. 11 yun   yun   173 12æœˆ  7 10:31 hadoop</span><br><span class="line">drwxr-xr-x. 11 yun   yun   221 12æœˆ 11 15:04 hive</span><br><span class="line">drwxr-xr-x.  8 yun   yun   255 12æœˆ 20 2017 jdk</span><br><span class="line">drwxr-xr-x. 10 mysql mysql 141 12æœˆ  6 15:49 mysql</span><br><span class="line">drwxr-xr-x. 13 yun   yun   211 12æœˆ 12 09:12 spark</span><br><span class="line">drwxr-xr-x. 15 yun   yun   235 12æœˆ 12 15:25 spark-standalone</span><br><span class="line">drwxr-xr-x. 13 yun   yun   211 2æœˆ  22 2021 spark-yarn</span><br><span class="line">drwxr-xr-x.  8 root  root  160 12æœˆ 13 15:03 zookeeper</span><br></pre></td></tr></table></figure>



<p>2).ä¿®æ”¹é…ç½®æ–‡ä»¶</p>
<p>ä¿®æ”¹hadoopé…ç½®æ–‡ä»¶&#x2F;opt&#x2F;module&#x2F;hadoop&#x2F;etc&#x2F;hadoop&#x2F;yarn-site.xmlï¼Œå¹¶åˆ†å‘</p>
<p><img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231213160855000.png" alt="image-20231213160855000"></p>
<p>3).ä¿®æ”¹conf&#x2F;spark-env.sh ï¼Œæ·»åŠ JAVA_HOMEå’ŒYARN_CONF_DIRé…ç½®</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 conf]# ll</span><br><span class="line">æ€»ç”¨é‡ 36</span><br><span class="line">-rw-r--r--. 1 yun yun 1105 2æœˆ  22 2021 fairscheduler.xml.template</span><br><span class="line">-rw-r--r--. 1 yun yun 2023 2æœˆ  22 2021 log4j.properties.template</span><br><span class="line">-rw-r--r--. 1 yun yun 9141 2æœˆ  22 2021 metrics.properties.template</span><br><span class="line">-rw-r--r--. 1 yun yun 1292 2æœˆ  22 2021 spark-defaults.conf.template</span><br><span class="line">-rwxr-xr-x. 1 yun yun 4428 2æœˆ  22 2021 spark-env.sh.template</span><br><span class="line">-rw-r--r--. 1 yun yun  865 2æœˆ  22 2021 workers.template</span><br><span class="line">[root@hadoop301 conf]# <span class="built_in">mv</span> spark-env.sh.template spark-env.sh</span><br><span class="line">[root@hadoop301 conf]# vim spark-env.sh</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> JAVA_HOME=/opt/module/jdk</span><br><span class="line">YARN_CONF_DIR=/opt/module/hadoop/etc/hadoop</span><br></pre></td></tr></table></figure>



<p>4).å¯åŠ¨HDFSä»¥åŠYARNé›†ç¾¤</p>
<p>5).æäº¤åº”ç”¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">bin/spark-submit \</span><br><span class="line">--class org.apache.spark.examples.SparkPi \</span><br><span class="line">--master yarn \</span><br><span class="line">--deploy-mode cluster \</span><br><span class="line">./examples/jars/spark-examples_2.12-3.1.1.jar \</span><br><span class="line">10</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 spark-yarn]# bin/spark-submit \</span><br><span class="line">&gt; --class org.apache.spark.examples.SparkPi \</span><br><span class="line">&gt; --master yarn \</span><br><span class="line">&gt; --deploy-mode cluster \</span><br><span class="line">&gt; ./examples/jars/spark-examples_2.12-3.1.1.jar \</span><br><span class="line">&gt; 10</span><br><span class="line">2023-12-13 16:19:45,899 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> your platform... using builtin-java classes <span class="built_in">where</span> applicable</span><br><span class="line">2023-12-13 16:19:46,041 INFO client.RMProxy: Connecting to ResourceManager at hadoop302/192.168.137.137:8032</span><br><span class="line"></span><br><span class="line">......</span><br><span class="line"></span><br><span class="line">2023-12-13 16:20:38,182 INFO yarn.Client: Application report <span class="keyword">for</span> application_1702451653078_0001 (state: RUNNING)</span><br><span class="line">2023-12-13 16:20:39,185 INFO yarn.Client: Application report <span class="keyword">for</span> application_1702451653078_0001 (state: FINISHED)</span><br><span class="line">2023-12-13 16:20:39,186 INFO yarn.Client:</span><br><span class="line">         client token: N/A</span><br><span class="line">         diagnostics: N/A</span><br><span class="line">         ApplicationMaster host: hadoop302</span><br><span class="line">         ApplicationMaster RPC port: 42631</span><br><span class="line">         queue: default</span><br><span class="line">         start <span class="keyword">time</span>: 1702455600467</span><br><span class="line">         final status: SUCCEEDED</span><br><span class="line">         tracking URL: http://hadoop302:8088/proxy/application_1702451653078_0001/</span><br><span class="line">         user: root</span><br><span class="line">2023-12-13 16:20:39,216 INFO util.ShutdownHookManager: Shutdown hook called</span><br><span class="line">2023-12-13 16:20:39,216 INFO util.ShutdownHookManager: Deleting directory /tmp/spark-566fedcb-c4d9-44e9-b06b-c304d10eec03</span><br><span class="line">2023-12-13 16:20:39,229 INFO util.ShutdownHookManager: Deleting directory /tmp/spark-12d7b76e-9d46-4f6f-ac04-edbde3f7869a</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹ <a href="http://hadoop302:8088/">http://hadoop302:8088</a> é¡µé¢ï¼Œç‚¹å‡»Historyï¼ŒæŸ¥çœ‹å†å²é¡µé¢</p>
<p><img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231213162533931.png" alt="image-20231213162533931"></p>
<p>6).é…ç½®å†å²æœåŠ¡å™¨</p>
<ol>
<li>ä¿®æ”¹spark-defaults.conf.templateæ–‡ä»¶åä¸ºspark-defaults.conf</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 conf]# <span class="built_in">mv</span> spark-defaults.conf.template spark-defaults.conf</span><br><span class="line">[root@hadoop301 conf]# ll</span><br><span class="line">æ€»ç”¨é‡ 36</span><br><span class="line">-rw-r--r--. 1 yun yun 1105 2æœˆ  22 2021 fairscheduler.xml.template</span><br><span class="line">-rw-r--r--. 1 yun yun 2023 2æœˆ  22 2021 log4j.properties.template</span><br><span class="line">-rw-r--r--. 1 yun yun 9141 2æœˆ  22 2021 metrics.properties.template</span><br><span class="line">-rw-r--r--. 1 yun yun 1292 2æœˆ  22 2021 spark-defaults.conf</span><br><span class="line">-rwxr-xr-x. 1 yun yun 4505 12æœˆ 13 16:15 spark-env.sh</span><br><span class="line">-rw-r--r--. 1 yun yun  865 2æœˆ  22 2021 workers.template</span><br></pre></td></tr></table></figure>



<ol start="2">
<li>ä¿®æ”¹spark-defaults.confæ–‡ä»¶ï¼Œé…ç½®æ—¥å¿—è·¯å¾„</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">spark.eventLog.enabled             <span class="literal">true</span></span><br><span class="line">spark.eventLog.<span class="built_in">dir</span>                 hdfs://hadoop301:8020/directory</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šéœ€è¦å¯åŠ¨hadoopé›†ç¾¤ï¼Œ<strong>HDFSä¸Šçš„ç›®å½•éœ€è¦æå‰å­˜åœ¨</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 spark-yarn]# hdfs dfs -mkdir /directory</span><br></pre></td></tr></table></figure>



<ol start="3">
<li>ä¿®æ”¹spark.env.shæ–‡ä»¶ï¼Œæ·»åŠ æ—¥å¿—é…ç½®</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> SPARK_HISTORY_OPTS=<span class="string">&quot;</span></span><br><span class="line"><span class="string">-Dspark.history.ui.port=18080</span></span><br><span class="line"><span class="string">-Dspark.history.fs.logDirectory=hdfs://hadoop301:8020/directory</span></span><br><span class="line"><span class="string">-Dspark.history.retainedApplications=30&quot;</span></span><br></pre></td></tr></table></figure>



<ol start="4">
<li>åˆ†å‘é…ç½®æ–‡ä»¶</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 spark-yarn]# xsync conf</span><br><span class="line">==================== hadoop301 ====================</span><br><span class="line">sending incremental file list</span><br><span class="line"></span><br><span class="line">sent 257 bytes  received 17 bytes  548.00 bytes/sec</span><br><span class="line">total size is 19,281  speedup is 70.37</span><br><span class="line">==================== hadoop302 ====================</span><br><span class="line">sending incremental file list</span><br><span class="line">conf/</span><br><span class="line">conf/fairscheduler.xml.template</span><br><span class="line">conf/log4j.properties.template</span><br><span class="line">conf/metrics.properties.template</span><br><span class="line">conf/spark-defaults.conf</span><br><span class="line">conf/spark-env.sh</span><br><span class="line">conf/workers.template</span><br><span class="line"></span><br><span class="line">sent 19,799 bytes  received 134 bytes  39,866.00 bytes/sec</span><br><span class="line">total size is 19,281  speedup is 0.97</span><br><span class="line">==================== hadoop303 ====================</span><br><span class="line">sending incremental file list</span><br><span class="line">conf/</span><br><span class="line">conf/fairscheduler.xml.template</span><br><span class="line">conf/log4j.properties.template</span><br><span class="line">conf/metrics.properties.template</span><br><span class="line">conf/spark-defaults.conf</span><br><span class="line">conf/spark-env.sh</span><br><span class="line">conf/workers.template</span><br><span class="line"></span><br><span class="line">sent 19,799 bytes  received 134 bytes  13,288.67 bytes/sec</span><br><span class="line">total size is 19,281  speedup is 0.97</span><br></pre></td></tr></table></figure>



<ol start="5">
<li>ä¿®æ”¹spark-defaults.conf</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">spark.yarn.historyServer.address=hadoop301:18080</span><br><span class="line">spark.history.ui.port=18080</span><br></pre></td></tr></table></figure>



<ol start="6">
<li>å¯åŠ¨å†å²æœåŠ¡</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sbin/start-history-server.sh</span><br></pre></td></tr></table></figure>



<ol start="7">
<li>é‡æ–°æäº¤åº”ç”¨</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">bin/spark-submit \</span><br><span class="line">--class org.apache.spark.examples.SparkPi \</span><br><span class="line">--master yarn \</span><br><span class="line">--deploy-mode client \</span><br><span class="line">./examples/jars/spark-examples_2.12-3.1.1.jar \</span><br><span class="line">10</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">[root@hadoop301 spark-yarn]# bin/spark-submit \</span><br><span class="line">&gt; --class org.apache.spark.examples.SparkPi \</span><br><span class="line">&gt; --master yarn \</span><br><span class="line">&gt; --deploy-mode client \</span><br><span class="line">&gt; ./examples/jars/spark-examples_2.12-3.1.1.jar \</span><br><span class="line">&gt; 10</span><br><span class="line">2023-12-13 16:49:44,349 WARN util.NativeCodeLoader: Unable to load native-hadoop library <span class="keyword">for</span> y                                                                      our platform... using builtin-java classes <span class="built_in">where</span> applicable</span><br><span class="line">2023-12-13 16:49:44,790 INFO spark.SparkContext: Running Spark version 3.1.1</span><br><span class="line">2023-12-13 16:49:44,872 INFO resource.ResourceUtils: =========================================                                                                      =====================</span><br><span class="line">2023-12-13 16:49:44,873 INFO resource.ResourceUtils: No custom resources configured <span class="keyword">for</span> spark.                                                                      driver.</span><br><span class="line">2023-12-13 16:49:44,873 INFO resource.ResourceUtils: =========================================                                                                      =====================</span><br><span class="line">2023-12-13 16:49:44,874 INFO spark.SparkContext: Submitted application: Spark Pi</span><br><span class="line">2023-12-13 16:49:44,939 INFO resource.ResourceProfile: Default ResourceProfile created, execut                                                                      or resources: Map(cores -&gt; name: cores, amount: 1, script: , vendor: , memory -&gt; name: memory,                                                                       amount: 1024, script: , vendor: , offHeap -&gt; name: offHeap, amount: 0, script: , vendor: ), t                                                                      ask resources: Map(cpus -&gt; name: cpus, amount: 1.0)</span><br><span class="line">2023-12-13 16:49:44,961 INFO resource.ResourceProfile: Limiting resource is cpus at 1 tasks pe                                                                      r executor</span><br><span class="line">2023-12-13 16:49:44,992 INFO resource.ResourceProfileManager: Added ResourceProfile <span class="built_in">id</span>: 0</span><br><span class="line"></span><br><span class="line">......</span><br><span class="line"></span><br><span class="line">2023-12-13 16:50:47,759 INFO scheduler.DAGScheduler: Job 0 finished: reduce at SparkPi.scala:3                                                                      8, took 20.828142 s</span><br><span class="line">Pi is roughly 3.139227139227139</span><br><span class="line">2023-12-13 16:50:47,885 INFO server.AbstractConnector: Stopped Spark@6e9c413e&#123;HTTP/1.1, (http/                                                                      1.1)&#125;&#123;0.0.0.0:4040&#125;</span><br><span class="line">2023-12-13 16:50:47,900 INFO ui.SparkUI: Stopped Spark web UI at http://hadoop301:4040</span><br><span class="line">2023-12-13 16:50:47,909 INFO cluster.YarnClientSchedulerBackend: Interrupting monitor thread</span><br><span class="line">2023-12-13 16:50:47,998 INFO cluster.YarnClientSchedulerBackend: Shutting down all executors</span><br><span class="line">2023-12-13 16:50:47,999 INFO cluster.YarnSchedulerBackend<span class="variable">$YarnDriverEndpoint</span>: Asking each <span class="built_in">exec</span>                                                                      utor to shut down</span><br><span class="line">2023-12-13 16:50:48,037 INFO cluster.YarnClientSchedulerBackend: YARN client scheduler backend                                                                       Stopped</span><br><span class="line">2023-12-13 16:50:48,440 INFO spark.MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpo                                                                      int stopped!</span><br><span class="line">2023-12-13 16:50:48,511 INFO memory.MemoryStore: MemoryStore cleared</span><br><span class="line">2023-12-13 16:50:48,511 INFO storage.BlockManager: BlockManager stopped</span><br><span class="line">2023-12-13 16:50:48,543 INFO storage.BlockManagerMaster: BlockManagerMaster stopped</span><br><span class="line">2023-12-13 16:50:48,550 INFO scheduler.OutputCommitCoordinator<span class="variable">$OutputCommitCoordinatorEndpoint</span>                                                                      : OutputCommitCoordinator stopped!</span><br><span class="line">2023-12-13 16:50:48,644 INFO spark.SparkContext: Successfully stopped SparkContext</span><br><span class="line">2023-12-13 16:50:48,654 INFO util.ShutdownHookManager: Shutdown hook called</span><br><span class="line">2023-12-13 16:50:48,689 INFO util.ShutdownHookManager: Deleting directory /tmp/spark-646e1f5a-                                                                      38b0-46f9-948c-af2f753731d7</span><br><span class="line">2023-12-13 16:50:48,738 INFO util.ShutdownHookManager: Deleting directory /tmp/spark-5d835f52-                                                                      96f8-4b11-82bd-e5cfad7e0a80</span><br></pre></td></tr></table></figure>



<ol start="8">
<li>Web é¡µé¢æŸ¥çœ‹æ—¥å¿—ï¼š<a href="http://hadoop302:8088/">http://hadoop302:8088</a></li>
</ol>
<p><img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231213165525855.png" alt="image-20231213165525855"></p>
<h4 id="äº”ã€Windowsæ¨¡å¼"><a href="#äº”ã€Windowsæ¨¡å¼" class="headerlink" title="äº”ã€Windowsæ¨¡å¼"></a>äº”ã€Windowsæ¨¡å¼</h4><p>1). è§£å‹æ–‡ä»¶</p>
<p>å°†æ–‡ä»¶spark-3.1.1-bin-hadoop3.2.tgzè§£å‹åˆ°æ— ä¸­æ–‡äº”ç©ºæ ¼çš„è·¯å¾„ä¸­</p>
<p>2).å¯åŠ¨æœ¬åœ°ç¯å¢ƒ</p>
<ol>
<li>æ‰§è¡Œè§£å‹æ–‡ä»¶è·¯å¾„ä¸‹binç›®å½•ä¸­çš„spark-shell.comæ–‡ä»¶ï¼Œå¯åŠ¨Sparkæœ¬åœ°ç¯å¢ƒ</li>
</ol>
<p><img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231213171654405.png" alt="image-20231213171654405"></p>
<ol start="2">
<li>åœ¨binç›®å½•ä¸­åˆ›å»ºinputç›®å½•ï¼Œå¹¶æ·»åŠ word.txtæ–‡ä»¶ï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥è„šæœ¬ä»£ç </li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">Hello World</span><br><span class="line">Hello Spark</span><br></pre></td></tr></table></figure>



<ol start="3">
<li>åœ¨ ç»ˆç«¯è¾“å…¥å¦‚ä¸‹å‘½ä»¤</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sc.textFile(<span class="string">&quot;input/word.txt&quot;</span>).flatMap(_.<span class="built_in">split</span>(<span class="string">&quot;,&quot;</span>)).map((_,<span class="number">1</span>)).reduceByKey(_+_).collect</span><br></pre></td></tr></table></figure>

<p><img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231213173500001.png" alt="image-20231213173500001"></p>
<p>å¯ä»¥æ‰“å¼€UIé¡µé¢çœ‹ä¸€ä¸‹</p>
<p><img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231213173825783.png" alt="image-20231213173825783"></p>
<p>3).å‘½ä»¤è¡Œæäº¤åº”ç”¨</p>
<p>åœ¨DOSå‘½ä»¤è¡Œçª—å£ä¸­æ‰§è¡Œæäº¤å‘½ä»¤</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">spark-submit --class org.apache.spark.examples.SparkPi --master local[2] ../examples/jars/spark-examples_2.12-3.1.1.jar 10</span><br></pre></td></tr></table></figure>



<p><img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231213174537566.png" alt="image-20231213174537566"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">spark-submit --class org.apache.spark.examples.SparkPi --master local[2] ../examples/jars/spark-examples_2.12-3.1.1.jar 10</span><br></pre></td></tr></table></figure>





<h4 id="å…­ã€Sparkæ ¸å¿ƒç¼–ç¨‹"><a href="#å…­ã€Sparkæ ¸å¿ƒç¼–ç¨‹" class="headerlink" title="å…­ã€Sparkæ ¸å¿ƒç¼–ç¨‹"></a>å…­ã€Sparkæ ¸å¿ƒç¼–ç¨‹</h4><p>1). æ•°æ®æ¥æ”¶ä¸å‘é€ï¼ˆåˆ†å¸ƒå¼æ¡†æ¶ï¼‰</p>
<p><strong>Executorï¼š</strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> spark.test</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.<span class="type">InputStream</span></span><br><span class="line"><span class="keyword">import</span> java.net.&#123;<span class="type">ServerSocket</span>, <span class="type">Socket</span>&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Executor</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯åŠ¨æœåŠ¡å™¨ï¼Œæ¥æ”¶æ•°æ®</span></span><br><span class="line">    <span class="keyword">val</span> server = <span class="keyword">new</span> <span class="type">ServerSocket</span>(<span class="number">9999</span>)</span><br><span class="line">    println(<span class="string">&quot;æœåŠ¡å™¨å¯åŠ¨ï¼Œç­‰å¾…æ¥æ”¶æ•°æ®&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥</span></span><br><span class="line">    <span class="keyword">val</span> client: <span class="type">Socket</span> = server.accept()</span><br><span class="line">    <span class="keyword">val</span> in: <span class="type">InputStream</span> = client.getInputStream</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> i: <span class="type">Int</span> = in.read()</span><br><span class="line">    println(<span class="string">&quot;æ¥æ”¶åˆ°å®¢æˆ·ç«¯å‘é€çš„æ•°æ®ï¼š&quot;</span> + i)</span><br><span class="line">    in.close()</span><br><span class="line">    client.close()</span><br><span class="line">    server.close()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…ˆè¿è¡ŒExecutor</p>
<img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231214083253778.png" alt="image-20231214083253778" style="zoom:50%;" />

<p><strong>Driverï¼š</strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> spark.test</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.<span class="type">Socket</span></span><br><span class="line"><span class="keyword">import</span> java.io.<span class="type">OutputStream</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Driver</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// è¿æ¥æœåŠ¡å™¨</span></span><br><span class="line">    <span class="keyword">val</span> client = <span class="keyword">new</span> <span class="type">Socket</span>(<span class="string">&quot;localhost&quot;</span>, <span class="number">9999</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> out: <span class="type">OutputStream</span> = client.getOutputStream</span><br><span class="line">    out.write(<span class="number">2</span>)</span><br><span class="line">    out.flush()</span><br><span class="line">    out.close()</span><br><span class="line"></span><br><span class="line">    client.close()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†è¿è¡ŒDriver</p>
<img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231214083353078.png" alt="image-20231214083353078" style="zoom:50%;" />



<p>2). æ•°æ®æ¥æ”¶ä¸å‘é€ï¼ˆåˆ†å¸ƒå¼æ¡†æ¶è®¡ç®—ï¼‰</p>
<p><strong>Taskï¼š</strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> spark.test</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Task</span> <span class="keyword">extends</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> datas = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//  val logic = ( num:Int )=&gt;&#123; num*2 &#125;</span></span><br><span class="line">  <span class="keyword">val</span> logic : (<span class="type">Int</span>)=&gt;<span class="type">Int</span> = _ * <span class="number">2</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// è®¡ç®—</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">compute</span></span>() =&#123;</span><br><span class="line">    datas.map(logic)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>Executorï¼š</strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> spark.test</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.&#123;<span class="type">InputStream</span>, <span class="type">ObjectInputStream</span>&#125;</span><br><span class="line"><span class="keyword">import</span> java.net.&#123;<span class="type">ServerSocket</span>, <span class="type">Socket</span>&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Executor</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯åŠ¨æœåŠ¡å™¨ï¼Œæ¥æ”¶æ•°æ®</span></span><br><span class="line">    <span class="keyword">val</span> server = <span class="keyword">new</span> <span class="type">ServerSocket</span>(<span class="number">9999</span>)</span><br><span class="line">    println(<span class="string">&quot;æœåŠ¡å™¨å¯åŠ¨ï¼Œç­‰å¾…æ¥æ”¶æ•°æ®&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥</span></span><br><span class="line">    <span class="keyword">val</span> client: <span class="type">Socket</span> = server.accept()</span><br><span class="line">    <span class="keyword">val</span> in: <span class="type">InputStream</span> = client.getInputStream</span><br><span class="line">    <span class="keyword">val</span> objIn = <span class="keyword">new</span> <span class="type">ObjectInputStream</span>(in)</span><br><span class="line">    <span class="keyword">val</span> task: <span class="type">Task</span> = objIn.readObject().asInstanceOf[<span class="type">Task</span>]</span><br><span class="line">    <span class="keyword">val</span> ints: <span class="type">List</span>[<span class="type">Int</span>] = task.compute()</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;è®¡ç®—èŠ‚ç‚¹è®¡ç®—çš„ç»“æœä¸ºï¼š&quot;</span> + ints)</span><br><span class="line">    objIn.close()</span><br><span class="line">    client.close()</span><br><span class="line">    server.close()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…ˆå¯åŠ¨Executor</p>
<img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231214085834628.png" alt="image-20231214085834628" style="zoom:50%;" />



<p><strong>Driverï¼š</strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> spark.test</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.<span class="type">Socket</span></span><br><span class="line"><span class="keyword">import</span> java.io.&#123;<span class="type">ObjectOutputStream</span>, <span class="type">OutputStream</span>&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Driver</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// è¿æ¥æœåŠ¡å™¨</span></span><br><span class="line">    <span class="keyword">val</span> client = <span class="keyword">new</span> <span class="type">Socket</span>(<span class="string">&quot;localhost&quot;</span>, <span class="number">9999</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> out: <span class="type">OutputStream</span> = client.getOutputStream</span><br><span class="line">    <span class="keyword">val</span> objOut = <span class="keyword">new</span> <span class="type">ObjectOutputStream</span>(out)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> task = <span class="keyword">new</span> <span class="type">Task</span>()</span><br><span class="line">    objOut.writeObject(task)</span><br><span class="line">    objOut.flush()</span><br><span class="line">    objOut.close()</span><br><span class="line">    client.close()</span><br><span class="line">    println(<span class="string">&quot;å®¢æˆ·ç«¯æ•°æ®å‘é€å®Œæ¯•&quot;</span>)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†å¯åŠ¨Driver</p>
<img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231214085907092.png" alt="image-20231214085907092" style="zoom:50%;" />

<img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231214085922852.png" alt="image-20231214085922852" style="zoom:50%;" />



<p>3).æ•°æ®æ¥æ”¶ä¸å‘é€ï¼ˆåˆ†å¸ƒå¼æ¡†æ¶å‘å¸ƒè®¡ç®—ï¼‰</p>
<p><strong>Taskï¼š</strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> spark.test</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Task</span> <span class="keyword">extends</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> datas = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//  val logic = ( num:Int )=&gt;&#123; num*2 &#125;</span></span><br><span class="line">  <span class="keyword">val</span> logic : (<span class="type">Int</span>)=&gt;<span class="type">Int</span> = _ * <span class="number">2</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>SubTaskï¼š</strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> spark.test</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubTask</span> <span class="keyword">extends</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> datas :  <span class="type">List</span>[<span class="type">Int</span>] = _</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> logic : (<span class="type">Int</span>)=&gt;<span class="type">Int</span> = _</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è®¡ç®—</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">compute</span></span>() =&#123;</span><br><span class="line">    datas.map(logic)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>Executorï¼š</strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> spark.test</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.&#123;<span class="type">InputStream</span>, <span class="type">ObjectInputStream</span>&#125;</span><br><span class="line"><span class="keyword">import</span> java.net.&#123;<span class="type">ServerSocket</span>, <span class="type">Socket</span>&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Executor</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯åŠ¨æœåŠ¡å™¨ï¼Œæ¥æ”¶æ•°æ®</span></span><br><span class="line">    <span class="keyword">val</span> server = <span class="keyword">new</span> <span class="type">ServerSocket</span>(<span class="number">9999</span>)</span><br><span class="line">    println(<span class="string">&quot;æœåŠ¡å™¨å¯åŠ¨ï¼Œç­‰å¾…æ¥æ”¶æ•°æ®&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥</span></span><br><span class="line">    <span class="keyword">val</span> client: <span class="type">Socket</span> = server.accept()</span><br><span class="line">    <span class="keyword">val</span> in: <span class="type">InputStream</span> = client.getInputStream</span><br><span class="line">    <span class="keyword">val</span> objIn = <span class="keyword">new</span> <span class="type">ObjectInputStream</span>(in)</span><br><span class="line">    <span class="keyword">val</span> task: <span class="type">SubTask</span> = objIn.readObject().asInstanceOf[<span class="type">SubTask</span>]</span><br><span class="line">    <span class="keyword">val</span> ints: <span class="type">List</span>[<span class="type">Int</span>] = task.compute()</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;è®¡ç®—èŠ‚ç‚¹[9999]è®¡ç®—çš„ç»“æœä¸ºï¼š&quot;</span> + ints)</span><br><span class="line">    objIn.close()</span><br><span class="line">    client.close()</span><br><span class="line">    server.close()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨ç»“æœï¼š</p>
<img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231214092354917.png" alt="image-20231214092354917" style="zoom:50%;" />

<p><strong>Executor2ï¼š</strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> spark.test</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.&#123;<span class="type">InputStream</span>, <span class="type">ObjectInputStream</span>&#125;</span><br><span class="line"><span class="keyword">import</span> java.net.&#123;<span class="type">ServerSocket</span>, <span class="type">Socket</span>&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Executor2</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯åŠ¨æœåŠ¡å™¨ï¼Œæ¥æ”¶æ•°æ®</span></span><br><span class="line">    <span class="keyword">val</span> server = <span class="keyword">new</span> <span class="type">ServerSocket</span>(<span class="number">8888</span>)</span><br><span class="line">    println(<span class="string">&quot;æœåŠ¡å™¨å¯åŠ¨ï¼Œç­‰å¾…æ¥æ”¶æ•°æ®&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥</span></span><br><span class="line">    <span class="keyword">val</span> client: <span class="type">Socket</span> = server.accept()</span><br><span class="line">    <span class="keyword">val</span> in: <span class="type">InputStream</span> = client.getInputStream</span><br><span class="line">    <span class="keyword">val</span> objIn = <span class="keyword">new</span> <span class="type">ObjectInputStream</span>(in)</span><br><span class="line">    <span class="keyword">val</span> task: <span class="type">SubTask</span> = objIn.readObject().asInstanceOf[<span class="type">SubTask</span>]</span><br><span class="line">    <span class="keyword">val</span> ints: <span class="type">List</span>[<span class="type">Int</span>] = task.compute()</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;è®¡ç®—èŠ‚ç‚¹[8888]è®¡ç®—çš„ç»“æœä¸ºï¼š&quot;</span> + ints)</span><br><span class="line">    objIn.close()</span><br><span class="line">    client.close()</span><br><span class="line">    server.close()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨ç»“æœï¼š</p>
<img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231214092419564.png" alt="image-20231214092419564" style="zoom:50%;" />

<p><strong>Driverï¼š</strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> spark.test</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.net.<span class="type">Socket</span></span><br><span class="line"><span class="keyword">import</span> java.io.&#123;<span class="type">ObjectOutputStream</span>, <span class="type">OutputStream</span>&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Driver</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// è¿æ¥æœåŠ¡å™¨</span></span><br><span class="line">    <span class="keyword">val</span> client1 = <span class="keyword">new</span> <span class="type">Socket</span>(<span class="string">&quot;localhost&quot;</span>, <span class="number">9999</span>)</span><br><span class="line">    <span class="keyword">val</span> client2 = <span class="keyword">new</span> <span class="type">Socket</span>(<span class="string">&quot;localhost&quot;</span>, <span class="number">8888</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> task = <span class="keyword">new</span> <span class="type">Task</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> out1: <span class="type">OutputStream</span> = client1.getOutputStream</span><br><span class="line">    <span class="keyword">val</span> objOut1 = <span class="keyword">new</span> <span class="type">ObjectOutputStream</span>(out1)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> subTask = <span class="keyword">new</span> <span class="type">SubTask</span>()</span><br><span class="line">    subTask.logic = task.logic</span><br><span class="line">    subTask.datas = task.datas.take(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    objOut1.writeObject(subTask)</span><br><span class="line">    objOut1.flush()</span><br><span class="line">    objOut1.close()</span><br><span class="line">    client1.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> out2: <span class="type">OutputStream</span> = client2.getOutputStream</span><br><span class="line">    <span class="keyword">val</span> objOut2 = <span class="keyword">new</span> <span class="type">ObjectOutputStream</span>(out2)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> subTask1 = <span class="keyword">new</span> <span class="type">SubTask</span>()</span><br><span class="line">    subTask1.logic = task.logic</span><br><span class="line">    subTask1.datas = task.datas.takeRight(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    objOut2.writeObject(subTask1)</span><br><span class="line">    objOut2.flush()</span><br><span class="line">    objOut2.close()</span><br><span class="line">    client2.close()</span><br><span class="line">    println(<span class="string">&quot;å®¢æˆ·ç«¯æ•°æ®å‘é€å®Œæ¯•&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨ç»“æœï¼š</p>
<img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231214092448067.png" alt="image-20231214092448067" style="zoom:50%;" />

<img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231214092503853.png" alt="image-20231214092503853" style="zoom:50%;" />

<img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231214092523751.png" alt="image-20231214092523751" style="zoom:50%;" />





<h4 id="ä¸ƒã€å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†ï¼ˆRDDï¼‰"><a href="#ä¸ƒã€å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†ï¼ˆRDDï¼‰" class="headerlink" title="ä¸ƒã€å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†ï¼ˆRDDï¼‰"></a>ä¸ƒã€å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†ï¼ˆRDDï¼‰</h4><p>1). ä»€ä¹ˆæ˜¯RDD</p>
<p>â€‹      RDD (Resilient Distributed Datasetï¼‰å«åšå¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†ï¼Œæ˜¯Sparkä¸­æœ€åŸºæœ¬çš„<strong>æ•°æ®å¤„ç†æ¨¡å‹</strong>ã€‚ä»£ç ä¸­æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå®ƒä»£è¡¨ä¸€ä¸ªå¼¹æ€§çš„ã€ä¸å¯å˜ã€å¯åˆ†åŒºã€é‡Œé¢çš„å…ƒç´ å¯å¹¶è¡Œè®¡ç®—çš„é›†åˆã€‚</p>
<p>RDDçš„æ•°æ®å¤„ç†ç±»ä¼¼äºJavaä¸­çš„IOæµï¼Œä¹Ÿæœ‰è£…é¥°è€…è®¾è®¡æ¨¡å¼ã€‚</p>
<p>RDDçš„æ•°æ®åªæœ‰åœ¨è°ƒç”¨collectæ–¹æ³•æ—¶ï¼Œæ‰ä¼šçœŸæ­£æ‰§è¡Œä¸šåŠ¡é€»è¾‘æ“ä½œã€‚ä¹‹å‰çš„å°è£…éƒ½æ˜¯åŠŸèƒ½çš„æ‰©å±•ã€‚</p>
<p>RDDæ˜¯ä¸ä¿å­˜æ•°æ®çš„ï¼Œä½†æ˜¯IOå¯ä»¥ä¸´æ—¶ä¿å­˜ä¸€éƒ¨åˆ†æ•°æ®ã€‚</p>
<p>2).RDDçš„åˆ›å»º</p>
<ol>
<li>ä»é›†åˆï¼ˆå†…å­˜ï¼‰ä¸­åˆ›å»ºRDD</li>
</ol>
<p>ä»é›†åˆä¸­åˆ›å»ºRDD, Sparkä¸»è¦æä¾›äº†ä¸¤ä¸ªæ–¹æ³•: parallelizeå’ŒmakeRDD</p>
<p><strong>rdd_Memoryï¼š</strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> spark.rdd</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">rdd_Memory</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO å‡†å¤‡ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;RDD&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO åˆ›å»ºRDD</span></span><br><span class="line">    <span class="comment">// ä»å†…å­˜ä¸­åˆ›å»ºRDDï¼Œå°†å†…å­˜ä¸­é›†åˆçš„æ•°æ®ä½œä¸ºå¤„ç†çš„æ•°æ®æº</span></span><br><span class="line">    <span class="keyword">val</span> seq = <span class="type">Seq</span>[<span class="type">Int</span>](elems = <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// parallelize : å¹¶è¡Œ</span></span><br><span class="line"><span class="comment">//    val rdd: RDD[Int] =  sc.parallelize(seq)</span></span><br><span class="line">    <span class="comment">// makeRDD æ–¹æ³•åœ¨åº•å±‚å®ç°æ—¶å…¶å®å°±æ˜¯è°ƒç”¨äº†rddå¯¹è±¡çš„parallelizeæ–¹æ³•ã€‚</span></span><br><span class="line">    <span class="keyword">val</span> rdd: <span class="type">RDD</span>[<span class="type">Int</span>] = sc.makeRDD(seq)</span><br><span class="line"></span><br><span class="line">    rdd.collect().foreach(println)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ol start="2">
<li>ä»å¤–éƒ¨å­˜å‚¨ï¼ˆæ–‡ä»¶ï¼‰ä¸­åˆ›å»ºRDD</li>
</ol>
<p><strong>rdd_Fileï¼š</strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> spark.rdd</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">rdd_File</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO å‡†å¤‡ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;RDD&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO åˆ›å»ºRDD</span></span><br><span class="line">    <span class="comment">// ä»æ–‡ä»¶ä¸­åˆ›å»ºRDDï¼Œå°†æ–‡ä»¶ä¸­çš„æ•°æ®ä½œä¸ºå¤„ç†çš„æ•°æ®æº</span></span><br><span class="line">    <span class="comment">// path è·¯å¾„é»˜è®¤ä»¥å½“å‰ç¯å¢ƒçš„æ ¹è·¯å¾„ä¸ºåŸºå‡†ã€‚å¯ä»¥å†™ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥å†™ç›¸å¯¹è·¯å¾„</span></span><br><span class="line"><span class="comment">//    sc.textFile(&quot;E:\\spack-study\\datas\\1.txt&quot;)</span></span><br><span class="line">    <span class="comment">// pathè·¯å¾„å¯ä»¥æ˜¯æ–‡ä»¶çš„å…·ä½“è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›®å½•åç§°</span></span><br><span class="line"><span class="comment">//     val rdd: RDD[String] = sc.textFile(&quot;datas/1.txt&quot;)</span></span><br><span class="line">    <span class="comment">// pathè·¯å¾„å¯ä»¥æ˜¯æ–‡ä»¶çš„å…·ä½“è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›®å½•åç§°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val rdd = sc.textFile(&quot;datas&quot;)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// path è·¯å¾„è¿˜å¯ä»¥ä½¿ç”¨é€šé…ç¬¦*</span></span><br><span class="line">    <span class="keyword">val</span> rdd = sc.textFile(<span class="string">&quot;datas/1*.txt&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//pathè¿˜å¯ä»¥æ˜¯åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿè·¯å¾„ï¼šHDFS</span></span><br><span class="line"></span><br><span class="line">    rdd.collect().foreach(println)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>rdd_File1ï¼š</strong></p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> spark.rdd</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">rdd_File1</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO å‡†å¤‡ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;RDD&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO åˆ›å»ºRDD</span></span><br><span class="line">    <span class="comment">// ä»æ–‡ä»¶ä¸­åˆ›å»ºRDDï¼Œå°†æ–‡ä»¶ä¸­çš„æ•°æ®ä½œä¸ºå¤„ç†çš„æ•°æ®æº</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// textFile : ä»¥è¡Œä¸ºå•ä½æ¥è¯»å–æ•°æ®ï¼Œè¯»å–çš„æ•°æ®éƒ½æ˜¯å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="comment">// wholeTextFiles ï¼šä»¥æ–‡ä»¶ä¸ºå•ä½è¯»å–æ•°æ®</span></span><br><span class="line">    <span class="comment">// è¯»å–çš„ç»“æœè¡¨ç¤ºä¸ºå…ƒç»„ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ è¡¨ç¤ºè·¯å¾„ï¼Œç¬¬äºŒä¸ªå…ƒç´ è¡¨ç¤ºæ–‡ä»¶å†…å®¹</span></span><br><span class="line">    <span class="keyword">val</span> rdd = sc.wholeTextFiles(<span class="string">&quot;datas/*.txt&quot;</span>)</span><br><span class="line"></span><br><span class="line">    rdd.collect().foreach(println)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ol start="3">
<li>RDDçš„å¹¶è¡Œåº¦</li>
</ol>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> spark.rdd</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">rdd_Memory_Par</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO å‡†å¤‡ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;RDD&quot;</span>)</span><br><span class="line">    sparkConf.set(<span class="string">&quot;spark.default.parallelism&quot;</span>, <span class="string">&quot;5&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO åˆ›å»ºRDD</span></span><br><span class="line">    <span class="comment">// RDDçš„å¹¶è¡Œåº¦ &amp; åˆ†åŒº</span></span><br><span class="line">    <span class="comment">// makeRDDæ–¹æ³•å¯ä»¥ä¼ é€’ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°è¡¨ç¤ºåˆ†åŒºçš„æ•°é‡</span></span><br><span class="line">    <span class="comment">// ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥ä¸ä¼ é€’çš„ï¼Œé‚£ä¹ˆmakeRDD æ–¹æ³•ä¼šä½¿ç”¨é»˜è®¤å€¼ï¼š defaultParallelism(é»˜è®¤çš„å¹¶è¡Œåº¦)</span></span><br><span class="line"><span class="comment">//    val rdd = sc.makeRDD(List(1,2,3,4),2)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//scheduler. conf. getInt (&quot;spark.default.parallelism &quot;,ï¼Œ totalCores)</span></span><br><span class="line">    <span class="comment">//sparkåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œä»é…ç½®å¯¹è±¡ä¸­è·å–é…ç½®å‚æ•°: spark. default.parallelism</span></span><br><span class="line">    <span class="comment">//å¦‚æœè·å–ä¸åˆ°ï¼Œé‚£ä¹ˆä½¿ç”¨totalCoreså±æ€§ï¼Œè¿™ä¸ªå±æ€§å–å€¼ä¸ºå½“å‰ç¯å¢ƒçš„æœ€å¤§å¯ç”¨æ ¸æ•°</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> rdd = sc.makeRDD(<span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†å¤„ç†çš„æ•°æ®ä¿å­˜æˆåˆ†åŒºæ–‡ä»¶</span></span><br><span class="line">    rdd.saveAsTextFile(<span class="string">&quot;output&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



















































<h3 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h3><p><strong>4 å¸¸ç”¨å‘½ä»¤</strong></p>
<p><strong>4.1 docker è¿›ç¨‹</strong></p>
<p>docer è¿›ç¨‹å¯åŠ¨ã€åœæ­¢ã€é‡å¯ç­‰ä¸‰ç§ å¸¸è§æ“ä½œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">service docker start   <span class="comment"># å¯åŠ¨docker</span></span><br><span class="line">service docker stop    <span class="comment"># å…³æœºdocker</span></span><br><span class="line">service docker restart <span class="comment"># é‡å¯docker</span></span><br></pre></td></tr></table></figure>

<p><strong>4.2 é•œåƒæ“ä½œ</strong></p>
<p>é•œåƒæ˜¯å®¹å™¨æ‰§è¡Œçš„å‰ææ¡ä»¶ï¼Œä¸€èˆ¬éœ€è¦æŒæ¡å‘½ä»¤æ³¨æ„æœ‰<strong>æœç´¢</strong>ã€<strong>ä¸‹è½½</strong>ã€<strong>åˆ é™¤</strong>ã€<strong>åˆ›å»º</strong>ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker images      <span class="comment"># é•œåƒåˆ—è¡¨</span></span><br><span class="line">docker search xxx  <span class="comment"># æ£€ç´¢é•œåƒ, ä»é•œåƒä»“åº“ä¸­æ£€ç´¢</span></span><br><span class="line">docker pull xxx    <span class="comment"># ä¸‹è½½é•œåƒ</span></span><br><span class="line">docker rmi xxx     <span class="comment"># åˆ é™¤é•œåƒ</span></span><br></pre></td></tr></table></figure>

<p><strong>4.3 å®¹å™¨æ“ä½œ</strong></p>
<p>å®¹å™¨çš„å„ç§æ“ä½œä¸»è¦åŒ…æ‹¬ï¼Œå¯åŠ¨ã€å…³é—­ã€é‡å¯å’Œæ—¥å¿—æŸ¥è¯¢ã€‚</p>
<p><strong>4.3.1 å®¹å™¨åˆ›å»º ï¼šrun</strong></p>
<p>åŠ è½½é•œåƒï¼Œåˆ›å»ºå®¹å™¨run åé¢å¯ä»¥è·Ÿå¾ˆå¤šçš„å‚æ•°ï¼Œæ¯”å¦‚å®¹å™¨æš´éœ²ç«¯å£æŒ‡å®šï¼Œå­˜å‚¨æ˜ å°„ï¼Œæƒé™ç­‰ç­‰ï¼Œç”±äºå‚æ•°è¿‡å¤šï¼Œä¸‹é¢åªç»™å‡ºå‡ ä¸ªä¸åŒçš„ä¾‹å­ï¼Œæ¥å…·ä½“çš„æ¼”ç¤ºå‚æ•°å¯ä»¥æ€ä¹ˆåŠ </p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">docker run</span><br><span class="line">         -i              # æ‰“å¼€ STDINï¼Œç”¨äºæ§åˆ¶å°äº¤äº’</span><br><span class="line">         -t              # æ”¯æŒç»ˆç«¯ç™»å½•</span><br><span class="line">         -d              # è¦æ±‚å®¹å™¨åå°è¿è¡Œï¼Œé»˜è®¤å‰å° å‰ä¸‰ä¸ªæ ‡ç­¾å¯è¿å†™ä¸ºitd</span><br><span class="line">         -v              # æŒ‚è½½æ•°æ®å·</span><br><span class="line">         --name=dc_nm    # æŒ‡å®šå®¹å™¨å</span><br><span class="line">         -p 8080:80      # æš´éœ²å®¹å™¨ç«¯å£ 80ï¼Œå¹¶ä¸å®¿ä¸»æœºç«¯å£ 8080 ç»‘å®š  </span><br><span class="line">         centos:latest   # é•œåƒå:ç‰ˆæœ¬</span><br></pre></td></tr></table></figure>



<p><strong>4.3.2 åŸºæœ¬æ“ä½œ:</strong></p>
<p>å®¹å™¨åŸºæœ¬æ“ä½œä¸»è¦åŒ…æ‹¬å¯åŠ¨ã€åœæ­¢ã€é‡å¯ã€åˆ é™¤</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker ps -a                       <span class="comment"># æŸ¥çœ‹å®¹å™¨åˆ—è¡¨ï¼Œ åˆ—å‡ºæ‰€æœ‰çš„å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">exec</span> -it <span class="string">&quot;ct_id&quot;</span> /bin/bash  <span class="comment"># è¿›å…¥å®¹å™¨,ct_idæ˜¯å®¹å™¨id</span></span><br><span class="line">docker start xxx                   <span class="comment"># xxxå¯ä»¥æ˜¯å®¹å™¨åï¼Œä¹Ÿå¯ä»¥æ˜¯å®¹å™¨id</span></span><br><span class="line">docker stop xxx                    <span class="comment"># å…³é—­å®¹å™¨</span></span><br><span class="line">docker restart xxx                 <span class="comment"># é‡å¯</span></span><br><span class="line">docker <span class="built_in">rm</span> xxx                      <span class="comment"># åˆ é™¤</span></span><br></pre></td></tr></table></figure>

<p>ä»å®¿ä¸»æœºå¤åˆ¶æ–‡ä»¶</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker <span class="built_in">cp</span> å®¿ä¸»æœºæ–‡ä»¶è·¯å¾„ å®¹å™¨<span class="built_in">id</span>:/home/your_path</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">	&lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt;</span><br><span class="line">	&lt;value&gt;jdbc:mysql://hadoop301:3306/hive3?createDatabaseIfNotExist=true&amp;amp;useSSL=false&amp;amp;useUnicode=true&amp;amp;characterEncoding=UTF-8&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"> </span><br><span class="line">&lt;property&gt;</span><br><span class="line">	&lt;name&gt;javax.jdo.option.ConnectionDriverName&lt;/name&gt;</span><br><span class="line">	&lt;value&gt;com.mysql.jdbc.Driver&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"> </span><br><span class="line">&lt;property&gt;</span><br><span class="line">	&lt;name&gt;javax.jdo.option.ConnectionUserName&lt;/name&gt;</span><br><span class="line">	&lt;value&gt;root&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"> </span><br><span class="line">&lt;property&gt;</span><br><span class="line">	&lt;name&gt;javax.jdo.option.ConnectionPassword&lt;/name&gt;</span><br><span class="line">	&lt;value&gt;root&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"> </span><br><span class="line">&lt;!-- H2Sè¿è¡Œç»‘å®šhost--&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">	&lt;name&gt;hive.server2.thrift.bind.host&lt;/name&gt;</span><br><span class="line">	&lt;value&gt;hadoop301&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"> </span><br><span class="line">&lt;!-- è¿œç¨‹æ¨¡å¼éƒ¨ç½²metastore metastoreåœ°å€--&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">	&lt;name&gt;hive.metastore.uris&lt;/name&gt;</span><br><span class="line">	&lt;value&gt;thrift://hadoop301:9083&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line"> </span><br><span class="line">&lt;!-- å…³é—­å…ƒæ•°æ®å­˜å‚¨æˆæƒ--&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">	&lt;name&gt;hive.metastore.event.db.notification.api.auth&lt;/name&gt;</span><br><span class="line">	&lt;value&gt;false&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;     </span><br></pre></td></tr></table></figure>







<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹çš„Scalaä»£ç ï¼Œå¯ç”¨äºå°†MySQLçš„shtd_storeåº“ä¸­çš„æ•°æ®æŠ½å–åˆ°Hiveçš„odsåº“ä¸­ã€‚</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">DataExtraction</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> spark = <span class="type">SparkSession</span>.builder()</span><br><span class="line">      .appName(<span class="string">&quot;DataExtraction&quot;</span>)</span><br><span class="line">      .enableHiveSupport()</span><br><span class="line">      .getOrCreate()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®åˆ†åŒºå­—æ®µå€¼</span></span><br><span class="line">    <span class="keyword">val</span> partitionValue = java.time.<span class="type">LocalDate</span>.now.minusDays(<span class="number">1</span>).format(java.time.format.<span class="type">DateTimeFormatter</span>.ofPattern(<span class="string">&quot;yyyyMMdd&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŠ½å–Table1çš„å…¨é‡æ•°æ®ï¼Œå¹¶æ·»åŠ é™æ€åˆ†åŒº</span></span><br><span class="line">    <span class="keyword">val</span> table1DF = spark.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;url&quot;</span>, <span class="string">&quot;jdbc:mysql://localhost:3306/shtd_store&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;driver&quot;</span>, <span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;dbtable&quot;</span>, <span class="string">&quot;Table1&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;user&quot;</span>, <span class="string">&quot;mysql_username&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;password&quot;</span>, <span class="string">&quot;mysql_password&quot;</span>)</span><br><span class="line">      .load()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> table1WithPartitionDF = table1DF.withColumn(<span class="string">&quot;partition_col&quot;</span>, lit(partitionValue))</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†æ•°æ®ä¿å­˜åˆ°Hiveè¡¨ä¸­</span></span><br><span class="line">    table1WithPartitionDF.write.format(<span class="string">&quot;hive&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;table&quot;</span>, <span class="string">&quot;ods.table1&quot;</span>)</span><br><span class="line">      .mode(<span class="string">&quot;overwrite&quot;</span>)</span><br><span class="line">      .save()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ˜¾ç¤ºåˆ†åŒºä¿¡æ¯</span></span><br><span class="line">    spark.sql(<span class="string">&quot;SHOW PARTITIONS ods.table1&quot;</span>).show()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨Mavenåˆ›å»ºé¡¹ç›®ï¼š</p>
<ol>
<li>ç¡®ä¿ä½ å·²ç»å®‰è£…äº†Mavenã€‚</li>
<li>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªMavené¡¹ç›®ã€‚å¯ä»¥ä½¿ç”¨å‘½ä»¤<code>mvn archetype:generate</code>å¹¶é€‰æ‹©é€‚åˆçš„Mavené¡¹ç›®æ¨¡æ¿ã€‚</li>
<li>åœ¨ç”Ÿæˆçš„é¡¹ç›®ä¸­ï¼Œå°†<code>DataExtraction.scala</code>æ–‡ä»¶å¤åˆ¶åˆ°æºä»£ç ç›®å½•ä¸­ï¼ˆé»˜è®¤ä¸º<code>src/main/scala</code>ï¼‰ã€‚</li>
<li>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­æ‰“å¼€ç»ˆç«¯æˆ–å‘½ä»¤æç¤ºç¬¦ï¼Œè¿è¡Œ<code>mvn package</code>å‘½ä»¤æ¥æ‰“åŒ…é¡¹ç›®ã€‚</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">import org.apache.spark.sql.SparkSession</span><br><span class="line">import org.apache.spark.sql.functions.&#123;lit, current_date, date_format&#125;</span><br><span class="line"></span><br><span class="line">object DataExtraction &#123;</span><br><span class="line">  def main(args: Array[String]): Unit = &#123;</span><br><span class="line">    val spark = SparkSession.builder()</span><br><span class="line">      .appName(<span class="string">&quot;DataExtraction&quot;</span>)</span><br><span class="line">      .enableHiveSupport()</span><br><span class="line">      .getOrCreate()</span><br><span class="line"></span><br><span class="line">    // å…¨é‡æŠ½å– Table1 çš„æ•°æ®åˆ° DataFrame</span><br><span class="line">    val table1DF = spark.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;url&quot;</span>, <span class="string">&quot;jdbc:mysql://bigdata1:3306/hadoopdb01&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;driver&quot;</span>, <span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;dbtable&quot;</span>, <span class="string">&quot;base_region&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;user&quot;</span>, <span class="string">&quot;root&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;password&quot;</span>, <span class="string">&quot;123456&quot;</span>)</span><br><span class="line">      .load()</span><br><span class="line"></span><br><span class="line">    // æ·»åŠ é™æ€åˆ†åŒºå­—æ®µï¼Œåˆ†åŒºå€¼ä¸ºå½“å‰æ¯”èµ›æ—¥çš„å‰ä¸€å¤©æ—¥æœŸ</span><br><span class="line">    val partitionValue = current_date().minus(1).cast(<span class="string">&quot;string&quot;</span>)</span><br><span class="line">    val table1WithPartitionDF = table1DF.withColumn(<span class="string">&quot;partition_date&quot;</span>, lit(partitionValue))</span><br><span class="line"></span><br><span class="line">    // å°†æ•°æ®å†™å…¥ Hive è¡¨ table1ï¼Œå¹¶è¦†ç›–å·²å­˜åœ¨çš„åˆ†åŒº</span><br><span class="line">    table1WithPartitionDF.write.format(<span class="string">&quot;hive&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;table&quot;</span>, <span class="string">&quot;ods.table1&quot;</span>)</span><br><span class="line">      .mode(<span class="string">&quot;overwrite&quot;</span>)</span><br><span class="line">      .save()</span><br><span class="line"></span><br><span class="line">    // åœ¨ Hive CLI ä¸­æ‰§è¡Œ show partitions å‘½ä»¤</span><br><span class="line">    // show partitions ods.table1;</span><br><span class="line"></span><br><span class="line">    // å¤åˆ¶å¹¶ç²˜è´´ show partitions çš„ç»“æœæˆªå›¾è‡³æŠ¥å‘Šä¸­</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">./spark-submit  --class DataExtraction   /opt/module/spark-3.1.1-yarn/data/sparkexamples-1.0-SNAPSHOT.jar</span><br><span class="line"></span><br><span class="line">spark-submit --master spark://bigdata1:7077 --class test.DataExtraction sparkexamples.jar</span><br><span class="line"></span><br><span class="line">spark-submit --master spark://bigdata1:7077 --class test.DataExtraction --executor-memory 2g --total-executor-cores 4 /opt/sparkexamples.jar</span><br><span class="line"></span><br><span class="line">spark-submit --class test.SparkExample --master yarn --deploy-mode cluster sparkexamples.jar</span><br><span class="line"></span><br><span class="line">spark-submit --class numtest.demo01 --master spark://bigdata1:7077 --executor-memory 2g --total-executor-cores 4   /opt/gu.jar </span><br><span class="line"></span><br><span class="line">spark-submit --class test.SparkExample --master yarn --deploy-mode cluster /opt/sparkexamples.jar</span><br></pre></td></tr></table></figure>



<p><img data-src="E:/typora%E5%9B%BE%E7%89%87/image-20231225215043624.png" alt="image-20231225215043624"></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">spark-submit --class test.DataExtraction --master yarn --deploy-mode cluster /opt/sparkexamples.jar</span><br><span class="line"></span><br><span class="line">spark-submit --class test.InsertDataToHive --master yarn --deploy-mode client /opt/sparkexamples.jar</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">val pushDownQuery = <span class="string">&quot;select * from city limit 10&quot;</span></span><br><span class="line">val jdbcDF = spark.read</span><br><span class="line">  .format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">  .option(<span class="string">&quot;url&quot;</span>, <span class="string">&quot;jdbc:mysql://hadoop301/world&quot;</span>)</span><br><span class="line">  .option(<span class="string">&quot;driver&quot;</span>, <span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>)</span><br><span class="line">  .option(<span class="string">&quot;user&quot;</span>, <span class="string">&quot;root&quot;</span>)</span><br><span class="line">  .option(<span class="string">&quot;password&quot;</span>, <span class="string">&quot;123456&quot;</span>)</span><br><span class="line">  .option(<span class="string">&quot;dbtable&quot;</span>, city)</span><br><span class="line">  .load()</span><br><span class="line">jdbcDF.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>







<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">spark-submit --master yarn --class test.InsertDataToHive --deploy-mode client /opt/sparkexamples.jar</span><br><span class="line"></span><br><span class="line">spark-submit --master spark://bigdata1:7077 --class test.DataExtraction sparkexamples.jar</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">spark-submin --master spark://bigdate1:7077 --class test.table1 /opt/dd.jar</span><br><span class="line"></span><br><span class="line">spark-submin --master spark://bigdate1:7077 --class test.d /opt/ss.jar</span><br><span class="line"></span><br><span class="line">spark-submin --master spark://bigdate:7077 --class test.djj /opt/ss.jar</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">spark-submin --master spark://bigdate1:7077 --class tes </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">spark-submin --master yarn --class --deploy-mode client  /op</span><br><span class="line">spark-submin --master yarn --class --deploy-mode deploy-mode client client client /op</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">spark-submin --master yarn --class --deploy-mode client /</span><br><span class="line">--deploy-mode client</span><br><span class="line">--deploy-mode client</span><br><span class="line">--deploy-mode client</span><br><span class="line"></span><br><span class="line">--deploy-mode client</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--deploy-mode client</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--deploy-mode client</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">spark-subin -cmaster yarn --class tekkk  --deploy-mode client /op</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">spark-subin --master yarn --class tes  --deploy-mode client /op</span><br><span class="line"></span><br><span class="line">spark-subin --master yarn --class --deploy-mode clie</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>hadoop</tag>
        <tag>scala</tag>
      </tags>
  </entry>
</search>
